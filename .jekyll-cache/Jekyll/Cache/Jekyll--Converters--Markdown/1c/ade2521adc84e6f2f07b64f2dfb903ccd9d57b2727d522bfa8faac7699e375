I"”{<p class="notice--warning">ì¸í”„ëŸ°ì— ìˆëŠ” í™ì •ëª¨ êµìˆ˜ë‹˜ì˜ <strong>í™ì •ëª¨ì˜ ê²Œì„ ë§Œë“¤ê¸° ì—°ìŠµ ë¬¸ì œ íŒ¨í‚¤ì§€</strong> ê°•ì˜ë¥¼ ë“£ê³  ì •ë¦¬í•œ í•„ê¸°ì…ë‹ˆë‹¤.ğŸ˜€ <br />
<a href="https://github.com/jmhong-simulation/GameDevPracticePackage">ğŸŒœ ê³µë¶€ì— ì‚¬ìš©ëœ í™ì •ëª¨ êµìˆ˜ë‹˜ì˜ ì½”ë“œë“¤ ë³´ëŸ¬ê°€ê¸°</a> <br />
<a href="https://www.inflearn.com/course/c-2">ğŸŒœ [í™ì •ëª¨ì˜ ê²Œì„ ë§Œë“¤ê¸° ì—°ìŠµ ë¬¸ì œ íŒ¨í‚¤ì§€] ê°•ì˜ ë“¤ìœ¼ëŸ¬ ê°€ê¸°!</a></p>

<p><br /></p>

<h1 id="chapter-2-ê°ì²´-ì§€í–¥ìœ¼ë¡œ-ê°€ëŠ”-ê¸¸--ëª…ë ¹-íŒ¨í„´">Chapter 2. ê°ì²´ ì§€í–¥ìœ¼ë¡œ ê°€ëŠ” ê¸¸ : ëª…ë ¹ íŒ¨í„´</h1>
<ul>
  <li><u>ëª…ë ¹ê³¼ í–‰ìœ„</u> ìì²´ë¥¼ ê°ì²´ë¡œ ë§Œë“¬
    <ul>
      <li><u>ì¶”ìƒí™”</u> í•´ë‚˜ê°€ëŠ” ê³¼ì •</li>
    </ul>
  </li>
  <li>ìµœëŒ€í•œ ì¶”ìƒí™” í•´ì„œ ë³€ê²½ ì‚¬í•­ì´ ìƒê¸°ë”ë¼ë„ <u>ë©”ì¸ ë¬´í•œë£¨í”„ë¥¼ ê°€ì§€ëŠ” update()ëŠ” ê±´ë“œë¦´ ê³³ì´ ì—†ê²Œë” í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.</u></li>
</ul>

<p><br /></p>

<h2 id="-ì „ì²´-ì½”ë“œ-ë°-êµ¬ì¡°">ğŸ”” ì „ì²´ ì½”ë“œ ë° êµ¬ì¡°</h2>
<ol>
  <li>class Actor âœ¨
    <ul>
      <li>class MyTank</li>
    </ul>
  </li>
  <li>class Command âœ¨
    <ul>
      <li>class UpCommand</li>
      <li>class LeftCommand</li>
    </ul>
  </li>
  <li>class InputHandler âœ¨</li>
  <li>class TankExample</li>
</ol>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#pragma once
</span>
<span class="cp">#include "Game2D.h"
#include &lt;map&gt;
</span>
<span class="k">namespace</span> <span class="n">jm</span>
<span class="p">{</span>
	<span class="k">class</span> <span class="o">*</span><span class="n">Actor</span><span class="o">*</span>
	<span class="p">{</span>
	<span class="nl">public:</span>
		<span class="k">virtual</span> <span class="kt">void</span> <span class="n">moveUp</span><span class="p">(</span><span class="kt">float</span> <span class="n">dt</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>  
        <span class="k">virtual</span> <span class="kt">void</span> <span class="n">moveLeft</span><span class="p">(</span><span class="kt">float</span> <span class="n">dt</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="p">};</span>

	<span class="k">class</span> <span class="o">*</span><span class="n">Command</span><span class="o">*</span>
	<span class="p">{</span>
	<span class="nl">public:</span>
		<span class="k">virtual</span> <span class="o">~</span><span class="n">Command</span><span class="p">()</span> <span class="p">{}</span>
		<span class="k">virtual</span> <span class="kt">void</span> <span class="n">execute</span><span class="p">(</span><span class="n">Actor</span><span class="o">&amp;</span> <span class="n">actor</span><span class="p">,</span> <span class="kt">float</span> <span class="n">dt</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="p">};</span>

	<span class="k">class</span> <span class="nc">UpCommand</span> <span class="o">:</span> <span class="k">public</span> <span class="n">Command</span> 
	<span class="p">{</span>
	<span class="nl">public:</span>
		<span class="k">virtual</span> <span class="kt">void</span> <span class="n">execute</span><span class="p">(</span><span class="n">Actor</span><span class="o">&amp;</span> <span class="n">actor</span><span class="p">,</span> <span class="kt">float</span> <span class="n">dt</span><span class="p">)</span> <span class="k">override</span>
		<span class="p">{</span>
			<span class="n">actor</span><span class="p">.</span><span class="n">moveUp</span><span class="p">(</span><span class="n">dt</span><span class="p">);</span>
		<span class="p">}</span>
	<span class="p">};</span>

    <span class="k">class</span> <span class="nc">LeftCommand</span> <span class="o">:</span> <span class="k">public</span> <span class="n">Command</span> 
	<span class="p">{</span>
	<span class="nl">public:</span>
		<span class="k">virtual</span> <span class="kt">void</span> <span class="n">execute</span><span class="p">(</span><span class="n">Actor</span><span class="o">&amp;</span> <span class="n">actor</span><span class="p">,</span> <span class="kt">float</span> <span class="n">dt</span><span class="p">)</span> <span class="k">override</span>
		<span class="p">{</span>
			<span class="n">actor</span><span class="p">.</span><span class="n">moveLeft</span><span class="p">(</span><span class="n">dt</span><span class="p">);</span>
		<span class="p">}</span>
	<span class="p">};</span>

	<span class="k">class</span> <span class="nc">MyTank</span> <span class="o">:</span> <span class="k">public</span> <span class="n">Actor</span>
	<span class="p">{</span>
	<span class="nl">public:</span>
		<span class="n">vec2</span> <span class="n">center</span> <span class="o">=</span> <span class="n">vec2</span><span class="p">(</span><span class="mf">0.0</span><span class="n">f</span><span class="p">,</span> <span class="mf">0.0</span><span class="n">f</span><span class="p">);</span>
		<span class="c1">//vec2 direction = vec2(1.0f, 0.0f, 0.0f);</span>

		<span class="kt">void</span> <span class="n">moveUp</span><span class="p">(</span><span class="kt">float</span> <span class="n">dt</span><span class="p">)</span> <span class="k">override</span>
		<span class="p">{</span>
			<span class="n">center</span><span class="p">.</span><span class="n">y</span> <span class="o">+=</span> <span class="mf">0.5</span><span class="n">f</span> <span class="o">*</span> <span class="n">dt</span><span class="p">;</span>
		<span class="p">}</span>

        <span class="kt">void</span> <span class="n">moveLeft</span><span class="p">(</span><span class="kt">float</span> <span class="n">dt</span><span class="p">)</span> <span class="k">override</span>
		<span class="p">{</span>
			<span class="n">center</span><span class="p">.</span><span class="n">x</span> <span class="o">-=</span> <span class="mf">0.5</span><span class="n">f</span> <span class="o">*</span> <span class="n">dt</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="kt">void</span> <span class="n">draw</span><span class="p">()</span>
		<span class="p">{</span>
			<span class="n">beginTransformation</span><span class="p">();</span>
			<span class="p">{</span>
				<span class="n">translate</span><span class="p">(</span><span class="n">center</span><span class="p">);</span>
				<span class="n">drawFilledBox</span><span class="p">(</span><span class="n">Colors</span><span class="o">::</span><span class="n">green</span><span class="p">,</span> <span class="mf">0.25</span><span class="n">f</span><span class="p">,</span> <span class="mf">0.1</span><span class="n">f</span><span class="p">);</span> <span class="c1">// body</span>
				<span class="n">translate</span><span class="p">(</span><span class="o">-</span><span class="mf">0.02</span><span class="n">f</span><span class="p">,</span> <span class="mf">0.1</span><span class="n">f</span><span class="p">);</span>
				<span class="n">drawFilledBox</span><span class="p">(</span><span class="n">Colors</span><span class="o">::</span><span class="n">blue</span><span class="p">,</span> <span class="mf">0.15</span><span class="n">f</span><span class="p">,</span> <span class="mf">0.09</span><span class="n">f</span><span class="p">);</span> <span class="c1">// turret</span>
				<span class="n">translate</span><span class="p">(</span><span class="mf">0.15</span><span class="n">f</span><span class="p">,</span> <span class="mf">0.0</span><span class="n">f</span><span class="p">);</span>
				<span class="n">drawFilledBox</span><span class="p">(</span><span class="n">Colors</span><span class="o">::</span><span class="n">red</span><span class="p">,</span> <span class="mf">0.15</span><span class="n">f</span><span class="p">,</span> <span class="mf">0.03</span><span class="n">f</span><span class="p">);</span>  <span class="c1">// barrel</span>
			<span class="p">}</span>
			<span class="n">endTransformation</span><span class="p">();</span>
		<span class="p">}</span>
	<span class="p">};</span>

	<span class="k">class</span> <span class="nc">InputHandler</span>
	<span class="p">{</span>
	<span class="nl">public:</span>
	    <span class="n">Command</span> <span class="o">*</span> <span class="n">button_up</span> <span class="o">=</span> <span class="nb">nullptr</span><span class="p">;</span>
        <span class="n">Command</span> <span class="o">*</span> <span class="n">button_left</span> <span class="o">=</span> <span class="nb">nullptr</span><span class="p">;</span>

	    <span class="c1">//std::map&lt;int, Command *&gt; key_command_map;</span>

	    <span class="n">InputHandler</span><span class="p">()</span>
	    <span class="p">{</span>
		    <span class="n">button_up</span> <span class="o">=</span> <span class="k">new</span> <span class="n">UpCommand</span><span class="p">;</span>
            <span class="n">button_left</span> <span class="o">=</span> <span class="k">new</span> <span class="n">LeftCommand</span><span class="p">;</span>
	    <span class="p">}</span>

	    <span class="kt">void</span> <span class="n">handleInput</span><span class="p">(</span><span class="n">Game2D</span> <span class="o">&amp;</span> <span class="n">game</span><span class="p">,</span> <span class="n">Actor</span> <span class="o">&amp;</span> <span class="n">actor</span><span class="p">,</span> <span class="kt">float</span> <span class="n">dt</span><span class="p">)</span>
	    <span class="p">{</span>
		    <span class="k">if</span> <span class="p">(</span><span class="n">game</span><span class="p">.</span><span class="n">isKeyPressed</span><span class="p">(</span><span class="n">GLFW_KEY_UP</span><span class="p">))</span>  <span class="n">button_up</span><span class="o">-&gt;</span><span class="n">execute</span><span class="p">(</span><span class="n">actor</span><span class="p">,</span> <span class="n">dt</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">game</span><span class="p">.</span><span class="n">isKeyPressed</span><span class="p">(</span><span class="n">GLFW_KEY_LEFT</span><span class="p">))</span>  <span class="n">button_left</span><span class="o">-&gt;</span><span class="n">execute</span><span class="p">(</span><span class="n">actor</span><span class="p">,</span> <span class="n">dt</span><span class="p">);</span>

			<span class="cm">/*for (auto &amp; m : key_command_map)
			{
				if (game.isKeyPressed(m.first)) m.second-&gt;execute(actor, dt);
			}*/</span>
		<span class="p">}</span>
	<span class="p">};</span>

	<span class="k">class</span> <span class="nc">TankExample</span> <span class="o">:</span> <span class="k">public</span> <span class="n">Game2D</span>
	<span class="p">{</span>
	<span class="nl">public:</span>
		<span class="n">MyTank</span> <span class="n">tank</span><span class="p">;</span>

		<span class="n">InputHandler</span> <span class="n">input_handler</span><span class="p">;</span>

	<span class="nl">public:</span>
		<span class="n">TankExample</span><span class="p">()</span>
			<span class="o">:</span> <span class="n">Game2D</span><span class="p">(</span><span class="s">"This is my digital canvas!"</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="mi">768</span><span class="p">,</span> <span class="nb">false</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="c1">//key mapping</span>
			<span class="c1">//input_handler.key_command_map[GLFW_KEY_UP] = new UpCommand;</span>
		<span class="p">}</span>

		<span class="o">~</span><span class="n">TankExample</span><span class="p">()</span>
		<span class="p">{</span>
		<span class="p">}</span>

		<span class="kt">void</span> <span class="n">update</span><span class="p">()</span> <span class="k">override</span>
		<span class="p">{</span>
			<span class="c1">// move tank</span>
			<span class="cm">/*if (isKeyPressed(GLFW_KEY_LEFT))	tank.center.x -= 0.5f * getTimeStep(); // ì›ë˜ ì´ë ‡ê²Œ êµ¬í˜„í–ˆëŠ”ë° ì´ë ‡ê²Œ í•˜ë©´
			if (isKeyPressed(GLFW_KEY_RIGHT))	tank.center.x += 0.5f * getTimeStep();  // íƒ±í¬ê°€ ì•„ë‹Œ ì „íˆ¬ê¸°ë¡œ ë°”ê¾¸ê³ ì‹¶ë‹¤ë©´
			if (isKeyPressed(GLFW_KEY_UP))		tank.center.y += 0.5f * getTimeStep();  // ì½”ë“œë¥¼ ì „ë¶€ êµì²´í•´ì•¼í•˜ëŠ” ë¶ˆí¸í•¨ æœ‰
			if (isKeyPressed(GLFW_KEY_DOWN))	tank.center.y -= 0.5f * getTimeStep();*/</span> 

			<span class="n">input_handler</span><span class="p">.</span><span class="n">handleInput</span><span class="p">(</span><span class="o">*</span><span class="k">this</span><span class="p">,</span> <span class="n">tank</span><span class="p">,</span> <span class="n">getTimeStep</span><span class="p">());</span>

			<span class="c1">// rendering</span>
			<span class="n">tank</span><span class="p">.</span><span class="n">draw</span><span class="p">();</span>
		<span class="p">}</span>
	<span class="p">};</span>
<span class="p">}</span>
</code></pre></div></div>

<p><br /></p>

<h2 id="-actor-í´ë˜ìŠ¤">ğŸ”” Actor í´ë˜ìŠ¤</h2>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Actor</span>
<span class="p">{</span>
<span class="nl">public:</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="n">moveUp</span><span class="p">(</span><span class="kt">float</span> <span class="n">dt</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>  
    <span class="k">virtual</span> <span class="kt">void</span> <span class="n">moveLeft</span><span class="p">(</span><span class="kt">float</span> <span class="n">dt</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">};</span>
</code></pre></div></div>
<ul>
  <li><u>Actor ë“¤ì´ ëª¨ë‘ ê¸°ë³¸ì ìœ¼ë¡œ ê°€ì§€ëŠ” ê¸°ëŠ¥</u> ë“¤ë§Œ ë¬¶ì–´ì„œ <code class="language-plaintext highlighter-rouge">class Actor</code>ë¡œ ë§Œë“¤ê³  ì´ë¥¼ ê°ê° ìƒì†ë°›ê²Œ í•œë‹¤.
    <ul>
      <li><code class="language-plaintext highlighter-rouge">Actor</code> ğŸ‘‰ <em>ex) <u>íƒ±í¬</u>, ìì „ê±°, ë¹„í–‰ê¸° ë“±ë“±</em>
        <ul>
          <li>íƒ±í¬ í´ë˜ìŠ¤, ìì „ê±° í´ë˜ìŠ¤ ë“±ë“± ëª¨ë‘ Actorë¥¼ ìƒì†í•˜ëŠ” ìì‹í´ë˜ìŠ¤ì´ë‹¤.</li>
        </ul>
      </li>
      <li><code class="language-plaintext highlighter-rouge">Actor</code>ë“¤ì´ ê¸°ë³¸ì ìœ¼ë¡œ ê°€ì§€ëŠ” ê¸°ëŠ¥
        <ul>
          <li><em>ex)  moveUp(), moveDown(), stop(), moveLeft(), moveRight ë“±ë“±</em></li>
          <li><u>ìˆœìˆ˜ ê°€ìƒ í•¨ìˆ˜</u>ë¡œ ë§Œë“¤ì–´ ìì‹ í´ë˜ìŠ¤ë“¤ì´ ê°ê° ì˜¤ë²„ë¼ì´ë”© í•˜ë„ë¡ ê°•ì œí•œë‹¤.
            <ul>
              <li>ê³µí†µì ì¸ ê¸°ëŠ¥ì´ë¼ë„ ê·¸ ë‚´ìš©ì€ ì–´ë–¤ ì¢…ë¥˜ì˜ ì•¡í„°ëƒì— ë”°ë¼ ë‹¤ë¥´ê¸° ë•Œë¬¸
                <ul>
                  <li>ì˜ˆë¥¼ ë“¤ì–´ íƒ±í¬ì™€ ë¹„í–‰ê¸° ë‘˜ ë‹¤ moveUpì´ë¼ëŠ” ê¸°ëŠ¥ì„ ê°€ì§€ì§€ë§Œ ì–¼ë§Œí¼ y ì¢Œí‘œë¡œ ì›€ì§ì¼ì§€ ë“±ë“± ë‚´ìš©ì€ ê°ì ë‹¤ ë‹¤ë¥´ë‹¤.</li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p><br /></p>

<h2 id="-mytank-í´ë˜ìŠ¤">ğŸ”” MyTank í´ë˜ìŠ¤</h2>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">MyTank</span> <span class="o">:</span> <span class="k">public</span> <span class="n">Actor</span>
<span class="p">{</span>
<span class="nl">public:</span>
	<span class="n">vec2</span> <span class="n">center</span> <span class="o">=</span> <span class="n">vec2</span><span class="p">(</span><span class="mf">0.0</span><span class="n">f</span><span class="p">,</span> <span class="mf">0.0</span><span class="n">f</span><span class="p">);</span>

	<span class="kt">void</span> <span class="n">moveUp</span><span class="p">(</span><span class="kt">float</span> <span class="n">dt</span><span class="p">)</span> <span class="k">override</span>
	<span class="p">{</span>
		<span class="n">center</span><span class="p">.</span><span class="n">y</span> <span class="o">+=</span> <span class="mf">0.5</span><span class="n">f</span> <span class="o">*</span> <span class="n">dt</span><span class="p">;</span>  
	<span class="p">}</span>

    <span class="kt">void</span> <span class="n">moveLeft</span><span class="p">(</span><span class="kt">float</span> <span class="n">dt</span><span class="p">)</span> <span class="k">override</span>
	<span class="p">{</span>
		<span class="n">center</span><span class="p">.</span><span class="n">x</span> <span class="o">-=</span> <span class="mf">0.5</span><span class="n">f</span> <span class="o">*</span> <span class="n">dt</span><span class="p">;</span>  
	<span class="p">}</span>

	<span class="kt">void</span> <span class="n">draw</span><span class="p">()</span> <span class="p">{</span> <span class="p">.....</span> <span class="p">}</span>
<span class="p">};</span>
</code></pre></div></div>
<ul>
  <li>Actor ìƒì†
    <ul>
      <li>ëª¨ë“  Acotrë“¤ì´ ê°€ì§€ëŠ” ê¸°ë³¸ì ì¸ ê¸°ëŠ¥ì¸ moveUp, moveLeftë¥¼ <code class="language-plaintext highlighter-rouge">Tank</code>ì˜ ê°œì„±ì„ ì‚´ë ¤ ì˜¤ë²„ë¼ì´ë”© í•œë‹¤.</li>
    </ul>
  </li>
</ul>

<p><br /></p>

<h2 id="-command-í´ë˜ìŠ¤">ğŸ”” Command í´ë˜ìŠ¤</h2>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Command</span>
<span class="p">{</span>
<span class="nl">public:</span>
	<span class="k">virtual</span> <span class="o">~</span><span class="n">Command</span><span class="p">()</span> <span class="p">{}</span>   <span class="c1">// ê°€ìƒì†Œë©¸ì</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="n">execute</span><span class="p">(</span><span class="n">Actor</span><span class="o">&amp;</span> <span class="n">actor</span><span class="p">,</span> <span class="kt">float</span> <span class="n">dt</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">};</span>
</code></pre></div></div>

<ul>
  <li><u>ê°€ìƒ ì†Œë©¸ì</u>ë¥¼ ì“´ë‹¤.
    <ul>
      <li>ìì‹ Command ë“¤ì€ ê°ì ë‚˜ë¦„ì˜ ì†Œë©¸ìë¥¼ í˜¸ì¶œí•˜ë„ë¡</li>
    </ul>
  </li>
  <li><u>ë¬´ì–¸ê°€ë¥¼ ìˆ˜í–‰í•˜ëŠ” ì¼</u>ì„ í•œë‹¤.
    <ul>
      <li>UpCommand, DownCommand ë“±ë“± ìˆ˜í–‰í•˜ëŠ” ì¼ë„ ì¢…ë¥˜ê°€ ë‹¤ì–‘í•˜ë‹¤.</li>
      <li>ê°ì ì–´ë–¤ ì¼ì„ ìˆ˜í–‰í• ì§€ëŠ” <strong><em>execute í•¨ìˆ˜</em></strong> ë¥¼ ì˜¤ë²„ë¼ì´ë”© í•˜ì—¬ ë‚´ìš©ì„ ë‹¤ë¥´ê²Œ í•˜ë©´ ë¨
        <ul>
          <li>ìˆœìˆ˜ ê°€ìƒí•¨ìˆ˜ì´ë¯€ë¡œ ë°˜ë“œì‹œ ì˜¤ë²„ë¼ì´ë”© í•´ì•¼ í•¨
            <ul>
              <li><code class="language-plaintext highlighter-rouge">Actor</code>íƒ€ì…ì˜ <u>ì°¸ì¡° ë ˆí¼ëŸ°ìŠ¤ë¥¼ ë°›ëŠ”ë‹¤.</u></li>
            </ul>
          </li>
        </ul>
      </li>
      <li><strong>ë‹¤í˜•ì„±</strong> ë° <strong>ì¶”ìƒí™”</strong>
        <ul>
          <li><em>virtual void execute(<u>Actor&amp; actor</u>, float dt) = 0;</em>
            <ul>
              <li>ì–´ë– í•œ ì¢…ë¥˜ì˜ ìì‹ Actor ë“¤ì´ ë“¤ì–´ì˜¤ë˜ì§€ ë¶€ëª¨ì¸ <code class="language-plaintext highlighter-rouge">Actor</code> í•˜ë‚˜ë¡œ ë‹¤ ì°¸ì¡°í•  ìˆ˜ ìˆë„ë¡.</li>
              <li>ì–´ë– í•œ ì¢…ë¥˜ì˜ ìì‹ Actor ë“¤ì´ ë“¤ì–´ì˜¤ë˜ì§€ ì´ Commandë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡.</li>
              <li><code class="language-plaintext highlighter-rouge">Actor&amp; actor</code> ë³€ìˆ˜ í•˜ë‚˜ì— <code class="language-plaintext highlighter-rouge">Tank</code>, <code class="language-plaintext highlighter-rouge">AirPlane</code> ê°ì²´ ë‹¤ ì°¸ì¡° ê°€ëŠ¥.</li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p><br /></p>

<h2 id="-upcommand-í´ë˜ìŠ¤">ğŸ”” UpCommand í´ë˜ìŠ¤</h2>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">UpCommand</span> <span class="o">:</span> <span class="k">public</span> <span class="n">Command</span> 
<span class="p">{</span>
<span class="nl">public:</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="n">execute</span><span class="p">(</span><span class="n">Actor</span><span class="o">&amp;</span> <span class="n">actor</span><span class="p">,</span> <span class="kt">float</span> <span class="n">dt</span><span class="p">)</span> <span class="k">override</span>
	<span class="p">{</span>
		<span class="n">actor</span><span class="p">.</span><span class="n">moveUp</span><span class="p">(</span><span class="n">dt</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">};</span>
</code></pre></div></div>
<ul>
  <li>Command ìƒì†
    <ul>
      <li><u>ì–´ë–¤ ì¼ì„ ìˆ˜í–‰í•  ê²ƒì¸ì§€</u> ë¶€ëª¨ì¸ Command í´ë˜ìŠ¤ì˜ <strong><em>execute í•¨ìˆ˜</em></strong> ë¥¼ ì˜¤ë²„ë¼ì´ë”© í•œë‹¤.
        <ul>
          <li>UpCommand í´ë˜ìŠ¤ëŠ” Actorì˜ moveUp ê¸°ëŠ¥ì„ ìˆ˜í–‰í•˜ëŠ” í´ë˜ìŠ¤.</li>
        </ul>
      </li>
      <li>ì–´ë–¤ ì¢…ë¥˜ì˜ Actorì´ëƒì— ë”°ë¼ ë‹¤ë¥¸ moveUpì´ í˜¸ì¶œë  ê²ƒì´ë‹¤.
        <ul>
          <li><em>Actor&amp; actor</em> ì— íƒ±í¬ê°€ ë“¤ì–´ì˜¤ë©´ íƒ±í¬ë§Œì˜ moveUpì´ ë“¤ì–´ì˜¬ ê²ƒ.
            <ul>
              <li>íƒ±í¬ë§Œì˜ moveUpì€ Actorë¥¼ ìƒì†ë°›ëŠ” íƒ±í¬ í´ë˜ìŠ¤ì—ì„œ ì˜¤ë²„ë¼ì´ë”©.</li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p><br /></p>

<h2 id="-leftcommand-í´ë˜ìŠ¤">ğŸ”” LeftCommand í´ë˜ìŠ¤</h2>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">LeftCommand</span> <span class="o">:</span> <span class="k">public</span> <span class="n">Command</span> 
<span class="p">{</span>
<span class="nl">public:</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="n">execute</span><span class="p">(</span><span class="n">Actor</span><span class="o">&amp;</span> <span class="n">actor</span><span class="p">,</span> <span class="kt">float</span> <span class="n">dt</span><span class="p">)</span> <span class="k">override</span>
	<span class="p">{</span>
		<span class="n">actor</span><span class="p">.</span><span class="n">moveLeft</span><span class="p">(</span><span class="n">dt</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">};</span>
</code></pre></div></div>
<ul>
  <li>Command ìƒì†
    <ul>
      <li><u>ì–´ë–¤ ì¼ì„ ìˆ˜í–‰í•  ê²ƒì¸ì§€</u> ë¶€ëª¨ì¸ Command í´ë˜ìŠ¤ì˜ <strong><em>execute í•¨ìˆ˜</em></strong> ë¥¼ ì˜¤ë²„ë¼ì´ë”© í•œë‹¤.
        <ul>
          <li>LeftCommand í´ë˜ìŠ¤ëŠ” Actorì˜ moveLeft ê¸°ëŠ¥ì„ ìˆ˜í–‰í•˜ëŠ” í´ë˜ìŠ¤.</li>
        </ul>
      </li>
      <li>ì–´ë–¤ ì¢…ë¥˜ì˜ Actorì´ëƒì— ë”°ë¼ ë‹¤ë¥¸ moveLeftì´ í˜¸ì¶œë  ê²ƒì´ë‹¤.
        <ul>
          <li><em>Actor&amp; actor</em> ì— íƒ±í¬ê°€ ë“¤ì–´ì˜¤ë©´ íƒ±í¬ë§Œì˜ moveLeftì´ ë“¤ì–´ì˜¬ ê²ƒ.
            <ul>
              <li>íƒ±í¬ë§Œì˜ moveUpì€ Actorë¥¼ ìƒì†ë°›ëŠ” íƒ±í¬ í´ë˜ìŠ¤ì—ì„œ ì˜¤ë²„ë¼ì´ë”©.</li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p><br /></p>

<h2 id="-inputhandler-í´ë˜ìŠ¤">ğŸ”” InputHandler í´ë˜ìŠ¤</h2>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">InputHandler</span>
<span class="p">{</span>
<span class="nl">public:</span>
	<span class="n">Command</span> <span class="o">*</span> <span class="n">button_up</span> <span class="o">=</span> <span class="nb">nullptr</span><span class="p">;</span>
    <span class="n">Command</span> <span class="o">*</span> <span class="n">button_left</span> <span class="o">=</span> <span class="nb">nullptr</span><span class="p">;</span>

	<span class="c1">//std::map&lt;int, Command *&gt; key_command_map;  intì—” í‚¤ë³´ë“œ ë²ˆí˜¸ê°€ ë“¤ì–´ê°„ë‹¤.</span>

	<span class="n">InputHandler</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="n">button_up</span> <span class="o">=</span> <span class="k">new</span> <span class="n">UpCommand</span><span class="p">;</span>
        <span class="n">button_left</span> <span class="o">=</span> <span class="k">new</span> <span class="n">LeftCommand</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="kt">void</span> <span class="n">handleInput</span><span class="p">(</span><span class="n">Game2D</span> <span class="o">&amp;</span> <span class="n">game</span><span class="p">,</span> <span class="n">Actor</span> <span class="o">&amp;</span> <span class="n">actor</span><span class="p">,</span> <span class="kt">float</span> <span class="n">dt</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">game</span><span class="p">.</span><span class="n">isKeyPressed</span><span class="p">(</span><span class="n">GLFW_KEY_UP</span><span class="p">))</span>  <span class="n">button_up</span><span class="o">-&gt;</span><span class="n">execute</span><span class="p">(</span><span class="n">actor</span><span class="p">,</span> <span class="n">dt</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">game</span><span class="p">.</span><span class="n">isKeyPressed</span><span class="p">(</span><span class="n">GLFW_KEY_LEFT</span><span class="p">))</span>  <span class="n">button_left</span><span class="o">-&gt;</span><span class="n">execute</span><span class="p">(</span><span class="n">actor</span><span class="p">,</span> <span class="n">dt</span><span class="p">);</span>

		<span class="cm">/*

        for (auto &amp; m : key_command_map)
		{
			if (game.isKeyPressed(m.first)) m.second-&gt;execute(actor, dt);
		}

        */</span>
	<span class="p">}</span>
<span class="p">};</span>
</code></pre></div></div>

<ul>
  <li><u>í‚¤ë³´ë“œ ì…ë ¥</u>ì„ ê°ì§€í•˜ëŠ” í´ë˜ìŠ¤
    <ul>
      <li>í‚¤ë³´ë“œ ì…ë ¥ ë˜í•œ update()ì—ì„œ ì•ˆë°›ê²Œ ë”°ë¡œ ì¶”ìƒí™”í•˜ì—¬ ëºë‹¤.</li>
      <li>update()ì—ì„  <code class="language-plaintext highlighter-rouge">InputHandler</code>ì˜ <em>void handleInput(Game2D &amp; game, Actor &amp; actor, float dt)</em> í•¨ìˆ˜ë§Œ ì‹¤í–‰í•œë‹¤.</li>
    </ul>
  </li>
  <li><em>Game2D &amp; game</em>
    <ul>
      <li>isKeyPressed í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì—</li>
    </ul>
  </li>
  <li><em>Actor &amp; actor</em>
    <ul>
      <li>ì–´ë–¤ ì¢…ë¥˜ì˜ ì•¡í„°ë¥¼ ê¸°ëŠ¥í•˜ê²Œ í• ì§€</li>
    </ul>
  </li>
  <li><em>button_up</em>
    <ul>
      <li>Command íƒ€ì…ì¸ ë¶€ëª¨í˜• í¬ì¸í„°.
        <ul>
          <li>Commandì˜ ìì‹ì¸ UpCommand ê°ì²´ë¥¼ ì°¸ì¡°í•œë‹¤.</li>
        </ul>
      </li>
      <li>button_upì— ë¬´ì—‡ì´ ë“¤ì–´ê°ˆì§€ëŠ” ê·¸ë•Œ ê·¸ë•Œ ë°”ë€” ìˆ˜ ìˆë‹¤. ê²Œì„ ì§„í–‰ ì¤‘ì—ë„.
        <ul>
          <li>ì˜ˆë¥¼ ë“¤ì–´ í”Œë ˆì´ì–´ê°€ ìˆ ì— ì·¨í•´ì„œ ìœ„ ì•„ë˜ê°€ ë’¤ì§‘íˆëŠ” ì—°ì¶œì„ í•˜ê³  ì‹¶ë‹¤ë©´ button_up = new DownCommand,  button_down = new UpCommand  ì´ë ‡ê²Œ ë’¤ì§‘ì„ ìˆ˜ ìˆê² ì§€.</li>
        </ul>
      </li>
    </ul>
  </li>
  <li><em>button_left</em>
    <ul>
      <li>Command íƒ€ì…ì¸ ë¶€ëª¨í˜• í¬ì¸í„°.
        <ul>
          <li>Commandì˜ ìì‹ì¸ LeftCommand ê°ì²´ë¥¼ ì°¸ì¡°í•œë‹¤.</li>
        </ul>
      </li>
      <li>button_leftì— ë¬´ì—‡ì´ ë“¤ì–´ê°ˆì§€ëŠ” ê·¸ë•Œ ê·¸ë•Œ ë°”ë€” ìˆ˜ ìˆë‹¤. ê²Œì„ ì§„í–‰ ì¤‘ì—ë„.</li>
    </ul>
  </li>
  <li><em>void handleInput(Game2D &amp; game, Actor &amp; actor, float dt)</em>
    <ul>
      <li>í‚¤ë³´ë“œ ì…ë ¥ì— ë”°ë¼ ì–´ë–¤ Actorë¥¼ ì–´ë–¤ ê¸°ëŠ¥ì„ ì‹œí‚¬ì§€.</li>
      <li>button_up-&gt;execute(actor, dt);
        <ul>
          <li>executeì€ ê°€ìƒí•¨ìˆ˜ì´ë¯€ë¡œ button_upì´ ì°¸ì¡°í•˜ëŠ” ìì‹ ê°ì²´ì¸ UpCommandì˜ executeê°€ ì‹¤í–‰ëœë‹¤.</li>
          <li>UpCommandì˜ executeëŠ” moveUpì„ í˜¸ì¶œí•˜ë¯€ë¡œ</li>
          <li>í•´ë‹¹ Actorì´ ì˜¤ë²„ë¼ì´ë”© í•œ moveUpì´ í˜¸ì¶œëœë‹¤.</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<blockquote>
  <p>ë¯¸ë¦¬ std::mapì— <u>í‚¤ë³´ë“œ ë²ˆí˜¸</u>ì™€ <u>Commandì˜ ìì‹ë“¤ì„ ì¢…ë¥˜ë³„ë¡œ</u> ë§µí•‘ì‹œì¼œë†“ê³  forë¬¸ ëŒë ¤ ì‹¤í–‰í•˜ëŠ” ë°©ë²•ë„ ìˆë‹¤. ifë¬¸ì˜ ë‚˜ì—´ë³´ë‹¨ ë” í¸ë¦¬í• ë“¯.</p>
</blockquote>

<p><br /></p>

<h2 id="tankexample">TankExample</h2>

<ul>
  <li>input_handler.handleInput(*this, tank, getTimeStep());
    <ul>
      <li>ì´ í•¨ìˆ˜ ì•ˆì—ì„œ í‚¤ë³´ë“œ ì…ë ¥ì— ë”°ë¥¸ í•¨ìˆ˜ ì²˜ë¦¬ë¥¼ ë‹¤ í•´ì¤„ ê²ƒ.</li>
      <li><em>*this</em>
        <ul>
          <li>ë¶€ëª¨ì¸ Game2D íƒ€ì…ìœ¼ë¡œ TankExample ê°ì²´ë¥¼ ì°¸ì¡°</li>
          <li>í‚¤ë³´ë“œ ì…ë ¥ì„ ë°›ëŠ” í•¨ìˆ˜ë¥¼ ì“°ê¸° ìœ„í•´.</li>
        </ul>
      </li>
      <li><em>tank</em>
        <ul>
          <li>íƒ±í¬ Actor.</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<blockquote>
  <p>ì¤‘ìš”í•œ ë©”ì¸ ë£¨í”„ í•¨ìˆ˜ì¸ update()ëŠ” ìˆ˜ì •í• ê²Œ ìƒê¸°ë”ë¼ë„ ê±´ë“œë¦´ ì¼ì´ ì—†ê²Œ í•´ì•¼í•œë‹¤. ë§Œì•½ ìë™ì°¨ë¡œ ë³€ê²½í•˜ê³  ì‹¶ë‹¤ë©´ input_handler.handleInput(*this, <strong><u>car</u></strong>, getTimeStep()) ë§Œ ë°”ê¿”ì£¼ë©´ ë¨.</p>
</blockquote>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">TankExample</span> <span class="o">:</span> <span class="k">public</span> <span class="n">Game2D</span>
	<span class="p">{</span>
	<span class="nl">public:</span>
		<span class="n">MyTank</span> <span class="n">tank</span><span class="p">;</span>

		<span class="n">InputHandler</span> <span class="n">input_handler</span><span class="p">;</span>

	<span class="nl">public:</span>
		<span class="n">TankExample</span><span class="p">()</span>
			<span class="o">:</span> <span class="n">Game2D</span><span class="p">(</span><span class="s">"This is my digital canvas!"</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="mi">768</span><span class="p">,</span> <span class="nb">false</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="c1">//key mapping</span>
			<span class="c1">//input_handler.key_command_map[GLFW_KEY_UP] = new UpCommand;</span>
		<span class="p">}</span>

		<span class="o">~</span><span class="n">TankExample</span><span class="p">()</span>
		<span class="p">{</span>
		<span class="p">}</span>

		<span class="kt">void</span> <span class="n">update</span><span class="p">()</span> <span class="k">override</span>
		<span class="p">{</span>
			<span class="n">input_handler</span><span class="p">.</span><span class="n">handleInput</span><span class="p">(</span><span class="o">*</span><span class="k">this</span><span class="p">,</span> <span class="n">tank</span><span class="p">,</span> <span class="n">getTimeStep</span><span class="p">());</span>
			<span class="c1">// rendering</span>
			<span class="n">tank</span><span class="p">.</span><span class="n">draw</span><span class="p">();</span>
		<span class="p">}</span>
	<span class="p">};</span>
</code></pre></div></div>

<p><br /></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ğŸŒœ ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ì˜¤ë¥˜ë‚˜ í‹€ë¦° ë¶€ë¶„ì´ ìˆì„ ê²½ìš° 
ì–¸ì œë“ ì§€ ëŒ“ê¸€ í˜¹ì€ ë©”ì¼ë¡œ ì§€ì í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ˜„
</code></pre></div></div>

<p><a href="#" class="btn btn--primary align-right">ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°</a></p>
:ET
I"Á<p class="notice--warning">ì¸í”„ëŸ°ì— ìˆëŠ” í™ì •ëª¨ êµìˆ˜ë‹˜ì˜ <strong>í™ì •ëª¨ì˜ ê²Œì„ ë§Œë“¤ê¸° ì—°ìŠµ ë¬¸ì œ íŒ¨í‚¤ì§€</strong> ê°•ì˜ë¥¼ ë“£ê³  ì •ë¦¬í•œ í•„ê¸°ì…ë‹ˆë‹¤.ğŸ˜€ <br />
<a href="https://github.com/jmhong-simulation/GameDevPracticePackage">ğŸŒœ ê³µë¶€ì— ì‚¬ìš©ëœ í™ì •ëª¨ êµìˆ˜ë‹˜ì˜ ì½”ë“œë“¤ ë³´ëŸ¬ê°€ê¸°</a> <br />
<a href="https://www.inflearn.com/course/c-2">ğŸŒœ [í™ì •ëª¨ì˜ ê²Œì„ ë§Œë“¤ê¸° ì—°ìŠµ ë¬¸ì œ íŒ¨í‚¤ì§€] ê°•ì˜ ë“¤ìœ¼ëŸ¬ ê°€ê¸°!</a></p>

<p><br /></p>

<h1 id="chapter-3-ê²Œì„-ë¬¼ë¦¬-ë§›ë³´ê¸°--ê³µ-íŠ•ê¸°ê¸°">Chapter 3. ê²Œì„ ë¬¼ë¦¬ ë§›ë³´ê¸° : ê³µ íŠ•ê¸°ê¸°</h1>

<h2 id="-ì „ì²´-ì½”ë“œ">ğŸ”” ì „ì²´ ì½”ë“œ</h2>

<p>ğŸ“œRigidCircle í´ë˜ìŠ¤</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">ê³µ</code>
    <ul>
      <li><em>ë©¤ë²„</em>
        <ul>
          <li>pos ğŸ‘‰ í˜„ì¬ ìœ„ì¹˜</li>
          <li>vel ğŸ‘‰ í˜„ì¬ ì†ë„</li>
          <li>radius ğŸ‘‰ ê³µì˜ ë°˜ì§€ë¦„</li>
        </ul>
      </li>
      <li>âœ¨ <em><u>void update(const float &amp; dt)</u></em> âœ¨
        <ul>
          <li>ê³µì˜ ìœ„ì¹˜ì™€ ì†ë„ë¥¼ ê°±ì‹ í•˜ëŠ” í•¨ìˆ˜</li>
          <li>ì•„ë˜ì—ì„œ êµ¬í˜„í•  ê²ƒ</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p>ğŸ“œExample í´ë˜ìŠ¤</p>
<ul>
  <li><em>RigidCircle rigid_body</em>
    <ul>
      <li>ê³µ ê°ì²´ ìƒì„±</li>
    </ul>
  </li>
  <li><em>void update() override</em>
    <ul>
      <li>ë§¤ í”„ë ˆì„ ì‹¤í–‰ë¨ (Game2Dì˜ update ì˜¤ë²„ë¼ì´ë”©)
        <ol>
          <li>ê³µì˜ ìœ„ì¹˜ &amp; ì†ë„ ì—…ë°ì´íŠ¸
            <ul>
              <li><em>rigid_body.update(getTimeStep() * 0.1f);</em></li>
              <li>RigidCircle ê³µ ê°ì²´ì˜ <em>updateí•¨ìˆ˜</em> í˜¸ì¶œ</li>
            </ul>
          </li>
          <li>ë²½ ê·¸ë¦¬ê¸°
            <ul>
              <li><em>drawWall()</em></li>
            </ul>
          </li>
          <li>ê³µ ê·¸ë¦¬ê¸°
            <ul>
              <li><em>rigid_body.draw();</em></li>
              <li>RigidCircle ê³µ ê°ì²´ì˜ <em>draw</em> í˜¸ì¶œ</li>
            </ul>
          </li>
          <li>Rí‚¤ ëˆ„ë¥´ë©´ ë¦¬ì…‹
            <ul>
              <li><em>if (isKeyPressedAndReleased(GLFW_KEY_R)) reset();</em></li>
              <li><em>void reset</em> ê³µì˜ ìœ„ì¹˜ì™€ ì†ë„ë¥¼ ì´ˆê¸°í™”</li>
            </ul>
          </li>
        </ol>
      </li>
    </ul>
  </li>
</ul>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include "Game2D.h"
#include "Examples/PrimitivesGallery.h"
#include "RandomNumberGenerator.h"
#include &lt;vector&gt;
#include &lt;memory&gt;
</span>
<span class="k">namespace</span> <span class="n">jm</span>
<span class="p">{</span>
	<span class="k">class</span> <span class="nc">RigidCircle</span>
	<span class="p">{</span>
	<span class="nl">public:</span>
		<span class="n">vec2</span> <span class="n">pos</span><span class="p">;</span>  
		<span class="n">vec2</span> <span class="n">vel</span><span class="p">;</span>  
		<span class="k">const</span> <span class="kt">float</span> <span class="n">radius</span> <span class="o">=</span> <span class="mf">0.1</span><span class="n">f</span><span class="p">;</span>

		<span class="kt">void</span> <span class="n">draw</span><span class="p">()</span> <span class="c1">// ì› ê·¸ë¦¬ê¸°</span>
		<span class="p">{</span>
			<span class="n">beginTransformation</span><span class="p">();</span>
			<span class="p">{</span>
				<span class="n">translate</span><span class="p">(</span><span class="n">pos</span><span class="p">);</span>
				<span class="n">drawFilledCircle</span><span class="p">(</span><span class="n">Colors</span><span class="o">::</span><span class="n">hotpink</span><span class="p">,</span> <span class="n">radius</span> <span class="o">-</span> <span class="mf">1e-3</span><span class="n">f</span><span class="p">);</span> 
				<span class="n">setLineWidth</span><span class="p">(</span><span class="mf">2.0</span><span class="n">f</span><span class="p">);</span>
				<span class="n">drawWiredCircle</span><span class="p">(</span><span class="n">Colors</span><span class="o">::</span><span class="n">black</span><span class="p">,</span> <span class="n">radius</span><span class="p">);</span> 
			<span class="p">}</span>
			<span class="n">endTransformation</span><span class="p">();</span>
		<span class="p">}</span>

		<span class="kt">void</span> <span class="n">update</span><span class="p">(</span><span class="k">const</span> <span class="kt">float</span> <span class="o">&amp;</span> <span class="n">dt</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="c1">// numerical integration ìˆ˜ì¹˜ ì ë¶„</span>
			<span class="c1">// wall collision, friction ë²½ì— ë¶€ë”ªì¹˜ë©´ íŠ•ê²¨ë‚´ê¸°, ë§ˆì°°ë ¥</span>
		<span class="p">}</span>
	<span class="p">};</span>

	<span class="k">class</span> <span class="nc">Example</span> <span class="o">:</span> <span class="k">public</span> <span class="n">Game2D</span>
	<span class="p">{</span>
	<span class="nl">public:</span>
		<span class="n">RigidCircle</span> <span class="n">rigid_body</span><span class="p">;</span>  <span class="c1">// RigidCircle ê°ì²´</span>

		<span class="n">Example</span><span class="p">()</span>
			<span class="o">:</span> <span class="n">Game2D</span><span class="p">()</span>
		<span class="p">{</span>
			<span class="n">reset</span><span class="p">();</span>
		<span class="p">}</span>

		<span class="kt">void</span> <span class="n">reset</span><span class="p">()</span>
		<span class="p">{</span>
			<span class="c1">// Initial position and velocity</span>
			<span class="n">rigid_body</span><span class="p">.</span><span class="n">pos</span> <span class="o">=</span> <span class="n">vec2</span><span class="p">(</span><span class="o">-</span><span class="mf">0.8</span><span class="n">f</span><span class="p">,</span> <span class="mf">0.3</span><span class="n">f</span><span class="p">);</span>
			<span class="n">rigid_body</span><span class="p">.</span><span class="n">vel</span> <span class="o">=</span> <span class="n">vec2</span><span class="p">(</span><span class="mf">10.0</span><span class="n">f</span><span class="p">,</span> <span class="mf">0.0</span><span class="n">f</span><span class="p">);</span>
		<span class="p">}</span>

		<span class="kt">void</span> <span class="n">drawWall</span><span class="p">()</span>
		<span class="p">{</span>
			<span class="n">setLineWidth</span><span class="p">(</span><span class="mf">5.0</span><span class="n">f</span><span class="p">);</span>
			<span class="n">drawLine</span><span class="p">(</span><span class="n">Colors</span><span class="o">::</span><span class="n">blue</span><span class="p">,</span> <span class="p">{</span> <span class="o">-</span><span class="mf">1.0</span><span class="n">f</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="n">f</span> <span class="p">},</span> <span class="n">Colors</span><span class="o">::</span><span class="n">blue</span><span class="p">,</span> <span class="p">{</span> <span class="mf">1.0</span><span class="n">f</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="n">f</span> <span class="p">});</span>
			<span class="n">drawLine</span><span class="p">(</span><span class="n">Colors</span><span class="o">::</span><span class="n">blue</span><span class="p">,</span> <span class="p">{</span> <span class="mf">1.0</span><span class="n">f</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="n">f</span> <span class="p">},</span> <span class="n">Colors</span><span class="o">::</span><span class="n">blue</span><span class="p">,</span> <span class="p">{</span> <span class="mf">1.0</span><span class="n">f</span><span class="p">,</span> <span class="mf">1.0</span><span class="n">f</span> <span class="p">});</span>
			<span class="n">drawLine</span><span class="p">(</span><span class="n">Colors</span><span class="o">::</span><span class="n">blue</span><span class="p">,</span> <span class="p">{</span> <span class="o">-</span><span class="mf">1.0</span><span class="n">f</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="n">f</span> <span class="p">},</span> <span class="n">Colors</span><span class="o">::</span><span class="n">blue</span><span class="p">,</span> <span class="p">{</span> <span class="o">-</span><span class="mf">1.0</span><span class="n">f</span><span class="p">,</span> <span class="mf">1.0</span><span class="n">f</span> <span class="p">});</span>
		<span class="p">}</span>

		<span class="kt">void</span> <span class="n">update</span><span class="p">()</span> <span class="k">override</span>
		<span class="p">{</span>
			<span class="c1">// physics update</span>
			<span class="n">rigid_body</span><span class="p">.</span><span class="n">update</span><span class="p">(</span><span class="n">getTimeStep</span><span class="p">()</span> <span class="o">*</span> <span class="mf">0.1</span><span class="n">f</span><span class="p">);</span>   <span class="c1">// 0.1f ì€ ì• ë‹ˆë©”ì´ì…˜ ì†ë„ê°€ ë  ê²ƒ. ë” ì˜¬ë ¤ë³´ê³  ë‚´ë ¤ë³´ê³  í•´ë³´ì</span>

			<span class="c1">// draw</span>
			<span class="n">drawWall</span><span class="p">();</span>
			<span class="n">rigid_body</span><span class="p">.</span><span class="n">draw</span><span class="p">();</span>

			<span class="c1">// reset button</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">isKeyPressedAndReleased</span><span class="p">(</span><span class="n">GLFW_KEY_R</span><span class="p">))</span> <span class="n">reset</span><span class="p">();</span>
		<span class="p">}</span>
	<span class="p">};</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">jm</span><span class="o">::</span><span class="n">Example</span><span class="p">().</span><span class="n">run</span><span class="p">();</span>

	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p><br /></p>

<h2 id="-rigidcircleì˜-update-í•¨ìˆ˜-êµ¬í˜„í•˜ê¸°--ê³µ-íŠ•ê¸°ê¸°">ğŸ”” RigidCircleì˜ update() í•¨ìˆ˜ êµ¬í˜„í•˜ê¸° : ê³µ íŠ•ê¸°ê¸°</h2>

<h3 id="1-ìœ„ì¹˜-ì—…ëƒ--ê³µì„-ì›€ì§ì´ê²Œ-í•˜ê¸°">1. ìœ„ì¹˜ ì—…ëƒ : ê³µì„ ì›€ì§ì´ê²Œ í•˜ê¸°</h3>
<ul>
  <li><code class="language-plaintext highlighter-rouge">ê±°ë¦¬ = ì†ë ¥ Ã— ì‹œê°„</code></li>
  <li>pos = pos + vel * dt
    <ul>
      <li>posëŠ” 1í”„ë ˆì„ë‹¹ velë§Œí¼ ë”í•´ì ¸ ê°±ì‹ ëœë‹¤.</li>
      <li>ì‹œê°„ì˜ íë¦„ì— ë”°ë¼ ìœ„ì¹˜ëŠ” ì†ë„ê°’ë§Œí¼ ë”í•´ì§„ë‹¤.</li>
      <li>1í”„ë ˆì„ë‹¹ velë§Œí¼ ì´ë™í•˜ê²Œ ë˜ëŠ” ê²ƒ</li>
    </ul>
  </li>
</ul>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">update</span><span class="p">(</span><span class="k">const</span> <span class="kt">float</span> <span class="o">&amp;</span> <span class="n">dt</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">pos</span> <span class="o">=</span> <span class="n">pos</span> <span class="o">+</span> <span class="n">vel</span> <span class="o">*</span> <span class="n">dt</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
<ul>
  <li>ì—¬ê¸°ê¹Œì§€ êµ¬í˜„í•˜ë©´ ê³µì´ ìˆ˜í‰ë°©í–¥ìœ¼ë¡œ ê³„ì† ë‚ ì•„ê°„ë‹¤.</li>
</ul>

<p><br /></p>

<h3 id="2-ì†ë„-ì—…ëƒ--ì¤‘ë ¥">2. ì†ë„ ì—…ëƒ : ì¤‘ë ¥</h3>
<ul>
  <li>ì¤‘ë ¥ì„ ë°›ì•„ ê³µì´ ì ì  ì•„ë˜ë¡œ ë–¨ì–´ì§€ê²Œ í•˜ì.</li>
</ul>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">update</span><span class="p">(</span><span class="k">const</span> <span class="kt">float</span> <span class="o">&amp;</span> <span class="n">dt</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">static</span> <span class="k">const</span> <span class="n">vec2</span> <span class="n">gravity</span> <span class="o">=</span> <span class="n">vec2</span><span class="p">(</span><span class="mf">0.0</span><span class="n">f</span><span class="p">,</span> <span class="o">-</span><span class="mf">9.8</span><span class="n">f</span><span class="p">);</span>

	<span class="n">vel</span> <span class="o">=</span> <span class="n">vel</span> <span class="o">+</span> <span class="n">gravity</span> <span class="o">*</span> <span class="n">dt</span><span class="p">;</span>
	<span class="n">pos</span> <span class="o">=</span> <span class="n">pos</span> <span class="o">+</span> <span class="n">vel</span> <span class="o">*</span> <span class="n">dt</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="ê°€ì†ë„ì—-ëŒ€í•˜ì—¬">ê°€ì†ë„ì— ëŒ€í•˜ì—¬</h4>
<p><img src="https://user-images.githubusercontent.com/42318591/85187240-25cc1300-b2d9-11ea-84d7-1a35dcab61f5.png" alt="image" width="80%" height="80%" class="align-center" /></p>

<blockquote>
  <p><code class="language-plaintext highlighter-rouge">ë‰´í„´ì˜ ì œ 2ë²•ì¹™</code> : í˜ì´ ê°€ì†ë„ë¥¼ ë°”ê¾¸ê³  ê°€ì†ë„ê°€ ì†ë„ë¥¼ ë°”ê¾¸ê³  ì†ë„ê°€ ìœ„ì¹˜ë¥¼ ë°”ê¾¼ë‹¤. 
<code class="language-plaintext highlighter-rouge">ìˆ˜ì¹˜ ì ë¶„</code>ì„ í†µí•´ í’€ì–´ë‚˜ê°„ë‹¤ : í˜ ğŸ‘‰ ê°€ì†ë„ ğŸ‘‰ ì†ë„ ğŸ‘‰ ìœ„ì¹˜</p>
</blockquote>

<ul>
  <li>ê°€ì†ë„
    <ul>
      <li><code class="language-plaintext highlighter-rouge">ê°€ì†ë„ = í˜ / ì§ˆëŸ‰</code>ìœ¼ë¡œ êµ¬í•  ìˆ˜ ìˆë‹¤. \(\vec{f} = m\vec{a}\)</li>
      <li>ì‹œê°„ì— ë”°ë¼ <u>ì†ë„ê°€ ë³€í™”í•˜ëŠ” ì–‘</u></li>
      <li>ì•„ì£¼ ì•„ì£¼ ì‘ì€ ì‹œê°„ë™ì•ˆ ì†ë„ê°€ ì–¼ë§Œí¼ ë³€í–ˆëŠ”ê°€
        <ul>
          <li>vel += accel * dt</li>
        </ul>
      </li>
      <li>ìœ„ì¹˜ë¥¼ ì‹œê°„ì— ëŒ€í•´ì„œ ë¯¸ë¶„ 2ë²ˆ</li>
    </ul>
  </li>
  <li>ì†ë„
    <ul>
      <li>ì‹œê°„ì— ë”°ë¼ <u>ê±°ë¦¬ê°€ ë³€í™”í•˜ëŠ” ì–‘</u></li>
      <li>ì•„ì£¼ ì•„ì£¼ ì‘ì€ ì‹œê°„ë™ì•ˆ ìœ„ì¹˜ê°€ ì–¼ë§Œí¼ ë³€í–ˆëŠ”ê°€
        <ul>
          <li>pos += vel * dt</li>
        </ul>
      </li>
      <li>ìœ„ì¹˜ë¥¼ ì‹œê°„ì— ëŒ€í•´ì„œ ë¯¸ë¶„ 1ë²ˆ</li>
    </ul>
  </li>
</ul>

<h4 id="ì¤‘ë ¥-ê°€ì†ë„">ì¤‘ë ¥ ê°€ì†ë„</h4>
<ul>
  <li>ì§€êµ¬ì˜ ì¤‘ë ¥ ê°€ì†ë„ëŠ” <code class="language-plaintext highlighter-rouge">9.8</code>ì´ë‹¤.
    <ul>
      <li>ì•„ì£¼ ì•„ì£¼ ì‘ì€ ì‹œê°„ë™ì•ˆ ì†ë„ê°€ 9.8 ë§Œí¼ ë³€í™”í•œë‹¤.</li>
      <li>1 í”„ë ˆì„ë‹¹ velê°’ì´ -9.8 ë§Œí¼ ëˆ„ì ë˜ì–´ ë³€í™”í•œë‹¤.</li>
      <li>9.8ì´ë¼ëŠ” ê°’ìœ¼ë¡œ ì´ë¯¸ ìˆìœ¼ë¯€ë¡œ í˜ì€ êµ¬í•˜ì§€ ì•ŠëŠ”ë‹¤ (ê°€ì†ë„ = í˜/ì§ˆëŸ‰)</li>
    </ul>
  </li>
  <li>ì¤‘ë ¥ì€ yë°©í–¥ ì•„ë˜ë¡œ ì‘ìš©í•œë‹¤.</li>
</ul>

<h4 id="ì½”ë“œ-ì„¤ëª…">ì½”ë“œ ì„¤ëª…</h4>

<ul>
  <li><em>static const vec2 gravity = vec2(0.0f, -9.8f);</em>
    <ul>
      <li>ì¤‘ë ¥ ê°€ì†ë„ëŠ” y ë§ˆì´ë„ˆìŠ¤ ë°©í–¥ìœ¼ë¡œ ì˜í–¥ì„ ë¯¸ì¹œë‹¤. (ì¤‘ë ¥ìœ¼ë¡œ ê³µì´ ë–¨ì–´ì§€ë‹ˆê¹Œ)</li>
      <li>ì¤‘ë ¥ ê°€ì†ë„ ê°’ì€ ë¶ˆë³€ì´ë¯€ë¡œ <code class="language-plaintext highlighter-rouge">cosnt</code> ë¡œ í•´ì£¼ì—ˆê³  ì´ˆê¸°í™”ëŠ” í•œë²ˆë§Œ í•˜ê³  ê°’ì„ ìœ ì§€ì‹œí‚¤ê¸° ìœ„í•´ <code class="language-plaintext highlighter-rouge">static</code></li>
    </ul>
  </li>
  <li><em>vel = vel + gravity * dt;</em>
    <ul>
      <li>ì¤‘ë ¥ì— ì˜í•œ ì†ë„ += ì¤‘ë ¥ê°€ì†ë„ Ã— í•œí”„ë ˆì„ë‹¹ ì‹œê°„</li>
    </ul>
  </li>
  <li>ì—¬ê¸°ê¹Œì§€ êµ¬í˜„í•˜ë©´ ê³µì´ ìˆ˜í‰ë°©í–¥ìœ¼ë¡œ ë‚ ì•„ê°€ë‹¤ê°€ ì„œì„œíˆ ì•„ë˜ë¡œ ë–¨ì–´ì§€ëŠ” ì• ë‹ˆë©”ì´ì…˜ì´ ì™„ì„±ëœë‹¤.</li>
</ul>

<p><br /></p>

<h3 id="3-íƒ„ì„±--ë²½ì—-ë¶€ë”ªì¹˜ë©´-íŠ•ê¸°ê²Œ-í•˜ê¸°">3. íƒ„ì„± : ë²½ì— ë¶€ë”ªì¹˜ë©´ íŠ•ê¸°ê²Œ í•˜ê¸°</h3>

<h4 id="1-ì¶©ëŒ-ê²€ì‚¬">1. ì¶©ëŒ ê²€ì‚¬</h4>

<ul>
  <li><code class="language-plaintext highlighter-rouge">1.0f - pos.x &lt;= radius</code>
    <ul>
      <li>â€˜ì˜¤ë¥¸ìª½ ë²½ê³¼ ì¶©ëŒí–ˆë‹¤ë©´â€™ ì´ë¼ëŠ” ì˜ë¯¸.
        <ul>
          <li>xì¶• ìˆ˜í‰ ë°©í–¥ìœ¼ë¡œ ì˜¤ë¥¸ìª½ ë²½ì˜ ìœ„ì¹˜ë¥¼ 1.0fë¼ê³  í•œë‹¤ë©´</li>
          <li><u>ë²½ì™€ ê³µì˜ ì¤‘ì‹¬ì˜ ê±°ë¦¬</u> <strong><em>(1.0f - pos.x)</em></strong> ê°€</li>
          <li><u>ê³µì˜ ë°˜ì§€ë¦„ë³´ë‹¤ ê°™ê±°ë‚˜ ì‘ë‹¤ë©´</u>
            <ul>
              <li>ë§¤ í”„ë ˆì„ ê³µì´ ì´ë™í•˜ê³  ë§¤ í”„ë ˆì„ ê²€ì‚¬í•˜ê¸° ë•Œë¬¸ì— ì‘ì„ ìˆ˜ ìˆìŒ. ë²½ì„ ì‚´ì§ ë„˜ì–´ì„œëŠ” ìˆœê°„ì´ ìˆì„ ìˆ˜ ìˆìŒ.</li>
            </ul>
          </li>
          <li>ìˆœê°„ì ìœ¼ë¡œ ì˜¤ë¥¸ìª½ ë²½ê³¼ ë¶€ë”ªì¹œ ê²ƒì´ë‹¤.</li>
        </ul>
      </li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">pos.x = 1.0f - radius;</code>
    <ul>
      <li>ì˜¤ë¥¸ìª½ ë²½ê³¼ ì¶©ëŒí•˜ì—¬ pos.x + radius ê°€ ì˜¤ë¥¸ìª½ ë²½ì˜ ìœ„ì¹˜ë¥¼ ë„˜ì–´ ì„°ë‹¤ë©´ ìš°ì„  ë‹¤ì‹œ pos.x ë¥¼ ë²½ì— ë”± ë¶™ê²Œ ì¡°ì •í•´ì¤€ë‹¤.</li>
    </ul>
  </li>
  <li>ì—¬ê¸°ê¹Œì§€ë§Œ í•˜ê³  ì‹¤í–‰í•˜ë©´ ê³µì´ ë²½ì— ë¶€ë”ªì¹˜ëŠ” ìˆœê°„ ë²½ì— ë¶™ì€ ì²´ë¡œ ì¤‘ë ¥ì„ ë°›ì•„ ì­‰ ë–¨ì–´ì§€ëŠ” ëª¨ì–‘ì´ ëœë‹¤.</li>
</ul>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">update</span><span class="p">(</span><span class="k">const</span> <span class="kt">float</span> <span class="o">&amp;</span> <span class="n">dt</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">static</span> <span class="k">const</span> <span class="n">vec2</span> <span class="n">gravity</span> <span class="o">=</span> <span class="n">vec2</span><span class="p">(</span><span class="mf">0.0</span><span class="n">f</span><span class="p">,</span> <span class="o">-</span><span class="mf">9.8</span><span class="n">f</span><span class="p">);</span>

	<span class="c1">// numerical integration</span>
	<span class="n">vel</span> <span class="o">=</span> <span class="n">vel</span> <span class="o">+</span> <span class="n">gravity</span> <span class="o">*</span> <span class="n">dt</span><span class="p">;</span>
	<span class="n">pos</span> <span class="o">=</span> <span class="n">pos</span> <span class="o">+</span> <span class="n">vel</span> <span class="o">*</span> <span class="n">dt</span><span class="p">;</span>

	<span class="c1">// wall collision, friction</span>
	<span class="k">if</span> <span class="p">(</span><span class="mf">1.0</span><span class="n">f</span> <span class="o">-</span> <span class="n">pos</span><span class="p">.</span><span class="n">x</span> <span class="o">&lt;=</span> <span class="n">radius</span><span class="p">)</span> <span class="c1">// right wall</span>
	<span class="p">{</span>
		<span class="n">pos</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="mf">1.0</span><span class="n">f</span> <span class="o">-</span> <span class="n">radius</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="2-ì–¼ë§ˆë‚˜-ë¹¨ë¦¬-íŠ•ê²¨ì ¸-ë‚˜ì˜¬-ê²ƒì¸ì§€">2. ì–¼ë§ˆë‚˜ ë¹¨ë¦¬ íŠ•ê²¨ì ¸ ë‚˜ì˜¬ ê²ƒì¸ì§€.</h4>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">update</span><span class="p">(</span><span class="k">const</span> <span class="kt">float</span> <span class="o">&amp;</span> <span class="n">dt</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">static</span> <span class="k">const</span> <span class="n">vec2</span> <span class="n">gravity</span> <span class="o">=</span> <span class="n">vec2</span><span class="p">(</span><span class="mf">0.0</span><span class="n">f</span><span class="p">,</span> <span class="o">-</span><span class="mf">9.8</span><span class="n">f</span><span class="p">);</span>
	<span class="k">static</span> <span class="k">const</span> <span class="kt">float</span> <span class="n">coef_res</span> <span class="o">=</span> <span class="mf">0.7</span><span class="n">f</span><span class="p">;</span>

	<span class="c1">// numerical integration</span>
	<span class="n">vel</span> <span class="o">=</span> <span class="n">vel</span> <span class="o">+</span> <span class="n">gravity</span> <span class="o">*</span> <span class="n">dt</span><span class="p">;</span>
	<span class="n">pos</span> <span class="o">=</span> <span class="n">pos</span> <span class="o">+</span> <span class="n">vel</span> <span class="o">*</span> <span class="n">dt</span><span class="p">;</span>

	<span class="c1">// wall collision, friction</span>
	<span class="k">if</span> <span class="p">(</span><span class="mf">1.0</span><span class="n">f</span> <span class="o">-</span> <span class="n">pos</span><span class="p">.</span><span class="n">x</span> <span class="o">&lt;=</span> <span class="n">radius</span><span class="p">)</span> <span class="c1">// right wall</span>
	<span class="p">{</span>
		<span class="n">pos</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="mf">1.0</span><span class="n">f</span> <span class="o">-</span> <span class="n">radius</span><span class="p">;</span>
				
		<span class="k">if</span><span class="p">(</span><span class="n">vel</span><span class="p">.</span><span class="n">x</span> <span class="o">&gt;=</span> <span class="mf">0.0</span><span class="n">f</span><span class="p">)</span>   <span class="c1">// ì•ˆì „ ì¥ì¹˜ </span>
			<span class="n">vel</span><span class="p">.</span><span class="n">x</span> <span class="o">*=</span> <span class="o">-</span><span class="mf">1.0</span><span class="n">f</span> <span class="o">*</span> <span class="n">coef_res</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li><em>static const float coef_res = 0.7f;</em>
    <ul>
      <li>íƒ„ì„±ë ¥ì˜ ì •ë„ë¥¼ 0.7ì´ë¼ê³  í•˜ì.</li>
    </ul>
  </li>
</ul>

<ol>
  <li><em>if(vel.x &gt;= 0.0f)</em>
    <ul>
      <li>ğŸ‘‰ ì˜¤ë¥¸ìª½ì— ë¶€ë”ªì¹˜ëŠ”ê±°ë‹ˆê¹Œ ì˜¤ë¥¸ìª½ ë°©í–¥ì„ í–¥í•˜ê³  ìˆëŠ” ìƒíƒœ, ì¦‰ vel.x &gt;= 0.0f ì¸ ê²½ìš°ë§Œ.</li>
    </ul>
  </li>
  <li>íŠ•ê²¨ì ¸ ë‚˜ê°ˆ ë•Œ <u>ê³µì˜ ë°©í–¥ì´ ë’¤ì§‘í˜&lt;/u
</u>    <ul>
      <li>vel.x *= <code class="language-plaintext highlighter-rouge">-1.0f</code>;</li>
      <li>ì†ë„ì— <code class="language-plaintext highlighter-rouge">-1</code>ë¥¼ ê³±í•´ì„œ ë°©í–¥ì„ ë°˜ëŒ€ë¡œ ë’¤ì§‘ëŠ”ë‹¤.</li>
      <li>ì˜¤ë¥¸ìª½ ë°©í–¥ì„ í–¥í•˜ë‹¤ê°€ ë²½ì— ë¶€ë”ªì³¤ìœ¼ë©´ ì™¼ìª½ìœ¼ë¡œ íŠ•ê²¨ë‚˜ê°€ì•¼ í•˜ë¯€ë¡œ ë°©í–¥ì„ ë°”ê¿ˆ</li>
    </ul>
  </li>
  <li>ê³µì˜ ì§ˆëŸ‰, ê³µì˜ ë”±ë”±í•œ ì •ë„ ë²½ì˜ ë”±ë”±í•œ ì •ë„ ë“±ë“±ì— ë”°ë¼ íŠ•ê²¨ë‚˜ì˜¤ëŠ” ì†ë„ê°€ ë‹¬ë¼ì§„ë‹¤.
    <ul>
      <li>vel.x *= -1.0f * <code class="language-plaintext highlighter-rouge">coef_res</code> ;</li>
      <li><code class="language-plaintext highlighter-rouge">coef_res</code> ê°’ì´ <u>1.0fë³´ë‹¤ í¬ê²Œ ì„¤ì •í•˜ë©´ ë” ê°•í•œ ì†ë„ë¡œ íŠ•ê²¨ì ¸ ë‚˜ì˜¨ë‹¤.</u></li>
      <li><code class="language-plaintext highlighter-rouge">coef_res</code> ê°’ì´ <u>1.0fë³´ë‹¤ ì‘ê²Œ ì„¤ì •í•˜ë©´ ë” ì¤„ì–´ë“  ì†ë„ë¡œ íŠ•ê²¨ì ¸ ë‚˜ì˜¨ë‹¤.</u></li>
    </ul>
  </li>
</ol>

<p><br /></p>

<h3 id="4-ë‚˜ë¨¸ì§€-ë‹¤ë¥¸-ë²½ë“¤ë„-ì™„ì„±">4. ë‚˜ë¨¸ì§€ ë‹¤ë¥¸ ë²½ë“¤ë„ ì™„ì„±</h3>
<p>ì™¼ìª½ ë²½ê³¼ ë•…ë„ ~</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">update</span><span class="p">(</span><span class="k">const</span> <span class="kt">float</span> <span class="o">&amp;</span> <span class="n">dt</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">static</span> <span class="k">const</span> <span class="n">vec2</span> <span class="n">gravity</span> <span class="o">=</span> <span class="n">vec2</span><span class="p">(</span><span class="mf">0.0</span><span class="n">f</span><span class="p">,</span> <span class="o">-</span><span class="mf">9.8</span><span class="n">f</span><span class="p">);</span>
	<span class="k">static</span> <span class="k">const</span> <span class="kt">float</span> <span class="n">coef_res</span> <span class="o">=</span> <span class="mf">1.0</span><span class="n">f</span><span class="p">;</span>

	<span class="c1">// numerical integration</span>
	<span class="n">vel</span> <span class="o">=</span> <span class="n">vel</span> <span class="o">+</span> <span class="n">gravity</span> <span class="o">*</span> <span class="n">dt</span><span class="p">;</span>
	<span class="n">pos</span> <span class="o">=</span> <span class="n">pos</span> <span class="o">+</span> <span class="n">vel</span> <span class="o">*</span> <span class="n">dt</span><span class="p">;</span>

	<span class="c1">// wall collision, friction</span>
	<span class="k">if</span> <span class="p">(</span><span class="mf">1.0</span><span class="n">f</span> <span class="o">-</span> <span class="n">pos</span><span class="p">.</span><span class="n">x</span> <span class="o">&lt;=</span> <span class="n">radius</span><span class="p">)</span> <span class="c1">// right wall</span>
	<span class="p">{</span>
		<span class="n">pos</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="mf">1.0</span><span class="n">f</span> <span class="o">-</span> <span class="n">radius</span><span class="p">;</span>

		<span class="k">if</span><span class="p">(</span><span class="n">vel</span><span class="p">.</span><span class="n">x</span> <span class="o">&gt;=</span> <span class="mf">0.0</span><span class="n">f</span><span class="p">)</span>
			<span class="n">vel</span><span class="p">.</span><span class="n">x</span> <span class="o">*=</span> <span class="o">-</span><span class="mf">1.0</span><span class="n">f</span> <span class="o">*</span> <span class="n">coef_res</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">pos</span><span class="p">.</span><span class="n">y</span> <span class="o">&lt;=</span> <span class="o">-</span><span class="mf">1.0</span><span class="n">f</span> <span class="o">+</span> <span class="n">radius</span><span class="p">)</span> <span class="c1">// ground</span>
	<span class="p">{</span>
		<span class="n">pos</span><span class="p">.</span><span class="n">y</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.0</span><span class="n">f</span> <span class="o">+</span> <span class="n">radius</span><span class="p">;</span>
				
		<span class="k">if</span> <span class="p">(</span><span class="n">vel</span><span class="p">.</span><span class="n">y</span> <span class="o">&lt;=</span> <span class="mf">0.0</span><span class="n">f</span><span class="p">)</span>
			<span class="n">vel</span><span class="p">.</span><span class="n">y</span> <span class="o">*=</span> <span class="o">-</span><span class="mf">1.0</span><span class="n">f</span> <span class="o">*</span> <span class="n">coef_res</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">pos</span><span class="p">.</span><span class="n">x</span> <span class="o">&lt;=</span> <span class="o">-</span><span class="mf">1.0</span><span class="n">f</span> <span class="o">+</span> <span class="n">radius</span><span class="p">)</span> <span class="c1">// left wall</span>
	<span class="p">{</span>
		<span class="n">pos</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.0</span><span class="n">f</span> <span class="o">+</span> <span class="n">radius</span><span class="p">;</span>

		<span class="k">if</span> <span class="p">(</span><span class="n">vel</span><span class="p">.</span><span class="n">x</span> <span class="o">&lt;=</span> <span class="mf">0.0</span><span class="n">f</span><span class="p">)</span>
			<span class="n">vel</span><span class="p">.</span><span class="n">x</span> <span class="o">*=</span> <span class="o">-</span><span class="mf">1.0</span><span class="n">f</span> <span class="o">*</span> <span class="n">coef_res</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><br /></p>

<h3 id="5-ë§ˆì°°ë ¥--ê³µì´-ë°”ë‹¥ì—-ë‹¿ìœ¼ë©´-ì„œì„œíˆ-ë©ˆì¶°ì•¼í•¨">5. ë§ˆì°°ë ¥ : ê³µì´ ë°”ë‹¥ì— ë‹¿ìœ¼ë©´ ì„œì„œíˆ ë©ˆì¶°ì•¼í•¨</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="p">(</span><span class="n">pos</span><span class="p">.</span><span class="n">y</span> <span class="o">&lt;=</span> <span class="o">-</span><span class="mf">1.0</span><span class="n">f</span> <span class="o">+</span> <span class="n">radius</span><span class="p">)</span> <span class="c1">// ground</span>
<span class="p">{</span>
	<span class="n">pos</span><span class="p">.</span><span class="n">y</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.0</span><span class="n">f</span> <span class="o">+</span> <span class="n">radius</span><span class="p">;</span>
				
	<span class="k">if</span> <span class="p">(</span><span class="n">vel</span><span class="p">.</span><span class="n">y</span> <span class="o">&lt;=</span> <span class="mf">0.0</span><span class="n">f</span><span class="p">)</span>
		<span class="n">vel</span><span class="p">.</span><span class="n">y</span> <span class="o">*=</span> <span class="o">-</span><span class="mf">1.0</span><span class="n">f</span> <span class="o">*</span> <span class="n">coef_res</span><span class="p">;</span>

	<span class="n">vel</span><span class="p">.</span><span class="n">x</span> <span class="o">*=</span> <span class="n">coef_friction</span><span class="p">;</span> <span class="c1">// âœ¨ì¶”ê°€</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li><strong>ë§ˆì°°ë ¥</strong>
    <ul>
      <li><u>ê³µì˜ ì†ë„ë¥¼ ì¤„ì—¬</u> ê³µì´ ë©ˆì¶”ê²Œ í•œë‹¤.</li>
      <li><u>ë°”ë‹¥</u>ì—ì„œ êµ¬ë¥¼ ë•Œ ì‘ìš©ëœë‹¤.
        <ul>
          <li>ë°”ë‹¥ì— í‰í–‰í•œ, xì¶• ë°©í–¥ì˜ ì†ë„ì— ì˜í–¥ì„ ì¤€ë‹¤.
            <ul>
              <li>vel.x ë¥¼ ì¤„ì–´ë“¤ê²Œ í•¨</li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li><em>static const float coef_friction = 0.9f;</em>
    <ul>
      <li>0.9ì²˜ëŸ¼ <u>1ë³´ë‹¤ ì‘ì€ìˆ˜ì—¬ì•¼ ì†ë„ê°€ ì¤„ì–´ë“¤ ìˆ˜ ìˆë‹¤.</u></li>
    </ul>
  </li>
  <li><em>vel.x *= coef_friction;</em></li>
</ul>

<p><br /></p>

<h3 id="6-ì™„ì„±">6. ì™„ì„±</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">update</span><span class="p">(</span><span class="k">const</span> <span class="kt">float</span> <span class="o">&amp;</span> <span class="n">dt</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">static</span> <span class="k">const</span> <span class="n">vec2</span> <span class="n">gravity</span> <span class="o">=</span> <span class="n">vec2</span><span class="p">(</span><span class="mf">0.0</span><span class="n">f</span><span class="p">,</span> <span class="o">-</span><span class="mf">9.8</span><span class="n">f</span><span class="p">);</span>
	<span class="k">static</span> <span class="k">const</span> <span class="kt">float</span> <span class="n">coef_res</span> <span class="o">=</span> <span class="mf">0.7</span><span class="n">f</span><span class="p">;</span> <span class="c1">// coefficient of restitution</span>
	<span class="k">static</span> <span class="k">const</span> <span class="kt">float</span> <span class="n">coef_friction</span> <span class="o">=</span> <span class="mf">0.9</span><span class="n">f</span><span class="p">;</span> <span class="c1">// friction  (not physical)</span>

	<span class="c1">// ê³µì˜ ìœ„ì¹˜ì™€ ì†ë„ ì—…ë°ì´íŠ¸</span>
	<span class="n">vel</span> <span class="o">=</span> <span class="n">vel</span> <span class="o">+</span> <span class="n">gravity</span> <span class="o">*</span> <span class="n">dt</span><span class="p">;</span>
	<span class="n">pos</span> <span class="o">=</span> <span class="n">pos</span> <span class="o">+</span> <span class="n">vel</span> <span class="o">*</span> <span class="n">dt</span><span class="p">;</span>

	<span class="c1">// ê°ê°ì˜ ë²½ì— ë¶€ë”ªì³¤ì„ ë•Œ ì²˜ë¦¬</span>
	<span class="k">if</span> <span class="p">(</span><span class="mf">1.0</span><span class="n">f</span> <span class="o">-</span> <span class="n">pos</span><span class="p">.</span><span class="n">x</span> <span class="o">&lt;=</span> <span class="n">radius</span><span class="p">)</span> <span class="c1">// right wall</span>
	<span class="p">{</span>
		<span class="n">pos</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="mf">1.0</span><span class="n">f</span> <span class="o">-</span> <span class="n">radius</span><span class="p">;</span> <span class="c1">// ë²½ì„ ë„˜ì–´ê°€ì§€ ì•Šê²Œ</span>

		<span class="k">if</span><span class="p">(</span><span class="n">vel</span><span class="p">.</span><span class="n">x</span> <span class="o">&gt;=</span> <span class="mf">0.0</span><span class="n">f</span><span class="p">)</span>
			<span class="n">vel</span><span class="p">.</span><span class="n">x</span> <span class="o">*=</span> <span class="o">-</span><span class="mf">1.0</span><span class="n">f</span> <span class="o">*</span> <span class="n">coef_res</span><span class="p">;</span> <span class="c1">// íƒ„ì„±ë ¥ì— ë”°ë¥¸ ì†ë„ ì¡°ì •</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">pos</span><span class="p">.</span><span class="n">y</span> <span class="o">&lt;=</span> <span class="o">-</span><span class="mf">1.0</span><span class="n">f</span> <span class="o">+</span> <span class="n">radius</span><span class="p">)</span> <span class="c1">// ground</span>
	<span class="p">{</span>
		<span class="n">pos</span><span class="p">.</span><span class="n">y</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.0</span><span class="n">f</span> <span class="o">+</span> <span class="n">radius</span><span class="p">;</span>
				
		<span class="k">if</span> <span class="p">(</span><span class="n">vel</span><span class="p">.</span><span class="n">y</span> <span class="o">&lt;=</span> <span class="mf">0.0</span><span class="n">f</span><span class="p">)</span>
			<span class="n">vel</span><span class="p">.</span><span class="n">y</span> <span class="o">*=</span> <span class="o">-</span><span class="mf">1.0</span><span class="n">f</span> <span class="o">*</span> <span class="n">coef_res</span><span class="p">;</span>

		<span class="n">vel</span><span class="p">.</span><span class="n">x</span> <span class="o">*=</span> <span class="n">coef_friction</span><span class="p">;</span>  <span class="c1">// ë°”ë‹¥ì— ë¶€ë”ªì³¤ì„ë• íŠ¹ë³„íˆ ë§ˆì°°ë ¥ì— ë”°ë¥¸ xì¶• ë°©í–¥ì˜ ì†ë„ ì¡°ì •</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">pos</span><span class="p">.</span><span class="n">x</span> <span class="o">&lt;=</span> <span class="o">-</span><span class="mf">1.0</span><span class="n">f</span> <span class="o">+</span> <span class="n">radius</span><span class="p">)</span> <span class="c1">// left wall</span>
	<span class="p">{</span>
		<span class="n">pos</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.0</span><span class="n">f</span> <span class="o">+</span> <span class="n">radius</span><span class="p">;</span>

		<span class="k">if</span> <span class="p">(</span><span class="n">vel</span><span class="p">.</span><span class="n">x</span> <span class="o">&lt;=</span> <span class="mf">0.0</span><span class="n">f</span><span class="p">)</span>
			<span class="n">vel</span><span class="p">.</span><span class="n">x</span> <span class="o">*=</span> <span class="o">-</span><span class="mf">1.0</span><span class="n">f</span> <span class="o">*</span> <span class="n">coef_res</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<hr />
<p><br /></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ğŸŒœ ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ì˜¤ë¥˜ë‚˜ í‹€ë¦° ë¶€ë¶„ì´ ìˆì„ ê²½ìš° 
ì–¸ì œë“ ì§€ ëŒ“ê¸€ í˜¹ì€ ë©”ì¼ë¡œ ì§€ì í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ˜„
</code></pre></div></div>

<p><a href="#" class="btn btn--primary align-right">ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°</a></p>
:ET
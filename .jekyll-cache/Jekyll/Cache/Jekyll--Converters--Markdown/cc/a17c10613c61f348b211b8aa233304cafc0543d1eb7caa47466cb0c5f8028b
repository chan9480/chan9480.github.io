I"æu<p class="notice--warning">ì¸í”„ëŸ°ì— ìˆëŠ” ì´ì¬í™˜ë‹˜ì˜ ê°•ì˜ <strong>ê²Œì„ ë””ìì¸ íŒ¨í„´ with Unity</strong> ë¥¼ ë“£ê³  ì •ë¦¬í•œ í•„ê¸°ì…ë‹ˆë‹¤. ğŸ˜€</p>

<h1 id="chapter-12-observer-pattern">Chapter 12. Observer Pattern</h1>

<h2 id="-ê°œë…">ğŸ”” ê°œë…</h2>

<blockquote>
  <p>í•œ ê°ì²´ì˜ ìƒíƒœê°€ ë°”ë€Œë©´ ê·¸ ê°ì²´ì— ì˜ì¡´í•˜ëŠ” <u>ë‹¤ë¥¸ ê°ì²´ë“¤í•œí…Œ ì—°ë½ì´ ê°€ì„œ ìë™ìœ¼ë¡œ ë‚´ìš©ì´ ê°±ì‹ ë˜ëŠ” ë°©ì‹</u>. 1:N ì˜ì¡´ì„±ì„ ì •ì˜í•œë‹¤.</p>
</blockquote>

<p><img src="https://user-images.githubusercontent.com/42318591/101434223-ee682600-394d-11eb-8563-70cd533cea90.png" alt="image" /></p>

<p><img src="https://user-images.githubusercontent.com/42318591/101441855-68ec7200-395d-11eb-9d0c-0ddf9a519dc4.png" alt="image" /></p>

<p>Subject ê°ì²´ê°€ <code class="language-plaintext highlighter-rouge">bCheck</code> ê°’ ë³€ê²½ì´ ì¼ì–´ë‚˜ë©´ Observer ê°ì²´ë“¤ì—ê²Œ ì´ë¥¼ ì•Œë¦°ë‹¤. ê°ê°ì˜ Observer ê°ì²´ë“¤ì˜ update() í•¨ìˆ˜ì—ì„œ ì´ë¥¼ ê°ì§€í•˜ê³  ì´ì— ë”°ë¥¸ ë™ì‘ë“¤ì„ ìˆ˜í–‰í•œë‹¤.</p>

<ul>
  <li>Subject ê°€ Observer ì— ëŒ€í•´ì„œ ì•„ëŠ” ê²ƒì€ Observer ê°€ íŠ¹ì • ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œë‹¤ëŠ” ê²ƒ ë¿
    <ul>
      <li>ì˜ˆë¥¼ ë“¤ì–´ Observer ê°ì²´ë“¤ì€ ëª¨ë‘ update() í•¨ìˆ˜ë¥¼ ê°€ì§€ë©° ì´ì—ì„œ ë³€í™”ë¥¼ ê°ì§€í•œë‹¤.</li>
    </ul>
  </li>
  <li>Observer ëŠ” ì–¸ì œë“ ì§€ ìƒˆë¡œ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.
    <ul>
      <li>Subject ëŠ” Observer ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” ê°ì²´ ëª©ë¡ì—ë§Œ ì˜ì¡´í•˜ê¸° ë•Œë¬¸.</li>
    </ul>
  </li>
  <li>ìƒˆë¡œìš´ í˜•ì‹ì˜ Observerë¥¼ ì¶”ê°€í•˜ë ¤ í•´ë„ Subject ë¥¼ ì „í˜€ ë³€ê²½í•  í•„ìš”ê°€ ì—†ë‹¤.
    <ul>
      <li>ìƒˆë¡œìš´ í´ë˜ìŠ¤ì—ì„œ Observer ì¸í„°í˜ì´ìŠ¤ë§Œ êµ¬í˜„í•´ì£¼ë©´ ëœë‹¤.</li>
    </ul>
  </li>
  <li>Subject ë‚˜ Observer ê°€ ë°”ë€Œë”ë¼ë„ ì„œë¡œì—ê²Œ ì „í˜€ ì˜í–¥ì„ ì£¼ì§€ ì•ŠëŠ”ë‹¤. ê·¸ë˜ì„œ Subject ì™€ Observer ëŠ” ì„œë¡œ ë…ë¦½ì ìœ¼ë¡œ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</li>
</ul>

<p><strong>ì„œë¸Œì íŠ¸ì—ì„œ ì˜µì €ë²„ë“¤ì„ ë¦¬ìŠ¤íŠ¸ë¡œ ê´€ë¦¬ë¥¼ í•˜ê³ , ì´ ë¦¬ìŠ¤íŠ¸ë¥¼ ìˆœíšŒí•˜ë©° ì˜µì €ë²„ë“¤ì˜ í•¨ìˆ˜ë¥¼ ì‹¤í–‰ì‹œí‚¤ëŠ” ì‹ìœ¼ë¡œ ì‘ë™í•œë‹¤.</strong> ì˜ˆë¥¼ ë“¤ì–´ ë²„íŠ¼ ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´ ì„œë¸Œì íŠ¸ì˜ A í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ê³  ì´ A í•¨ìˆ˜ëŠ” ì˜µì €ë²„ ì˜¤ë¸Œì íŠ¸ë“¤ì˜ B í•¨ìˆ˜ë¥¼ ì¼ê´„ì ìœ¼ë¡œ ì‹¤í–‰ì‹œí‚¤ëŠ” ì‹ìœ¼ë¡œ.</p>

<p><br /></p>

<p>ìœ ë‹ˆí‹°, C# ì—ì„œì˜ <u>ë¸ë¦¬ê²Œì´íŠ¸ì™€ ê°™ë‹¤. ë¸ë¦¬ê²Œì´íŠ¸ê°€ ê³§ ì´ ì˜µì €ë²„ íŒ¨í„´ì¸ ê²ƒì´ë‹¤.</u> ë¸ë¦¬ê²Œì´íŠ¸ ì‚¬ìš©í•˜ë©´ ì˜µì €ë²„ ê°ì²´ë“¤ì„ ë¦¬ìŠ¤íŠ¸ë¡œ ê´€ë¦¬í•  í•„ìš”ê°€ ì—†ë‹¤.</p>

<p><br /></p>

<h2 id="-ì˜ˆì œ-1">ğŸ”” ì˜ˆì œ 1</h2>

<h3 id="observer">ğŸ“œObserver</h3>

<div class="language-c# highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ì˜µì €ë²„ ì¶”ìƒí´ë˜ìŠ¤</span>
<span class="c1">// : ì˜µì €ë²„ë“¤ì´ êµ¬í˜„í•´ì•¼ í•  ì¸í„°í˜ì´ìŠ¤ ë©”ì„œë“œ</span>
<span class="k">public</span> <span class="k">abstract</span> <span class="k">class</span> <span class="nc">Observer</span>
<span class="p">{</span>
    <span class="c1">// ìƒíƒœ update ë©”ì„œë“œ</span>
    <span class="k">public</span> <span class="k">abstract</span> <span class="k">void</span> <span class="nf">OnNotify</span><span class="p">();</span>
<span class="p">}</span>

</code></pre></div></div>

<p><br /></p>

<h3 id="concreteobserver1">ğŸ“œConcreteObserver1</h3>

<div class="language-c# highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">System.Collections</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>

<span class="c1">// ì˜µì €ë²„ êµ¬í˜„í´ë˜ìŠ¤</span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">ConcreteObserver1</span> <span class="p">:</span> <span class="n">Observer</span>
<span class="p">{</span>
    <span class="c1">// ëŒ€ìƒíƒ€ì…ì˜ í´ë˜ìŠ¤ì—ì„œ ì´ ë©”ì†Œë“œë¥¼ ì‹¤í–‰ì‹œí‚´</span>
    <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnNotify</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">Debug</span><span class="p">.</span><span class="nf">Log</span><span class="p">(</span><span class="s">"ì˜µì €ë²„ í´ë˜ìŠ¤ì˜ ë©”ì„œë“œ ì‹¤í–‰ #1"</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<p><br /></p>

<h3 id="concreteobserver2">ğŸ“œConcreteObserver2</h3>

<div class="language-c# highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">System.Collections</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>

<span class="c1">// ì˜µì €ë²„ êµ¬í˜„í´ë˜ìŠ¤</span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">ConcreteObserver2</span> <span class="p">:</span> <span class="n">Observer</span>
<span class="p">{</span>
    <span class="c1">// ëŒ€ìƒíƒ€ì…ì˜ í´ë˜ìŠ¤ì—ì„œ ì´ ë©”ì†Œë“œë¥¼ ì‹¤í–‰ì‹œí‚´</span>
    <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnNotify</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">Debug</span><span class="p">.</span><span class="nf">Log</span><span class="p">(</span><span class="s">"ì˜µì €ë²„ í´ë˜ìŠ¤ì˜ ë©”ì„œë“œ ì‹¤í–‰ #2"</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><br /></p>

<h3 id="subject">ğŸ“œSubject</h3>

<div class="language-c# highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ëŒ€ìƒ ì¸í„°í˜ì´ìŠ¤</span>
<span class="c1">// : ì˜µì €ë²„ ê´€ë¦¬, í™œìš©ì— ê´€í•œ íƒ€ì… ì •ì˜</span>
<span class="k">public</span> <span class="k">interface</span> <span class="nc">ISubject</span>
<span class="p">{</span>
    <span class="k">void</span> <span class="nf">AddObserver</span><span class="p">(</span><span class="n">Observer</span> <span class="n">o</span><span class="p">);</span>
    <span class="k">void</span> <span class="nf">RemoveObserver</span><span class="p">(</span><span class="n">Observer</span> <span class="n">o</span><span class="p">);</span>
    <span class="k">void</span> <span class="nf">Notify</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div></div>

<blockquote>
  <p>ëª¨ë“  Subject ì¸í„°í˜ì´ìŠ¤ ìì‹ í´ë˜ìŠ¤ë“¤ì€ ìœ„ í•¨ìˆ˜ë“¤ìœ¼ ã„¹ì˜¤ë²„ë¼ì´ë”© í•´ì•¼ í•œë‹¤.</p>
</blockquote>

<ul>
  <li>AddObserver
    <ul>
      <li>ë©”ì„¸ì§€ ë¿Œë¦´ ì˜µì €ë²„ ì¶”ê°€</li>
    </ul>
  </li>
  <li>RemoveObserver
    <ul>
      <li>ë©”ì„¸ì§€ ë¿Œë¦´ ì˜µì €ë²„ ì‚­ì œ</li>
    </ul>
  </li>
  <li>Notify
    <ul>
      <li>ì˜µì €ë²„ë“¤ì—ê²Œ ì—°ë½í•˜ëŠ” í•¨ìˆ˜</li>
    </ul>
  </li>
</ul>

<p><br /></p>

<h3 id="concretesubject">ğŸ“œConcreteSubject</h3>

<div class="language-c# highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">System.Collections</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>

<span class="c1">// ëŒ€ìƒ í´ë˜ìŠ¤</span>
<span class="c1">// : ëŒ€ìƒ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ í´ë˜ìŠ¤</span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">ConcreteSubject</span> <span class="p">:</span> <span class="n">MonoBehaviour</span><span class="p">,</span> <span class="n">ISubject</span>
<span class="p">{</span>
    <span class="n">List</span><span class="p">&lt;</span><span class="n">Observer</span><span class="p">&gt;</span> <span class="n">observers</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Observer</span><span class="p">&gt;();</span>  <span class="c1">// ì˜µì €ë²„ë¥¼ ê´€ë¦¬í•˜ëŠ” List</span>

    <span class="c1">// ê´€ë¦¬í•  ì˜µì €ë²„ë¥¼ ë“±ë¡</span>
    <span class="k">public</span> <span class="k">void</span> <span class="nf">AddObserver</span><span class="p">(</span><span class="n">Observer</span> <span class="n">observer</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">observers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">observer</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">// ê´€ë¦¬ì¤‘ì¸ ì˜µì €ë²„ë¥¼ ì‚­ì œ</span>
    <span class="k">public</span> <span class="k">void</span> <span class="nf">RemoveObserver</span><span class="p">(</span><span class="n">Observer</span> <span class="n">observer</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">observers</span><span class="p">.</span><span class="nf">IndexOf</span><span class="p">(</span><span class="n">observer</span><span class="p">)</span> <span class="p">&gt;</span> <span class="m">0</span><span class="p">)</span> <span class="n">observers</span><span class="p">.</span><span class="nf">Remove</span><span class="p">(</span><span class="n">observer</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">// ê´€ë¦¬ì¤‘ì¸ ì˜µì €ë²„ì—ê²Œ ì—°ë½</span>
    <span class="k">public</span> <span class="k">void</span> <span class="nf">Notify</span><span class="p">()</span>
    <span class="p">{</span>
<span class="c1">//        for (int i = 0; i &lt; observers.Count; i++)</span>
<span class="c1">//        {</span>
<span class="c1">//            observers[i].OnNotify();</span>
<span class="c1">//        }</span>
		<span class="k">foreach</span> <span class="p">(</span><span class="n">Observer</span> <span class="n">o</span> <span class="k">in</span> <span class="n">observers</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="n">o</span><span class="p">.</span><span class="nf">OnNotify</span><span class="p">();</span>
		<span class="p">}</span>
    <span class="p">}</span>

    <span class="k">void</span> <span class="nf">Start</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">Observer</span> <span class="n">obj1</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ConcreteObserver1</span><span class="p">();</span>
        <span class="n">Observer</span> <span class="n">obj2</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ConcreteObserver2</span><span class="p">();</span>

        <span class="nf">AddObserver</span><span class="p">(</span><span class="n">obj1</span><span class="p">);</span>
        <span class="nf">AddObserver</span><span class="p">(</span><span class="n">obj2</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<ul>
  <li>ì˜µì €ë²„ë“¤ì„ ë¦¬ìŠ¤íŠ¸ë¡œ ê´€ë¦¬</li>
  <li>Notify() í•¨ìˆ˜ë¥¼ í†µí•´ ì˜µì €ë²„ë“¤ì˜ OnNotify() í•¨ìˆ˜ë¥¼ ë‹¤ ì‹¤í–‰ì‹œí‚´
    <ul>
      <li>ìœ ë‹ˆí‹° ë²„íŠ¼ ì´ë²¤íŠ¸ì— ì´ Notify() í•¨ìˆ˜ë¥¼ ì¶”ê°€í•˜ì—¬, ë²„íŠ¼ì´ ëˆŒë¦¬ë©´ ì˜µì €ë²„ë“¤ì˜ OnNotify() í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ë„ë¡ í•œë‹¤.</li>
    </ul>
  </li>
</ul>

<p><br /></p>

<h2 id="-ì˜ˆì œ-2">ğŸ”” ì˜ˆì œ 2</h2>

<h3 id="observer-1">ğŸ“œObserver</h3>

<div class="language-c# highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ì˜µì €ë²„ ì¶”ìƒí´ë˜ìŠ¤</span>
<span class="c1">// : ì˜µì €ë²„ë“¤ì´ êµ¬í˜„í•´ì•¼ í•  ì¸í„°í˜ì´ìŠ¤ ë©”ì„œë“œ</span>
<span class="k">public</span> <span class="k">abstract</span> <span class="k">class</span> <span class="nc">Observer</span>
<span class="p">{</span>
    <span class="c1">// ìƒíƒœ update ë©”ì„œë“œ</span>
    <span class="k">public</span> <span class="k">abstract</span> <span class="k">void</span> <span class="nf">OnNotify</span><span class="p">(</span><span class="kt">int</span> <span class="n">num</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>ì´ë²ˆì—” Subject ë¡œ ë¶€í„° íŒŒë¼ë¯¸í„° ë°ì´í„°ë¥¼ ë°›ëŠ”ë‹¤.</li>
</ul>

<p><br /></p>

<h3 id="concreteobserver1-1">ğŸ“œConcreteObserver1</h3>

<div class="language-c# highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">System.Collections</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>

<span class="c1">// ì˜µì €ë²„ êµ¬í˜„í´ë˜ìŠ¤</span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">ConcreteObserver1</span> <span class="p">:</span> <span class="n">Observer</span>
<span class="p">{</span>
    <span class="n">GameObject</span> <span class="n">obj</span><span class="p">;</span>

    <span class="c1">// ìƒì„±ìë¥¼ í†µí•´ ê°ì²´ ì „ë‹¬</span>
    <span class="k">public</span> <span class="nf">ConcreteObserver1</span><span class="p">(</span><span class="n">GameObject</span> <span class="n">obj</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="n">obj</span> <span class="p">=</span> <span class="n">obj</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// ëŒ€ìƒíƒ€ì…ì˜ í´ë˜ìŠ¤ì—ì„œ ì´ ë©”ì†Œë“œë¥¼ ì‹¤í–‰ì‹œí‚´</span>
    <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnNotify</span><span class="p">(</span><span class="kt">int</span> <span class="n">num</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">int</span> <span class="n">num2</span> <span class="p">=</span> <span class="n">obj</span><span class="p">.</span><span class="n">gameObject</span><span class="p">.</span><span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">ConcreteSubject</span><span class="p">&gt;().</span><span class="nf">getNum</span><span class="p">();</span>

        <span class="n">Debug</span><span class="p">.</span><span class="nf">Log</span><span class="p">(</span><span class="s">"ì˜µì €ë²„ í´ë˜ìŠ¤ì˜ ë©”ì„œë“œ ì‹¤í–‰ #1"</span><span class="p">);</span>
        <span class="n">Debug</span><span class="p">.</span><span class="nf">Log</span><span class="p">(</span><span class="s">"ë©”ì„œë“œì˜ íŒŒë¼ë¯¸í„° : "</span> <span class="p">+</span> <span class="n">num</span><span class="p">);</span>
        <span class="n">Debug</span><span class="p">.</span><span class="nf">Log</span><span class="p">(</span><span class="s">"ê°ì²´ ë³€ìˆ˜ë¥¼ í†µí•œ ì ‘ê·¼ : "</span> <span class="p">+</span> <span class="n">num2</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>


</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">obj</code>ë¡œ ë¶€í„° ì„œë¸Œì íŠ¸ ğŸ“œConcreteSubject ê°€ ë¶™ì–´ìˆëŠ” ì˜¤ë¸Œì íŠ¸ë¥¼ ë°›ëŠ”ë‹¤.
    <ul>
      <li>ğŸ“œConcreteSubjectì˜ í•¨ìˆ˜ì™€ ë°ì´í„°ë¥¼ ì˜µì €ë²„ê°€ ë°›ê¸° ìœ„í•˜ì—¬</li>
    </ul>
  </li>
</ul>

<p><br /></p>

<h3 id="concreteobserver2-1">ğŸ“œConcreteObserver2</h3>

<div class="language-c# highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">System.Collections</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>

<span class="c1">// ì˜µì €ë²„ êµ¬í˜„í´ë˜ìŠ¤</span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">ConcreteObserver2</span> <span class="p">:</span> <span class="n">Observer</span>
<span class="p">{</span>
    <span class="n">GameObject</span> <span class="n">obj</span><span class="p">;</span>

    <span class="c1">// ìƒì„±ìë¥¼ í†µí•´ ê°ì²´ ì „ë‹¬</span>
    <span class="k">public</span> <span class="nf">ConcreteObserver2</span><span class="p">(</span><span class="n">GameObject</span> <span class="n">obj</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="n">obj</span> <span class="p">=</span> <span class="n">obj</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// ëŒ€ìƒíƒ€ì…ì˜ í´ë˜ìŠ¤ì—ì„œ ì´ ë©”ì†Œë“œë¥¼ ì‹¤í–‰ì‹œí‚´</span>
    <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnNotify</span><span class="p">(</span><span class="kt">int</span> <span class="n">num</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">int</span> <span class="n">num2</span> <span class="p">=</span> <span class="n">obj</span><span class="p">.</span><span class="n">gameObject</span><span class="p">.</span><span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">ConcreteSubject</span><span class="p">&gt;().</span><span class="nf">getNum</span><span class="p">();</span>

        <span class="n">Debug</span><span class="p">.</span><span class="nf">Log</span><span class="p">(</span><span class="s">"ì˜µì €ë²„ í´ë˜ìŠ¤ì˜ ë©”ì„œë“œ ì‹¤í–‰ #2"</span><span class="p">);</span>
        <span class="n">Debug</span><span class="p">.</span><span class="nf">Log</span><span class="p">(</span><span class="s">"ë©”ì„œë“œì˜ íŒŒë¼ë¯¸í„° : "</span> <span class="p">+</span> <span class="n">num</span><span class="p">);</span>
        <span class="n">Debug</span><span class="p">.</span><span class="nf">Log</span><span class="p">(</span><span class="s">"ê°ì²´ ë³€ìˆ˜ë¥¼ í†µí•œ ì ‘ê·¼ : "</span> <span class="p">+</span> <span class="n">num2</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">obj</code>ë¡œ ë¶€í„° ì„œë¸Œì íŠ¸ ğŸ“œConcreteSubject ê°€ ë¶™ì–´ìˆëŠ” ì˜¤ë¸Œì íŠ¸ë¥¼ ë°›ëŠ”ë‹¤.
    <ul>
      <li>ğŸ“œConcreteSubjectì˜ í•¨ìˆ˜ì™€ ë°ì´í„°ë¥¼ ì˜µì €ë²„ê°€ ë°›ê¸° ìœ„í•˜ì—¬</li>
    </ul>
  </li>
</ul>

<p><br /></p>

<h3 id="subject-1">ğŸ“œSubject</h3>

<div class="language-c# highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ëŒ€ìƒ ì¸í„°í˜ì´ìŠ¤</span>
<span class="c1">// : ì˜µì €ë²„ ê´€ë¦¬, í™œìš©ì— ê´€í•œ íƒ€ì… ì •ì˜</span>
<span class="k">public</span> <span class="k">interface</span> <span class="nc">ISubject</span>
<span class="p">{</span>
    <span class="k">void</span> <span class="nf">AddObserver</span><span class="p">(</span><span class="n">Observer</span> <span class="n">o</span><span class="p">);</span>
    <span class="k">void</span> <span class="nf">RemoveObserver</span><span class="p">(</span><span class="n">Observer</span> <span class="n">o</span><span class="p">);</span>
    <span class="k">void</span> <span class="nf">Notify</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div></div>

<blockquote>
  <p>ëª¨ë“  Subject ì¸í„°í˜ì´ìŠ¤ ìì‹ í´ë˜ìŠ¤ë“¤ì€ ìœ„ í•¨ìˆ˜ë“¤ìœ¼ ã„¹ì˜¤ë²„ë¼ì´ë”© í•´ì•¼ í•œë‹¤.</p>
</blockquote>

<ul>
  <li>AddObserver
    <ul>
      <li>ë©”ì„¸ì§€ ë¿Œë¦´ ì˜µì €ë²„ ì¶”ê°€</li>
    </ul>
  </li>
  <li>RemoveObserver
    <ul>
      <li>ë©”ì„¸ì§€ ë¿Œë¦´ ì˜µì €ë²„ ì‚­ì œ</li>
    </ul>
  </li>
  <li>Notify
    <ul>
      <li>ì˜µì €ë²„ë“¤ì—ê²Œ ì—°ë½í•˜ëŠ” í•¨ìˆ˜</li>
    </ul>
  </li>
</ul>

<p><br /></p>

<h3 id="concretesubject-1">ğŸ“œConcreteSubject</h3>

<div class="language-c# highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">System.Collections</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>

<span class="c1">// ëŒ€ìƒ í´ë˜ìŠ¤</span>
<span class="c1">// : ëŒ€ìƒ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ í´ë˜ìŠ¤</span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">ConcreteSubject</span> <span class="p">:</span> <span class="n">MonoBehaviour</span><span class="p">,</span> <span class="n">ISubject</span>
<span class="p">{</span>
    <span class="n">List</span><span class="p">&lt;</span><span class="n">Observer</span><span class="p">&gt;</span> <span class="n">observers</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Observer</span><span class="p">&gt;();</span>  <span class="c1">// ì˜µì €ë²„ë¥¼ ê´€ë¦¬í•˜ëŠ” List</span>
    <span class="k">private</span> <span class="kt">int</span> <span class="n">myNum</span><span class="p">;</span>

    <span class="c1">// ê´€ë¦¬í•  ì˜µì €ë²„ë¥¼ ë“±ë¡</span>
    <span class="k">public</span> <span class="k">void</span> <span class="nf">AddObserver</span><span class="p">(</span><span class="n">Observer</span> <span class="n">observer</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">observers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">observer</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">// ê´€ë¦¬ì¤‘ì¸ ì˜µì €ë²„ë¥¼ ì‚­ì œ</span>
    <span class="k">public</span> <span class="k">void</span> <span class="nf">RemoveObserver</span><span class="p">(</span><span class="n">Observer</span> <span class="n">observer</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">observers</span><span class="p">.</span><span class="nf">IndexOf</span><span class="p">(</span><span class="n">observer</span><span class="p">)</span> <span class="p">&gt;</span> <span class="m">0</span><span class="p">)</span> <span class="n">observers</span><span class="p">.</span><span class="nf">Remove</span><span class="p">(</span><span class="n">observer</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">// ê´€ë¦¬ì¤‘ì¸ ì˜µì €ë²„ì—ê²Œ ì—°ë½</span>
    <span class="k">public</span> <span class="k">void</span> <span class="nf">Notify</span><span class="p">()</span>
    <span class="p">{</span>
		  <span class="k">foreach</span> <span class="p">(</span><span class="n">Observer</span> <span class="n">o</span> <span class="k">in</span> <span class="n">observers</span><span class="p">)</span>
		  <span class="p">{</span>
			  <span class="n">o</span><span class="p">.</span><span class="nf">OnNotify</span><span class="p">(</span><span class="n">myNum</span><span class="p">);</span> 
		  <span class="p">}</span> 
    <span class="p">}</span>

    <span class="k">void</span> <span class="nf">Start</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">myNum</span> <span class="p">=</span> <span class="m">10</span><span class="p">;</span>

        <span class="n">Observer</span> <span class="n">obj1</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ConcreteObserver1</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">gameObject</span><span class="p">);</span>
        <span class="n">Observer</span> <span class="n">obj2</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ConcreteObserver2</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">gameObject</span><span class="p">);</span>

        <span class="nf">AddObserver</span><span class="p">(</span><span class="n">obj1</span><span class="p">);</span>
        <span class="nf">AddObserver</span><span class="p">(</span><span class="n">obj2</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="kt">int</span> <span class="nf">getNum</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="n">myNum</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>


</code></pre></div></div>

<ul>
  <li>ì˜µì €ë²„ë“¤ì—ê²Œ <code class="language-plaintext highlighter-rouge">myNum</code> ë°ì´í„°ë¥¼ ì•Œë ¤ì¤€ë‹¤.  <code class="language-plaintext highlighter-rouge">o.OnNotify(myNum);</code></li>
  <li>ì˜µì €ë²„ë“¤ì—ê²Œ ìì‹ ì˜ ì˜¤ë¸Œì íŠ¸ë¥¼ ë„˜ê²¨ <code class="language-plaintext highlighter-rouge">this.gameObject</code>, ì´ë¥¼ í†µí•´ ğŸ“œConcreteSubject ì˜ <code class="language-plaintext highlighter-rouge">getNum()</code> í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.</li>
</ul>

<p><br /></p>

<h2 id="-ì˜ˆì œ-3-delegate-ì‚¬ìš©">ğŸ”” ì˜ˆì œ 3 (delegate ì‚¬ìš©)</h2>

<p>ë‚˜ë¨¸ì§€ ì½”ë“œë“¤ì€ ì˜ˆì œ 2 ì™€ ì¼ì¹˜í•˜ë‹¤.</p>

<h3 id="concretesubject-2">ğŸ“œConcreteSubject</h3>

<div class="language-c# highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">System.Collections</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">ConcreteSubject</span> <span class="p">:</span> <span class="n">MonoBehaviour</span>
<span class="p">{</span>
  <span class="c1">//  List&lt;Observer&gt; observers = new List&lt;Observer&gt;();  // ì˜µì €ë²„ë¥¼ ê´€ë¦¬í•˜ëŠ” List</span>
  
    <span class="k">private</span> <span class="kt">int</span> <span class="n">myNum</span><span class="p">;</span>

	  <span class="k">delegate</span> <span class="k">void</span> <span class="nf">NotiHandler</span><span class="p">(</span><span class="kt">int</span> <span class="n">num</span><span class="p">);</span>
	  <span class="n">NotiHandler</span> <span class="n">_notiHandler</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">void</span> <span class="nf">Notify</span><span class="p">()</span>
    <span class="p">{</span>
		    <span class="nf">_notiHandler</span><span class="p">(</span><span class="n">myNum</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">void</span> <span class="nf">Start</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">myNum</span> <span class="p">=</span> <span class="m">10</span><span class="p">;</span>

        <span class="n">Observer</span> <span class="n">obj1</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ConcreteObserver1</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">gameObject</span><span class="p">);</span>
        <span class="n">Observer</span> <span class="n">obj2</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ConcreteObserver2</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">gameObject</span><span class="p">);</span>

		    <span class="n">_notiHandler</span> <span class="p">+=</span> <span class="k">new</span> <span class="nf">NotiHandler</span><span class="p">(</span><span class="n">obj1</span><span class="p">.</span><span class="n">OnNotify</span><span class="p">);</span>
		    <span class="n">_notiHandler</span> <span class="p">+=</span> <span class="k">new</span> <span class="nf">NotiHandler</span><span class="p">(</span><span class="n">obj2</span><span class="p">.</span><span class="n">OnNotify</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="kt">int</span> <span class="nf">getNum</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="n">myNum</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<ul>
  <li>int íŒŒë¼ë¯¸í„° í•˜ë‚˜ë¥¼ ë°›ëŠ” void í˜• í•¨ìˆ˜ë“¤ë§Œ ë“±ë¡í•  ìˆ˜ ìˆëŠ” <code class="language-plaintext highlighter-rouge">_notiHandler</code> ë¸ë¦¬ê²Œì´íŠ¸ ê°ì²´ë¥¼ ìƒì„±í•œë‹¤.
    <ul>
      <li>ğŸ“œConcreteSubjectì˜ Notify()ëŠ” ì´ ë¸ë¦¬ê²Œì´íŠ¸ë¥¼ íŒŒë¼ë¯¸í„°ë§Œ ë„˜ê²¨ ì‹¤í–‰ì‹œí‚¬ ë¿ì´ë‹¤. ì–´ë–¤ í•¨ìˆ˜ë“¤ì´ ë“±ë¡ë˜ìˆëŠ”ì§€ ì•Œ í•„ìš” ì—†ëŠ” ì²´ë¡œ.
        <ul>
          <li>ì´ì „ì— ê°œë³„ì ìœ¼ë¡œ ë¦¬ìŠ¤íŠ¸ì— ì˜µì €ë²„ ê°ì²´ë“¤ì„ ì €ì¥í•´ë‘ê³  forë¬¸ ëŒë ¤ ì¼ì¼ì´ ì˜µì €ë²„ë“¤ì˜ OnNotifyë¥¼ ì‹¤í–‰ì‹œì¼°ë˜ ê²ƒê³¼ ë‹¬ë¦¬ ê°„ë‹¨.</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>ë¸ë¦¬ê²Œì´íŠ¸ì— ê·¸ì € ì˜µì €ë²„ì˜ OnNotify í•¨ìˆ˜ë¥¼ ë“±ë¡ì‹œí‚¬ ë¿ì´ë‹¤.
    <div class="language-c# highlighter-rouge"><div class="highlight"><pre class="highlight"><code>		  <span class="n">_notiHandler</span> <span class="p">+=</span> <span class="k">new</span> <span class="nf">NotiHandler</span><span class="p">(</span><span class="n">obj1</span><span class="p">.</span><span class="n">OnNotify</span><span class="p">);</span>
          <span class="n">_notiHandler</span> <span class="p">+=</span> <span class="k">new</span> <span class="nf">NotiHandler</span><span class="p">(</span><span class="n">obj2</span><span class="p">.</span><span class="n">OnNotify</span><span class="p">);</span>
</code></pre></div>    </div>
  </li>
</ul>

<hr />
<p><br /></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ğŸŒœ ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ì˜¤ë¥˜ë‚˜ í‹€ë¦° ë¶€ë¶„ì´ ìˆì„ ê²½ìš° 
ì–¸ì œë“ ì§€ ëŒ“ê¸€ í˜¹ì€ ë©”ì¼ë¡œ ì§€ì í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ˜„
</code></pre></div></div>

<p><a href="#" class="btn btn--primary align-right">ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°</a></p>
:ET
I"-)<p class="notice--warning">인프런에 있는 홍정모 교수님의 <strong>홍정모의 따라 하며 배우는 C++</strong> 강의를 듣고 정리한 필기입니다. 😀  <br />
<a href="https://www.inflearn.com/course/following-c-plus">🌜 [홍정모의 따라 하며 배우는 C++]강의 들으러 가기!</a></p>

<p><br /></p>

<h1 id="chapter-18-입력과-출력">chapter 18. 입력과 출력</h1>

<h1 id="파일의-임의-위치-접근하기">파일의 임의 위치 접근하기</h1>

<h2 id="-seekgsint-n">🔔 seekgs(int n)</h2>

<blockquote>
  <p>파일 내부의 위치를 n번째 글자 (n byte) 로 옮겨놓는다.</p>
</blockquote>

<p><img src="https://user-images.githubusercontent.com/42318591/91730404-d1021e00-ebe0-11ea-9d64-011f5ef1868b.png" alt="image" width="80%" height="80%" class="align-center" /></p>

<p><img src="https://user-images.githubusercontent.com/42318591/91730464-dd867680-ebe0-11ea-87c4-6189d793b9c0.png" alt="image" width="80%" height="80%" class="align-center" /></p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">ifs.tellg()</code>: 파일 내부의 현재 위치를 알려 줌.</li>
  <li><code class="language-plaintext highlighter-rouge">ifstream ifs ("file.txt")</code>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">ifs.seekg(5)</code>  :  디폴트 → 처음을 기준으로 5번째 위치</li>
      <li><code class="language-plaintext highlighter-rouge">ifs.seekg(5, ios::cur )</code> : 현재 위치를 기준으로 5번째 위치</li>
      <li><code class="language-plaintext highlighter-rouge">ifs.seekg(-5, ios::end )</code> : 끝 위치를 기준으로 끝에서 5번째 위치</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">getline(ifs, str)</code> 하면 ifs로부터 엔터 포하 한 줄씩 읽어들여와 str에 저장</li>
  <li>현재 file.txt 에  abcdefghijklmnopqrstuvwxyz  가 저장되어 있다고 가정.
    <ul>
      <li>사진 참고 !!!
        <ul>
          <li>5번째 f 출력</li>
          <li>현재위치 5.  여기서 5번째니까 총 10번째  l 출력</li>
          <li><code class="language-plaintext highlighter-rouge">ifs.seekg(0, ios::end);</code>  : 마지막 위치로부터 0번쨰니까 전체 28번째</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;iostream&gt;
#include &lt;fstream&gt;
#include &lt;string&gt;
#include &lt;sstream&gt;
#include &lt;cstdlib&gt;		// for exit();
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
	<span class="k">const</span> <span class="n">string</span> <span class="n">filename</span> <span class="o">=</span> <span class="s">"file.txt"</span><span class="p">;</span>

	<span class="c1">// Make a file </span>
	<span class="k">if</span> <span class="p">(</span><span class="nb">true</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">ofstream</span> <span class="n">ofs</span><span class="p">(</span><span class="n">filename</span><span class="p">);</span>
		<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">ofs</span><span class="p">)</span> <span class="p">{</span> <span class="n">std</span><span class="o">::</span><span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="s">"Making file error</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span> <span class="n">exit</span><span class="p">(</span><span class="n">EXIT_FAILURE</span><span class="p">);</span>  <span class="p">}</span>

		<span class="k">for</span> <span class="p">(</span><span class="kt">char</span> <span class="n">i</span> <span class="o">=</span> <span class="sc">'a'</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="sc">'z'</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>  <span class="c1">// a ~ z 를 file.txt에 써 저장.</span>
			<span class="n">ofs</span> <span class="o">&lt;&lt;</span> <span class="n">i</span> <span class="p">;</span>
		<span class="n">ofs</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="c1">// Read the file</span>
	<span class="k">if</span> <span class="p">(</span><span class="nb">true</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">ifstream</span> <span class="n">ifs</span><span class="p">(</span><span class="n">filename</span><span class="p">);</span>
		<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">ifs</span><span class="p">)</span> <span class="p">{</span> <span class="n">std</span><span class="o">::</span><span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="s">"Opening file error</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span> <span class="n">exit</span><span class="p">(</span><span class="n">EXIT_FAILURE</span><span class="p">);</span>  <span class="p">}</span>

		<span class="n">ifs</span><span class="p">.</span><span class="n">seekg</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>						<span class="c1">// ifs.seekg(5, ios::beg); 처음부터 5바이트 떨어진 곳에서 시작.</span>
		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="kt">char</span><span class="p">)</span><span class="n">ifs</span><span class="p">.</span><span class="n">get</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>	<span class="c1">// 한 글자를 읽어온다. 문자열이면 getline()</span>

		<span class="n">ifs</span><span class="p">.</span><span class="n">seekg</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">ios</span><span class="o">::</span><span class="n">cur</span><span class="p">);</span>				<span class="c1">// 현재 위치로부터 5바이트 떨어진 곳에서 시작.</span>
		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="kt">char</span><span class="p">)</span><span class="n">ifs</span><span class="p">.</span><span class="n">get</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>	<span class="c1">// 한 글자를 읽어온다.</span>

		<span class="n">ifs</span><span class="p">.</span><span class="n">seekg</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">ios</span><span class="o">::</span><span class="n">end</span><span class="p">);</span>				<span class="c1">// 마지막 위치로부터 0바이트 떨어진 곳에서 시작.</span>
		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">ifs</span><span class="p">.</span><span class="n">tellg</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>		<span class="c1">// tellg() - 현재 위치를 알려준다.</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><br /></p>

<h2 id="-파일을-한번-열어서-읽기도-하고-쓰기도-하는-방법">🔔 파일을 한번 열어서 읽기도 하고 쓰기도 하는 방법</h2>

<ul>
  <li><code class="language-plaintext highlighter-rouge">fstream ifs;</code>
    <ul>
      <li>ofstream 이랑 ifstream 합쳐진 형태</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">ifs.get()</code> : 한 문자씩 파일에서 꺼내오기 (공백도 꺼내옴)</li>
  <li><code class="language-plaintext highlighter-rouge">ifs.put()</code> : 한 문자씩 파일에 덮어 쓰기</li>
  <li>파일을 열어 보면 5번째 문자 자리에 ‘A’가 덮어씌워진 것을 볼 수 있다.</li>
</ul>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>	<span class="k">if</span><span class="p">(</span><span class="nb">true</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">fstream</span> <span class="n">iofs</span><span class="p">(</span><span class="n">filename</span><span class="p">);</span>
		<span class="k">for</span> <span class="p">(</span><span class="kt">char</span> <span class="n">i</span> <span class="o">=</span> <span class="sc">'a'</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="sc">'o'</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
			<span class="n">iofs</span><span class="p">.</span><span class="n">put</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
		<span class="n">iofs</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>

		<span class="n">iofs</span><span class="p">.</span><span class="n">seekg</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="kt">char</span><span class="p">)</span><span class="n">iofs</span><span class="p">.</span><span class="n">get</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>	<span class="c1">// read;</span>

		<span class="n">iofs</span><span class="p">.</span><span class="n">seekg</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
		<span class="n">iofs</span><span class="p">.</span><span class="n">put</span><span class="p">(</span><span class="sc">'!'</span><span class="p">);</span>						<span class="c1">// write;</span>
	<span class="p">}</span>
</code></pre></div></div>

<hr />
<p><br /></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>🌜 개인 공부 기록용 블로그입니다. 오류나 틀린 부분이 있을 경우 
언제든지 댓글 혹은 메일로 지적해주시면 감사하겠습니다! 😄
</code></pre></div></div>

<p><a href="#" class="btn btn--primary align-right">맨 위로 이동하기</a>
<br /></p>
:ET
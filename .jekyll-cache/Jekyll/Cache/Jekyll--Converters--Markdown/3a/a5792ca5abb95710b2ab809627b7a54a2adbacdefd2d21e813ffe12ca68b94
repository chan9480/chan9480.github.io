I"S#<p class="notice--warning">ì¸í”„ëŸ°ì— ìˆëŠ” í™ì •ëª¨ êµìˆ˜ë‹˜ì˜ <strong>í™ì •ëª¨ì˜ ë”°ë¼ í•˜ë©° ë°°ìš°ëŠ” C++</strong> ê°•ì˜ë¥¼ ë“£ê³  ì •ë¦¬í•œ í•„ê¸°ì…ë‹ˆë‹¤. ğŸ˜€  <br />
<a href="https://www.inflearn.com/course/following-c-plus">ğŸŒœ [í™ì •ëª¨ì˜ ë”°ë¼ í•˜ë©° ë°°ìš°ëŠ” C++]ê°•ì˜ ë“¤ìœ¼ëŸ¬ ê°€ê¸°!</a></p>

<p><br /></p>

<h1 id="chapter-14-ì˜ˆì™¸ì²˜ë¦¬--stdexception">chapter 14. ì˜ˆì™¸ì²˜ë¦¬ : std::exception</h1>

<h2 id="-stdexception">ğŸ”” std::exception</h2>

<blockquote>
  <p>#include &lt;exception&gt;</p>
</blockquote>

<ul>
  <li><code class="language-plaintext highlighter-rouge">if-elseë¬¸</code>ì„ í†µí•´ ì˜ˆì™¸ë¥¼ ì¸ì§€í•˜ê²Œ í•œ í›„ ì§ì ‘ <code class="language-plaintext highlighter-rouge">throw</code>ë¥¼ ë˜ì¡Œì—ˆì§€ë§Œ ë¬¸ì œê°€ ìƒê¸°ë©´ std::exception í´ë˜ìŠ¤ë¥¼ í†µí•´ ì‹œìŠ¤í…œ ìƒ <u>ë‚´ë¶€ì—ì„œ ì•Œì•„ì„œ ë°œìƒí•œ ì˜ˆì™¸ë¥¼ throw í•œë‹¤.</u></li>
  <li>C++ í‘œì¤€ í´ë˜ìŠ¤ë¡œ, <u>ì˜ˆì™¸ì˜ ì—¬ëŸ¬ ì¢…ë¥˜ë“¤ì„ ë‚˜íƒ€ë‚´ëŠ” ì—¬ëŸ¬ ìì‹ í´ë˜ìŠ¤</u>ë“¤ì„ ë‘ê³  ìˆë‹¤.
    <ul>
      <li><em>runtime_error í´ë˜ìŠ¤</em>, <em>logic_error í´ë˜ìŠ¤</em> ë“±ë“± C++ í‘œì¤€ì˜ <em>exception í´ë˜ìŠ¤</em> ë¥¼ ìƒì†ë°›ê³  ìˆë‹¤.</li>
    </ul>
  </li>
</ul>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;exception&gt;
</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
   <span class="k">try</span>
   <span class="p">{</span>
       <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">s</span><span class="p">;</span>
       <span class="n">s</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>  <span class="c1">// ì˜ˆì™¸ ë°œìƒ</span>
   <span class="p">}</span>
   <span class="k">catch</span> <span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">exception</span> <span class="o">&amp;</span> <span class="n">e</span><span class="p">)</span>
   <span class="p">{</span>
       <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="k">typeid</span><span class="p">(</span><span class="n">e</span><span class="p">).</span><span class="n">name</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
       <span class="n">std</span><span class="o">::</span><span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="n">e</span><span class="p">.</span><span class="n">what</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
   <span class="p">}</span>
   
   <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ğŸ’ì¶œë ¥ğŸ’

class std::length_error
string too long 
</code></pre></div></div>

<blockquote>
  <p>string ë¬¸ìì—´ì˜ ì‚¬ì´ì¦ˆë¥¼ -1ë¡œ ì§€ì •í•´ì„œ ë¬¸ì œê°€ ë°œìƒ</p>
</blockquote>

<ul>
  <li><code class="language-plaintext highlighter-rouge">throw</code> ì—†ì´ë„ <u>ì‹œìŠ¤í…œìƒ ë‚´ë¶€ì—ì„œ ì•Œì•„ì„œ ì˜ˆì™¸ ì¢…ë¥˜ì— ì•Œë§ëŠ” std::exception í´ë˜ìŠ¤ì˜ ìì‹ í´ë˜ìŠ¤ë¥¼ ë˜ì ¸ ì¤€ë‹¤.</u>
    <ul>
      <li>ê¸¸ì´ì— ëŒ€í•œ ì—ëŸ¬ì´ë¯€ë¡œ std::exception í´ë˜ìŠ¤ì˜ ìì‹ í´ë˜ìŠ¤ ì¤‘ í•˜ë‚˜ì¸ std::length_error ì˜ˆì™¸ í´ë˜ìŠ¤ ê°ì²´ê°€ ë˜ì ¸ì§„ë‹¤.
        <ul>
          <li><code class="language-plaintext highlighter-rouge">throw std::length_error(s)</code>ì´ ìˆ¨ê²¨ì ¸ ìˆëŠ” ê²ƒì´ë‚˜ ë§ˆì°¬ê°€ì§€.</li>
        </ul>
      </li>
      <li><code class="language-plaintext highlighter-rouge">catch (std::exception &amp; e)</code> ì—ì„œ ì´ë¥¼ ë°›ëŠ”ë‹¤.</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">typeid(e).name()</code>
    <ul>
      <li>â€œclass std::length_errorâ€ ì¶œë ¥</li>
    </ul>
  </li>
</ul>

<h3 id="what-í•¨ìˆ˜">what í•¨ìˆ˜</h3>

<blockquote>
  <p>ì˜ˆì™¸ ì¢…ë¥˜ì— ë§ëŠ” ì—ëŸ¬ ì›ì¸ ë©”ì„¸ì§€ë¥¼ ë¦¬í„´í•˜ëŠ” ê¸°ëŠ¥ì„ í•˜ëŠ” í•¨ìˆ˜ë‹¤.</p>
</blockquote>

<ul>
  <li>ì—ëŸ¬ ë©”ì„¸ì§€ë¥¼ ë¦¬í„´í•˜ë¯€ë¡œ ë¦¬í„´ íƒ€ì…ì€ <code class="language-plaintext highlighter-rouge">const char *</code>ì´ë‹¤.</li>
</ul>

<blockquote>
  <p>std::exception í´ë˜ìŠ¤ì˜ ëª¨ë“  ìì‹ í´ë˜ìŠ¤ëŠ” <u>virtual ê°€ìƒ í•¨ìˆ˜ì¸ what() í•¨ìˆ˜ë¥¼ ì˜¤ë²„ë¼ì´ë”© í•œë‹¤.</u></p>
</blockquote>

<ul>
  <li><code class="language-plaintext highlighter-rouge">e.what()</code>
    <ul>
      <li>â€œstring too longâ€ ì¶œë ¥
        <ul>
          <li>std::length_error í´ë˜ìŠ¤ì—ì„œëŠ” what() í•¨ìˆ˜ë¥¼ â€œstring too longâ€ ì¶œë ¥ í•˜ë„ë¡ ì˜¤ë²„ë¼ì´ë”© í•´ë†¨ê¸° ë•Œë¬¸ì— ì´ë ‡ê²Œ ë‚˜ì˜¨ ê²ƒ!</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p><br /></p>

<h2 id="-stdexception-ìƒì†-ë°›ëŠ”-ì‚¬ìš©ì-ì •ì˜-í´ë˜ìŠ¤-ë§Œë“¤ê¸°">ğŸ”” std::exception ìƒì† ë°›ëŠ” ì‚¬ìš©ì ì •ì˜ í´ë˜ìŠ¤ ë§Œë“¤ê¸°</h2>

<blockquote>
  <p><code class="language-plaintext highlighter-rouge">: public std::exception</code> í•´ì£¼ì–´ ìƒì† ë°›ê³  <u>what í•¨ìˆ˜ë¥¼ ì•„ë˜ì™€ ê°™ì´ ì˜¤ë²„ë¼ì´ë”©</u> í•´ì£¼ì–´ì•¼ í•œë‹¤.</p>
</blockquote>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;exception&gt;
</span>
<span class="k">class</span> <span class="nc">CustomException</span> <span class="o">:</span> <span class="k">public</span> <span class="n">std</span><span class="o">::</span><span class="n">exception</span>
<span class="p">{</span>
<span class="nl">public:</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span> <span class="n">what</span><span class="p">()</span> <span class="k">const</span> <span class="k">noexcept</span> <span class="k">override</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="s">"Custom exception"</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
   <span class="k">try</span>
   <span class="p">{</span>
       <span class="k">throw</span> <span class="n">CustomException</span><span class="p">();</span>  <span class="c1">// ì˜ˆì™¸ ë°œìƒ</span>
   <span class="p">}</span>
   <span class="k">catch</span> <span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">exception</span> <span class="o">&amp;</span> <span class="n">e</span><span class="p">)</span>
   <span class="p">{</span>
       <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="k">typeid</span><span class="p">(</span><span class="n">e</span><span class="p">).</span><span class="n">name</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
       <span class="n">std</span><span class="o">::</span><span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="n">e</span><span class="p">.</span><span class="n">what</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
   <span class="p">}</span>
   
   <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ğŸ’ì¶œë ¥ğŸ’

class CustomException
Custom exception
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">const char * what() const noexcept override</code>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">const</code> íƒ€ì…ì˜ ê°ì²´ë§Œ í˜¸ì¶œí•  ìˆ˜ ìˆìœ¼ë©°</li>
      <li><code class="language-plaintext highlighter-rouge">noexcept</code>
        <ul>
          <li>ì´ ì•ˆì—ì„  ì˜ˆì™¸ë¥¼ ë˜ì§€ì§€ ì•Šê² ë‹¤ëŠ” ì˜ë¯¸. C++ 11 ì´ìƒë¶€í„° ì‚¬ìš© ê°€ëŠ¥.</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<hr />
<p><br /></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ğŸŒœ ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ì˜¤ë¥˜ë‚˜ í‹€ë¦° ë¶€ë¶„ì´ ìˆì„ ê²½ìš° 
ì–¸ì œë“ ì§€ ëŒ“ê¸€ í˜¹ì€ ë©”ì¼ë¡œ ì§€ì í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ˜„
</code></pre></div></div>

<p><a href="#" class="btn btn--primary align-right">ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°</a>
<br /></p>
:ET
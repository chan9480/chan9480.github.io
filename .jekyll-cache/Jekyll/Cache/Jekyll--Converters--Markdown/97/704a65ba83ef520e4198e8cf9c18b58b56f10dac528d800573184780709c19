I"U><p class="notice--warning">ì¸í”„ëŸ°ì— ìˆëŠ” í™ì •ëª¨ êµìˆ˜ë‹˜ì˜ <strong>í™ì •ëª¨ì˜ ê²Œì„ ë§Œë“¤ê¸° ì—°ìŠµ ë¬¸ì œ íŒ¨í‚¤ì§€</strong> ê°•ì˜ë¥¼ ë“£ê³  ì •ë¦¬í•œ í•„ê¸°ì…ë‹ˆë‹¤.ğŸ˜€ <br />
<a href="https://github.com/jmhong-simulation/GameDevPracticePackage">ğŸŒœ ê³µë¶€ì— ì‚¬ìš©ëœ í™ì •ëª¨ êµìˆ˜ë‹˜ì˜ ì½”ë“œë“¤ ë³´ëŸ¬ê°€ê¸°</a> <br />
<a href="https://www.inflearn.com/course/c-2">ğŸŒœ [í™ì •ëª¨ì˜ ê²Œì„ ë§Œë“¤ê¸° ì—°ìŠµ ë¬¸ì œ íŒ¨í‚¤ì§€] ê°•ì˜ ë“¤ìœ¼ëŸ¬ ê°€ê¸°!</a></p>

<p><br /></p>

<h1 id="chapter-1-ê¸°ë³¸-ê¸°ëŠ¥-êµ¬í˜„">Chapter 1. ê¸°ë³¸ ê¸°ëŠ¥ êµ¬í˜„</h1>
<h1 id="13-ìƒí˜¸ì‘ìš©-ë§›ë³´ê¸°---í‚¤ë³´ë“œ-ì…ë ¥ê³¼-ë°˜ì‘">1.3 ìƒí˜¸ì‘ìš© ë§›ë³´ê¸° - í‚¤ë³´ë“œ ì…ë ¥ê³¼ ë°˜ì‘</h1>

<h2 id="-tankexampleh-ì½”ë“œ-ì„¤ëª…"><code class="language-plaintext highlighter-rouge">ğŸ“ƒ TankExample.h</code> ì½”ë“œ ì„¤ëª…</h2>

<ul>
  <li>class 3ê°œ
    <ol>
      <li>MyTank
        <ul>
          <li>íƒ±í¬ ê°ì²´ë¥¼ ì°ì–´ë‚¼ í´ë˜ìŠ¤</li>
        </ul>
      </li>
      <li>MyBullet
        <ul>
          <li>ì´ì•Œ ê°ì²´ë¥¼ ì°ì–´ë‚¼ í´ë˜ìŠ¤</li>
        </ul>
      </li>
      <li>TankExample
        <ul>
          <li>Game2Dë¥¼ ìƒì†ë°›ìœ¼ë©° updateí•¨ìˆ˜ë¥¼ ê°€ì§€ê³  ìˆë‹¤.</li>
          <li>ê²Œì„ì„ ì‹¤í–‰ì‹œí‚´</li>
        </ul>
      </li>
    </ol>
  </li>
</ul>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#pragma once
</span>
<span class="cp">#include "Game2D.h"
</span>
<span class="k">namespace</span> <span class="n">jm</span>
<span class="p">{</span>
	<span class="k">class</span> <span class="nc">MyTank</span> <span class="c1">// íƒ±í¬ í´ë˜ìŠ¤</span>
	<span class="p">{</span>
	<span class="nl">public:</span>
		<span class="n">vec2</span> <span class="n">center</span> <span class="o">=</span> <span class="n">vec2</span><span class="p">(</span><span class="mf">0.0</span><span class="n">f</span><span class="p">,</span> <span class="mf">0.0</span><span class="n">f</span><span class="p">);</span> <span class="c1">// â­ íƒ±í¬ì˜ í˜„ì¬ ìœ„ì¹˜ (ì²˜ìŒì—” ì›ì . ì‚¬ìš©ìì˜ í‚¤ë³´ë“œ ì¡°ì‘ì— ë”°ë¼ ê³„ì† ê°±ì‹ ë  ê²ƒ)</span>

		<span class="kt">void</span> <span class="n">draw</span><span class="p">()</span>  <span class="c1">// íƒ±í¬ë¥¼ ê·¸ë¦¬ëŠ” í•¨ìˆ˜.</span>
		<span class="p">{</span>
			<span class="n">beginTransformation</span><span class="p">();</span>  
			<span class="p">{</span>
				<span class="n">translate</span><span class="p">(</span><span class="n">center</span><span class="p">);</span>                          <span class="c1">// ì‹¤í–‰ìˆœì„œ &lt;6&gt;. âœ¨ bodyëŠ” 'center'ë¡œ, barrelì€ 'center + (0.13f, 0.1f)'ë¡œ, turretì€ 'center + (-0.02f, 0.1f)'ë¡œ ì´ë™í•œë‹¤.</span>
				<span class="n">drawFilledBox</span><span class="p">(</span><span class="n">Colors</span><span class="o">::</span><span class="n">green</span><span class="p">,</span> <span class="mf">0.25</span><span class="n">f</span><span class="p">,</span> <span class="mf">0.1</span><span class="n">f</span><span class="p">);</span> <span class="c1">// ì‹¤í–‰ìˆœì„œ &lt;1&gt;. bodyë¥¼ ê·¸ë¦°ë‹¤.</span>
				<span class="n">translate</span><span class="p">(</span><span class="o">-</span><span class="mf">0.02</span><span class="n">f</span><span class="p">,</span> <span class="mf">0.1</span><span class="n">f</span><span class="p">);</span>                    <span class="c1">// ì‹¤í–‰ìˆœì„œ &lt;5&gt;. âœ¨ barrelì€ (0.13f, 0.1f)ë¡œ, turretì€ (-0.02f, 0.1f)ë¡œ ì´ë™í•œë‹¤.</span>
				<span class="n">drawFilledBox</span><span class="p">(</span><span class="n">Colors</span><span class="o">::</span><span class="n">blue</span><span class="p">,</span> <span class="mf">0.15</span><span class="n">f</span><span class="p">,</span> <span class="mf">0.09</span><span class="n">f</span><span class="p">);</span> <span class="c1">// ì‹¤í–‰ìˆœì„œ &lt;2&gt;. turretì„ ê·¸ë¦°ë‹¤.</span>
				<span class="n">translate</span><span class="p">(</span><span class="mf">0.15</span><span class="n">f</span><span class="p">,</span> <span class="mf">0.0</span><span class="n">f</span><span class="p">);</span>                     <span class="c1">// ì‹¤í–‰ìˆœì„œ &lt;4&gt;. âœ¨ barrelì´ (0.15f, 0.0f)ë¡œ ì´ë™í•œë‹¤.</span>
				<span class="n">drawFilledBox</span><span class="p">(</span><span class="n">Colors</span><span class="o">::</span><span class="n">red</span><span class="p">,</span> <span class="mf">0.15</span><span class="n">f</span><span class="p">,</span> <span class="mf">0.03</span><span class="n">f</span><span class="p">);</span>  <span class="c1">// ì‹¤í–‰ìˆœì„œ &lt;3&gt;. barrelì„ ê·¸ë¦°ë‹¤.</span>
			<span class="p">}</span>
			<span class="n">endTransformation</span><span class="p">();</span>
		<span class="p">}</span>
	<span class="p">};</span>

	<span class="k">class</span> <span class="nc">MyBullet</span> <span class="c1">// ì´ì•Œ í´ë˜ìŠ¤</span>
	<span class="p">{</span>
	<span class="nl">public:</span>
		<span class="n">vec2</span> <span class="n">center</span> <span class="o">=</span> <span class="n">vec2</span><span class="p">(</span><span class="mf">0.0</span><span class="n">f</span><span class="p">,</span> <span class="mf">0.0</span><span class="n">f</span><span class="p">);</span>   <span class="c1">// â­ì´ì•Œì˜ í˜„ì¬ ìœ„ì¹˜ (ì²˜ìŒì—” ì›ì . ì‹œê°„ì— ë”°ë¼ ê³„ì† ê°±ì‹ ë  ê²ƒ)</span>
		<span class="n">vec2</span> <span class="n">velocity</span> <span class="o">=</span> <span class="n">vec2</span><span class="p">(</span><span class="mf">0.0</span><span class="n">f</span><span class="p">,</span> <span class="mf">0.0</span><span class="n">f</span><span class="p">);</span> <span class="c1">// â­ì´ì•Œì˜ ì†ë„</span>

		<span class="kt">void</span> <span class="n">draw</span><span class="p">()</span>  <span class="c1">// ì´ì•Œ ê·¸ë¦¬ëŠ” í•¨ìˆ˜.</span>
		<span class="p">{</span>
			<span class="n">beginTransformation</span><span class="p">();</span>
			<span class="n">translate</span><span class="p">(</span><span class="n">center</span><span class="p">);</span>  <span class="c1">// ì‹¤í–‰ìˆœì„œ &lt;3&gt;. ì•„ë˜ ë‘ ë„í˜•ì´ í•¨ê»˜ í‰í–‰ì´ë™í•œë‹¤.</span>
			<span class="n">drawFilledRegularConvexPolygon</span><span class="p">(</span><span class="n">Colors</span><span class="o">::</span><span class="n">yellow</span><span class="p">,</span> <span class="mf">0.02</span><span class="n">f</span><span class="p">,</span> <span class="mi">8</span><span class="p">);</span> <span class="c1">// ì‹¤í–‰ìˆœì„œ &lt;1&gt;.</span>
			<span class="n">drawWiredRegularConvexPolygon</span><span class="p">(</span><span class="n">Colors</span><span class="o">::</span><span class="n">gray</span><span class="p">,</span> <span class="mf">0.02</span><span class="n">f</span><span class="p">,</span> <span class="mi">8</span><span class="p">);</span> <span class="c1">// ì‹¤í–‰ìˆœì„œ &lt;2&gt;.</span>
			<span class="n">endTransformation</span><span class="p">();</span>
		<span class="p">}</span>

		<span class="kt">void</span> <span class="n">update</span><span class="p">(</span><span class="k">const</span> <span class="kt">float</span><span class="o">&amp;</span> <span class="n">dt</span><span class="p">)</span>  <span class="c1">// â­ ì´ì•Œì˜ ìœ„ì¹˜ì¸ center ê°’ì„ ì‹œê°„ë§ˆë‹¤ ì—…ë°ì´íŠ¸ í•œë‹¤.(ì´ update í•¨ìˆ˜ëŠ” MyBullet ìì²´ì˜ í•¨ìˆ˜)</span>
		<span class="p">{</span>
			<span class="n">center</span> <span class="o">+=</span> <span class="n">velocity</span> <span class="o">*</span> <span class="n">dt</span><span class="p">;</span>  <span class="c1">// â­ ì´ì•Œì˜ ìœ„ì¹˜ê°€ 'ì†ë„ * ì‹œê°„'ì— ë”°ë¼ ë°”ë€œ. dtëŠ” ì‹œê°„ ê°„ê²©ì´ ë¨</span>
		<span class="p">}</span>  
	<span class="p">};</span>

	<span class="k">class</span> <span class="nc">TankExample</span> <span class="o">:</span> <span class="k">public</span> <span class="n">Game2D</span> <span class="c1">// ê²Œì„ì„ ì‹¤í–‰ì‹œí‚¬ í´ë˜ìŠ¤. Game2Dë¥¼ ìƒì† ë°›ìŒ.</span>
	<span class="p">{</span>
	<span class="nl">public:</span>
		<span class="n">MyTank</span> <span class="n">tank</span><span class="p">;</span>

		<span class="n">MyBullet</span> <span class="o">*</span><span class="n">bullet</span> <span class="o">=</span> <span class="nb">nullptr</span><span class="p">;</span>  <span class="c1">// bulletì€ ì´ì•Œì´ ë°œì‚¬ ëì„ ë•Œë§Œ ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì— í¬ì¸í„°ë¡œ ë˜ì–´ìˆê³  null í¬ì¸í„°ë¡œ ì´ˆê¸°í™”í•œë‹¤.</span>

	<span class="nl">public:</span>
		<span class="n">TankExample</span><span class="p">()</span>
			<span class="o">:</span> <span class="n">Game2D</span><span class="p">(</span><span class="s">"This is my digital canvas!"</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="mi">768</span><span class="p">,</span> <span class="nb">false</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
		<span class="p">{}</span>

		<span class="o">~</span><span class="n">TankExample</span><span class="p">()</span>   <span class="c1">// â­ ì†Œë©¸ì !! nullptr ì•„ë‹ë•Œë§Œ ì´ì•Œ ê°ì²´ ë™ì  ë©”ëª¨ë¦¬ë¥¼ delete ì‹œì¼œì£¼ëŠ” ì—­í• ì„ í•œë‹¤.</span>
		<span class="p">{</span>
			<span class="k">if</span><span class="p">(</span><span class="n">bullet</span> <span class="o">!=</span> <span class="nb">nullptr</span><span class="p">)</span> <span class="k">delete</span> <span class="n">bullet</span><span class="p">;</span>
		<span class="p">}</span>

        <span class="c1">// update() ì€ run ì•ˆì—ì„œ â­ë¬´í•œë£¨í”„â­ë¡œ ëŒì•„ê°€ë‹ˆê¹Œ ì•„ë˜ í‚¤ë“¤ì´ ëˆŒë ¸ëŠ”ì§€ ë§¤ í”„ë ˆì„ë§ˆë‹¤ ê³„ì† ì²´í¬í•œë‹¤.</span>
        <span class="c1">// Game2Dì˜ updateí•¨ìˆ˜ ì˜¤ë²„ë¼ì´ë”©. ë©”ì¸ ë¬´í•œ ë£¨í”„ë¥¼ ëŒë¦¬ëŠ” run()ì•ˆì—ì„œ í˜¸ì¶œëœë‹¤.</span>
		<span class="kt">void</span> <span class="n">update</span><span class="p">()</span> <span class="k">override</span>  
		<span class="p">{</span>

			<span class="c1">// â­ íƒ±í¬ ì´ë™ ! í‚¤ë³´ë“œ ë°©í–¥í‚¤ì— ë”°ë¼ ë¶€ë“œëŸ½ê²Œ ì›€ì§ì´ë„ë¡ í•œì¹¸ * 1/60 ë§Œí¼ ì›€ì§ì´ê²Œ.</span>
            <span class="c1">// getTimeStep() í•¨ìˆ˜ëŠ” Game2Dì— ìˆëŠ” í•¨ìˆ˜ë¡œ ìƒì†ë°›ì•„ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ëœ í•¨ìˆ˜ë‹¤. í”„ë ˆì„ì„ ë¦¬í„´í•¨.</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">isKeyPressed</span><span class="p">(</span><span class="n">GLFW_KEY_LEFT</span><span class="p">))</span>	<span class="n">tank</span><span class="p">.</span><span class="n">center</span><span class="p">.</span><span class="n">x</span> <span class="o">-=</span> <span class="mf">0.5</span><span class="n">f</span> <span class="o">*</span> <span class="n">getTimeStep</span><span class="p">();</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">isKeyPressed</span><span class="p">(</span><span class="n">GLFW_KEY_RIGHT</span><span class="p">))</span>	<span class="n">tank</span><span class="p">.</span><span class="n">center</span><span class="p">.</span><span class="n">x</span> <span class="o">+=</span> <span class="mf">0.5</span><span class="n">f</span> <span class="o">*</span> <span class="n">getTimeStep</span><span class="p">();</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">isKeyPressed</span><span class="p">(</span><span class="n">GLFW_KEY_UP</span><span class="p">))</span>		<span class="n">tank</span><span class="p">.</span><span class="n">center</span><span class="p">.</span><span class="n">y</span> <span class="o">+=</span> <span class="mf">0.5</span><span class="n">f</span> <span class="o">*</span> <span class="n">getTimeStep</span><span class="p">();</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">isKeyPressed</span><span class="p">(</span><span class="n">GLFW_KEY_DOWN</span><span class="p">))</span>	<span class="n">tank</span><span class="p">.</span><span class="n">center</span><span class="p">.</span><span class="n">y</span> <span class="o">-=</span> <span class="mf">0.5</span><span class="n">f</span> <span class="o">*</span> <span class="n">getTimeStep</span><span class="p">();</span>


			<span class="c1">// â­ í¬íƒ„ ë°œì‚¬ ! í¬íƒ„ì„ ë°œì‚¬í•˜ëŠ”ê±´ ê³§ í¬íƒ„ì„ ìƒì„±í•œë‹¤ëŠ” ê²ƒ. ìŠ¤í˜ì´ìŠ¤ë°” ëˆ„ë¥´ë©´ ë°œì‚¬</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">isKeyPressedAndReleased</span><span class="p">(</span><span class="n">GLFW_KEY_SPACE</span><span class="p">))</span> 
			<span class="p">{</span>
				<span class="n">bullet</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MyBullet</span><span class="p">;</span>           <span class="c1">// â­ í¬íƒ„ ìƒì„±</span>
				<span class="n">bullet</span><span class="o">-&gt;</span><span class="n">center</span> <span class="o">=</span> <span class="n">tank</span><span class="p">.</span><span class="n">center</span><span class="p">;</span>    <span class="c1">// â­ íƒ±í¬ì˜ í˜„ì¬ìœ„ì¹˜ë¡œ ì´ì•Œ í˜„ì¬ìœ„ì¹˜ê°€ ì •í•´ì§ (íƒ±í¬ì—ì„œ ë°œì‚¬ë˜ë‹ˆê¹Œ )</span>
				<span class="n">bullet</span><span class="o">-&gt;</span><span class="n">center</span><span class="p">.</span><span class="n">x</span> <span class="o">+=</span> <span class="mf">0.2</span><span class="n">f</span><span class="p">;</span>        <span class="c1">// â­ ê·¸ë˜ë„ ë°œí¬í•˜ëŠ” ê³³ì—ì„œ ë°œì‚¬ë  ìˆ˜ ìˆê²Œ ìœ„ì¹˜ ì¡°ì •</span>
				<span class="n">bullet</span><span class="o">-&gt;</span><span class="n">center</span><span class="p">.</span><span class="n">y</span> <span class="o">+=</span> <span class="mf">0.1</span><span class="n">f</span><span class="p">;</span>
				<span class="n">bullet</span><span class="o">-&gt;</span><span class="n">velocity</span> <span class="o">=</span> <span class="n">vec2</span><span class="p">(</span><span class="mf">2.0</span><span class="n">f</span><span class="p">,</span> <span class="mf">0.0</span><span class="n">f</span><span class="p">);</span>  <span class="c1">// â­ ì†ë„ ì§€ì •. </span>
			<span class="p">}</span>

            <span class="c1">// ì‹œê°„ì— ë”°ë¼ ì´ì•Œì˜ ìœ„ì¹˜ë¥¼ ì—…ëƒí•œë‹¤. </span>
			<span class="k">if</span> <span class="p">(</span><span class="n">bullet</span> <span class="o">!=</span> <span class="nb">nullptr</span><span class="p">)</span> <span class="n">bullet</span><span class="o">-&gt;</span><span class="n">update</span><span class="p">(</span><span class="n">getTimeStep</span><span class="p">());</span> 
            <span class="c1">// â­ dtëŠ” getTimeStep()ì˜ ë¦¬í„´ê°’ì´ ëœë‹¤. ( 1/60 )</span>
            <span class="c1">// â­ if ( bullet != nullptr ) ë¡œ nullptr ì²´í¬ ì•ˆí•˜ê³  ê·¸ëƒ¥ bullet-&gt;update í˜¸ì¶œí•´ë²„ë¦¬ë©´ ëŸ°íƒ€ì„ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤. </span>
            <span class="c1">// ì™œëƒí•˜ë©´ ìŠ¤í˜ì´ìŠ¤ ëˆ„ë¥´ê¸° ì „ê¹Œì§„ bulletì´ nullptrì´ë¼ ì•„ë¬´ê²ƒë„ ê°€ë¦¬í‚¤ê³  ìˆì§€ ì•Šì€ë° (ì´ì•Œ ê°ì²´ê°€ ì—†ëŠ”ë°) updateì„ í˜¸ì¶œ í•˜ë ¤ê³  í• í…Œë‹ˆê¹Œ</span>

			<span class="c1">// rendering</span>
			<span class="n">tank</span><span class="p">.</span><span class="n">draw</span><span class="p">();</span> <span class="c1">// â­ íƒ±í¬ ê·¸ë¦¬ê¸°</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">bullet</span> <span class="o">!=</span> <span class="nb">nullptr</span><span class="p">)</span> <span class="n">bullet</span><span class="o">-&gt;</span><span class="n">draw</span><span class="p">();</span> <span class="c1">// â­ ì´ì•Œì€ í¬ì¸í„°ë¼ nullptrì´ ì•„ë‹ë•Œë§Œ drawí•˜ê¸°.</span>
		<span class="p">}</span>
	<span class="p">};</span>
<span class="p">}</span>

</code></pre></div></div>

<hr />
<p><br /></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ğŸŒœ ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ì˜¤ë¥˜ë‚˜ í‹€ë¦° ë¶€ë¶„ì´ ìˆì„ ê²½ìš° 
ì–¸ì œë“ ì§€ ëŒ“ê¸€ í˜¹ì€ ë©”ì¼ë¡œ ì§€ì í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ˜„
</code></pre></div></div>

<p><a href="#" class="btn btn--primary align-right">ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°</a></p>
:ET
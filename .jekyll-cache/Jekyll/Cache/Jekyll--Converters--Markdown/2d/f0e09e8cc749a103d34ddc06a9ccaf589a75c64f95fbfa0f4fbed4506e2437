I"ö%<p class="notice--warning">ì¸í”„ëŸ°ì— ìˆëŠ” í™ì •ëª¨ êµìˆ˜ë‹˜ì˜ <strong>í™ì •ëª¨ì˜ ë”°ë¼ í•˜ë©° ë°°ìš°ëŠ” C++</strong> ê°•ì˜ë¥¼ ë“£ê³  ì •ë¦¬í•œ í•„ê¸°ì…ë‹ˆë‹¤. ğŸ˜€  <br />
<a href="https://www.inflearn.com/course/following-c-plus">ğŸŒœ [í™ì •ëª¨ì˜ ë”°ë¼ í•˜ë©° ë°°ìš°ëŠ” C++]ê°•ì˜ ë“¤ìœ¼ëŸ¬ ê°€ê¸°!</a></p>

<p><br /></p>

<h1 id="chapter-12-ê°€ìƒ-í•¨ìˆ˜ë“¤--ë™ì -í˜•ë³€í™˜">chapter 12. ê°€ìƒ í•¨ìˆ˜ë“¤ : ë™ì  í˜•ë³€í™˜</h1>

<h2 id="-dynamic_cast">ğŸ”” dynamic_cast</h2>

<blockquote>
  <p><code class="language-plaintext highlighter-rouge">dynamic_cast</code> : ë™ì ìœ¼ë¡œ í˜•ë³€í™˜ì‹œí‚¨ë‹¤. í˜•ë³€í™˜ì— ì‹¤íŒ¨í•  ê²½ìš° nullptrë¥¼ ë¦¬í„´í•œë‹¤.</p>
</blockquote>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;iostream&gt;
#include &lt;string&gt;
</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Base</span>
<span class="p">{</span>
<span class="nl">public:</span>
	<span class="kt">int</span> <span class="n">m_i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

	<span class="k">virtual</span> <span class="kt">void</span> <span class="n">print</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"I'm Base"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">};</span>

<span class="k">class</span> <span class="nc">Derived1</span> <span class="o">:</span> <span class="k">public</span> <span class="n">Base</span>
<span class="p">{</span>
<span class="nl">public:</span>
	<span class="kt">int</span> <span class="n">m_j</span> <span class="o">=</span> <span class="mi">1024</span><span class="p">;</span>

	<span class="k">virtual</span> <span class="kt">void</span> <span class="n">print</span><span class="p">()</span> <span class="k">override</span>
	<span class="p">{</span>
		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"I'm derived_1"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">};</span>

<span class="k">class</span> <span class="nc">Derived2</span> <span class="o">:</span> <span class="k">public</span> <span class="n">Base</span>
<span class="p">{</span>
<span class="nl">public:</span>
	<span class="n">string</span> <span class="n">m_name</span> <span class="o">=</span> <span class="s">"Dr. Two"</span><span class="p">;</span>

	<span class="k">virtual</span> <span class="kt">void</span> <span class="n">print</span><span class="p">()</span> <span class="k">override</span>
	<span class="p">{</span>
		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"I'm derived_2"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">};</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">Derived1</span> <span class="n">d1</span><span class="p">;</span>
	<span class="n">Base</span> <span class="o">*</span><span class="n">base</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">d1</span><span class="p">;</span>

	<span class="k">auto</span> <span class="o">*</span><span class="n">base_to_d1</span> <span class="o">=</span> <span class="k">dynamic_cast</span><span class="o">&lt;</span><span class="n">Derived1</span><span class="o">*&gt;</span><span class="p">(</span><span class="n">base</span><span class="p">);</span>
	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">base_to_d1</span><span class="o">-&gt;</span><span class="n">m_j</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>

	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">auto</span> <span class="o">*</span><span class="n">base_to_d1</span> <span class="o">=</span> <span class="k">dynamic_cast</span><span class="o">&lt;</span><span class="n">Derived1</span><span class="o">*&gt;</span><span class="p">(</span><span class="n">base</span><span class="p">);</span>
</code></pre></div></div>

<blockquote>
  <p>Derived1 ê°ì²´ë¥¼ ê°€ë¦¬í‚¤ë˜ Base * í¬ì¸í„°ëŠ” Derived1 * í¬ì¸í„°ë¡œ í˜•ë³€í™˜ì´ ê°€ëŠ¥í•˜ë‹¤. <u>Derived1 ê°ì²´ì™€ íƒ€ì…ì´ ì¼ì¹˜í•˜ê¸° ë•Œë¬¸ì—.</u></p>
</blockquote>

<ul>
  <li>Base íƒ€ì…ì´ì§€ë§Œ Derived ê°ì²´ì¸ <code class="language-plaintext highlighter-rouge">d1</code>ì˜ ì£¼ì†Œë¥¼ ë‹´ê³  ì‡ëŠ” <code class="language-plaintext highlighter-rouge">base</code>í¬ì¸í„°ê°€ <u>Derived1 * í¬ì¸í„° íƒ€ì…ìœ¼ë¡œ í˜•ë³€í™˜.</u>ë˜ë©° <code class="language-plaintext highlighter-rouge">d1</code>ì˜ ì£¼ì†Œë¥¼ ë¦¬í„´í•œë‹¤.
    <ul>
      <li>ì•„ë˜ ì²˜ëŸ¼ ë˜ëŠ” ê²ƒì´ë‚˜ ë§ˆì°¬ê°€ì§€.
        <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Derived1</span> <span class="o">*</span> <span class="n">base_to_d1</span> <span class="o">=</span> <span class="n">d1</span><span class="p">;</span>  
</code></pre></div>        </div>
      </li>
      <li><code class="language-plaintext highlighter-rouge">base_to_d1-&gt;m_j </code> ëŠ” Derived1ì˜ m_jë¥¼ ë¦¬í„´í•œë‹¤. 1024 ì¶œë ¥</li>
    </ul>
  </li>
</ul>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">Derived1</span> <span class="n">d1</span><span class="p">;</span>
	<span class="n">Base</span> <span class="o">*</span> <span class="n">base</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">d1</span><span class="p">;</span>

    <span class="k">auto</span> <span class="o">*</span><span class="n">base_to_d1</span> <span class="o">=</span> <span class="k">dynamic_cast</span><span class="o">&lt;</span><span class="n">Derived2</span><span class="o">*&gt;</span><span class="p">(</span><span class="n">base</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">base_to_d1</span> <span class="o">!=</span> <span class="nb">nullptr</span><span class="p">)</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">base_to_d1</span><span class="o">-&gt;</span><span class="n">m_name</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">else</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Failed"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>

	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ğŸ’ì¶œë ¥ğŸ’

Failed
</code></pre></div></div>

<blockquote>
  <p>Derived1 ê°ì²´ë¥¼ ê°€ë¦¬í‚¤ë˜ Base * í¬ì¸í„°ëŠ” Derived2 * í¬ì¸í„°ë¡œ í˜•ë³€í™˜ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤. í˜•ì œê¸´ í•˜ì§€ë§Œ ë¶€ëª¨ ìì‹ ê´€ê³„ë„ ì•„ë‹ˆê³  íƒ€ì…ì´ ì „í˜€ ë‹¤ë¥´ë‹ˆ ë‹¹ì—°í•œ ì–˜ê¸°..</p>
</blockquote>

<ul>
  <li><code class="language-plaintext highlighter-rouge">dynamic_cast</code>ëŠ” nullptrì„ ë¦¬í„´í•  ê²ƒì´ê³  ì´ì— ë”°ë¼ elseë¬¸ì— í•´ë‹¹ ë˜ì–´ â€œFailedâ€ë¥¼ ì¶œë ¥í•œë‹¤.
    <ul>
      <li><code class="language-plaintext highlighter-rouge">dynamic_cast</code>ëŠ” í˜•ë³€í™˜ì— ì‹¤íŒ¨ì‹œ nullptrë¥¼ ë¦¬í„´í•œë‹¤.</li>
    </ul>
  </li>
</ul>

<p><br /></p>

<h2 id="-static_cast">ğŸ”” static_cast</h2>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">auto</span> <span class="o">*</span><span class="n">base_to_d1</span> <span class="o">=</span> <span class="k">static_cast</span><span class="o">&lt;</span><span class="n">Derived2</span><span class="o">*&gt;</span><span class="p">(</span><span class="n">base</span><span class="p">);</span>
</code></pre></div></div>
<ul>
  <li>ì›ë˜ëŠ” í˜•ë³€í™˜ì— ì‹¤íŒ¨í•˜ëŠ”ê²Œ ë§ëŠ”ë° <code class="language-plaintext highlighter-rouge">static_cast</code>ëŠ” ë˜ëŠ”ë°ë¡œ ë°€ì–´ ë¶™ì¸ë‹¤.
    <ul>
      <li>ëŸ°íƒ€ì„ ì—ëŸ¬ë¥¼ ì²´í¬í•˜ì§€ ì•Šìœ¼ë©°</li>
      <li>ìµœëŒ€í•œ ì–´ë–»ê²Œì„œë“  ê°œë°œìê°€ ì›í•˜ëŠ” í˜•ìœ¼ë¡œ ë³€í™˜ì‹œì¼œì£¼ë ¤ëŠ” ì„±ì§ˆì„ ê°€ì§€ê¸° ë•Œë¬¸ì— ì•ˆë˜ëŠ”ê²ƒë„ ë˜ê²Œ í•˜ëŠ” ê²½ìš°ê°€ ìˆë‹¤.</li>
    </ul>
  </li>
</ul>

<blockquote>
  <p>ì´ ê°™ì€ ë¬¸ì œë¡œ <code class="language-plaintext highlighter-rouge">static_cast</code>ë³´ë‹¤ëŠ” <code class="language-plaintext highlighter-rouge">dynamic_cast</code>ë¥¼ ì¢€ ë” ì¶”ì²œí•˜ì§€ë§Œ ë‹¤í˜•ì„±ì— ìˆì–´ í˜•ë³€í™˜ì„ ì‚¬ì‹¤ ì•ˆì“°ëŠ” ê²ƒì„ ì¶”ì²œí•œë‹¤. ê³„ì† ì™”ë‹¤ ê°”ë‹¤ í•˜ë©´ ë°ì´í„° ì†ì‹¤ë¡œ ìœ„í—˜í•´ì§ˆ ìˆ˜ ìˆìœ¼ë¯€ë¡œ.</p>
</blockquote>

<hr />
<p><br /></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ğŸŒœ ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ì˜¤ë¥˜ë‚˜ í‹€ë¦° ë¶€ë¶„ì´ ìˆì„ ê²½ìš° 
ì–¸ì œë“ ì§€ ëŒ“ê¸€ í˜¹ì€ ë©”ì¼ë¡œ ì§€ì í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ˜„
</code></pre></div></div>

<p><a href="#" class="btn btn--primary align-right">ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°</a>
<br /></p>
:ET
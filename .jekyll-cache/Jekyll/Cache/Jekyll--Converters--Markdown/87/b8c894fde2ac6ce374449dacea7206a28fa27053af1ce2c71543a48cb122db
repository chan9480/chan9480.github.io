I"¼Z<p class="notice--warning">ì¸í”„ëŸ°ì— ìˆëŠ” ì´ì¬í™˜ë‹˜ì˜ ê°•ì˜ <strong>ê²Œì„ ë””ìì¸ íŒ¨í„´ with Unity</strong> ë¥¼ ë“£ê³  ì •ë¦¬í•œ í•„ê¸°ì…ë‹ˆë‹¤. ğŸ˜€</p>

<h1 id="chapter-8-flyweight-pattern">Chapter 8. Flyweight Pattern</h1>

<h2 id="-flyweight-pattern">ğŸ”” Flyweight Pattern</h2>

<p><img src="https://user-images.githubusercontent.com/42318591/87665191-80a23e80-c7a1-11ea-8d87-b713ffece730.png" alt="image" width="70%" height="70%" class="align-center" /></p>

<p><img src="https://user-images.githubusercontent.com/42318591/87665352-c0692600-c7a1-11ea-9833-1b9f6b0ad09e.png" alt="image" width="70%" height="70%" class="align-center" /></p>

<blockquote>
  <p>í•œê°œì˜ ê³ ìœ  ìƒíƒœë¥¼ ë‹¤ë¥¸ ê°ì²´ë“¤ì—ì„œ ê³µìœ í•˜ê²Œ ë§Œë“¤ì–´ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ì¤„ì¸ë‹¤.</p>
</blockquote>

<blockquote>
  <p>ë‚´ìš©ì´ ê°™ì€ ê°ì²´ê°€ ì´ë¯¸ ìˆìœ¼ë©´ ìƒˆë¡œ ê°ì²´ë¥¼ ë˜ ë§Œë“¤ì§€ ì•Šê³  ê·¸ ë‚´ìš© ê°™ì€ ê¸°ì¡´ ê°ì²´ë¥¼ ê³µìœ í•œë‹¤.</p>
</blockquote>

<ul>
  <li>ê²Œì„ ë‚´ì—ì„œ ê°™ì€ ë©”ì‹œì™€ í…ìŠ¤ì²˜ë¥¼ ì—¬ëŸ¬ë²ˆ ë©”ëª¨ë¦¬ì— ì˜¬ë¦´ í•„ìš”ê°€ ì—†ê¸° ë•Œë¬¸ì—</li>
  <li><code class="language-plaintext highlighter-rouge">TreeModel</code> ê°ì²´ëŠ” í•˜ë‚˜ë§Œ ì¡´ì¬í•˜ë©° ê° ë‚˜ë¬´ ì¸ìŠ¤í„´ìŠ¤ë“¤ì€ ì´ <code class="language-plaintext highlighter-rouge">TreeModel</code> ê°ì²´ í•˜ë‚˜ë¥¼ <u>ê³µìœ í•˜ë©° ì°¸ì¡°í•  ë¿ì´ë‹¤.</u></li>
  <li>Tree í´ë˜ìŠ¤ì—ì„œëŠ” ì¸ìŠ¤í„´ìŠ¤ë³„ë¡œ ë‹¤ë¥¸ ìƒíƒœê°’ë§Œ ë‚¨ê²¨ë‘”ë‹¤.</li>
  <li><strong>í”Œë¼ì´ì›¨ì´íŠ¸ íŒ¨í„´</strong>ì—ì„œì˜ ê°ì²´ ë°ì´í„° ì¢…ë¥˜
    <ol>
      <li>ëª¨ë“  ê°ì²´ì˜ ë°ì´í„° ê°’ì´ ê°™ì€ ë¶€ë¶„ë“¤ë§Œ ëª¨ì•„ë‘” ë°ì´í„°. ì¦‰ ê³µìœ í•  ìˆ˜ ìˆëŠ” ë°ì´í„°.</li>
      <li>ë‚˜ë¨¸ì§€ ë°ì´í„°ëŠ” ì¸ìŠ¤í„´ìŠ¤ë³„ë¡œ ê°’ì´ ë‹¤ë¥¸ ì™¸ë¶€ ìƒíƒœì— í•´ë‹¹.</li>
    </ol>
  </li>
  <li>ìƒì„±ëœ ê°ì²´ë¥¼ ê³µìœ í•˜ëŠ” ê²ƒì´ë¼ì„œ C++ í¬ì¸í„° ê°œë…ê³¼ë„ ê°™ë‹¤.</li>
</ul>

<h3 id="êµ¬í˜„">êµ¬í˜„</h3>

<ul>
  <li>ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìš”ì²­ ë°›ì•˜ì„ ë•Œ <u>ì´ì „ì— ê°™ì€ê±¸ ë§Œë“¤ì–´ ë†“ì€ê²Œ ìˆëŠ”ì§€ í™•ì¸í•´ë³´ê³  ìˆë‹¤ë©´ ê·¸ê±¸ ë¦¬í„´</u>í•´ì•¼ ê³µìœ  ê¸°ëŠ¥ì´ ìœ ì§€ëœë‹¤.
    <ul>
      <li>ì´ëŸ¬ë ¤ë©´ ì´ëŸ° ì½”ë“œë¥¼ <u>ì¸í„°í˜ì´ìŠ¤ ë°‘ìœ¼ë¡œ ìˆ¨ê²¨ë‘ì–´ì•¼ í•œë‹¤.</u>
        <ul>
          <li><code class="language-plaintext highlighter-rouge">íŒ©í† ë¦¬ ë©”ì„œë“œ íŒ¨í„´</code></li>
        </ul>
      </li>
      <li>ì´ë¯¸ ìƒì„±í•´ë†“ì€ ê°ì²´ë¥¼ ì°¾ì„ ìˆ˜ ì´ë„ë¡ Poolì„ ê´€ë¦¬í•´ì•¼ í•œë‹¤.
        <ul>
          <li><a href="https://ansohxxn.github.io/design%20pattern/chapter9/">ë‹¤ìŒ í¬ìŠ¤íŠ¸</a>ì—ì„œ ë°°ìš¸ <code class="language-plaintext highlighter-rouge">ì˜¤ë¸Œì íŠ¸ í’€ íŒ¨í„´</code>ì´ ì—¬ê¸°ì— ì‚¬ìš© ë¨.</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p><br /></p>

<h2 id="-ì˜ˆì œ-1">ğŸ”” ì˜ˆì œ 1</h2>

<h3 id="unitcs">ğŸ“œUnit.cs</h3>

<div class="language-c# highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">System.Collections</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>

<span class="k">public</span> <span class="k">interface</span> <span class="nc">Unit</span> <span class="p">{</span>   <span class="c1">// ì¸í„°í˜ì´ìŠ¤</span>
  
    <span class="kt">string</span> <span class="nf">getName</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">Marine</span> <span class="p">:</span> <span class="n">Unit</span>   
<span class="p">{</span>
    <span class="kt">string</span> <span class="n">name</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">hp</span><span class="p">;</span>

    <span class="k">public</span> <span class="nf">Marine</span><span class="p">(</span><span class="kt">string</span> <span class="n">name</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="n">name</span> <span class="p">=</span> <span class="n">name</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="kt">string</span> <span class="nf">getName</span><span class="p">()</span>   <span class="c1">// ì˜¤ë²„ë¼ì´ë”©</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="n">name</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><br /></p>

<h3 id="unitfactorycs">ğŸ“œUnitFactory.cs</h3>

<ul>
  <li>ìƒì„±ëœ Marine ê°ì²´ë“¤ì„ Dictionary ìë£Œ êµ¬ì¡°ì— ë³´ê´€í•˜ì—¬ ê´€ë¦¬í•œë‹¤.
    <ul>
      <li><em>name</em> ì´ ê°™ì€ Marineì´ë©´ ìƒˆë¡œ ë§Œë“¤ì§€ ì•Šê³  ê·¸ <em>name</em>ì´ ê°™ì€ ê¸°ì¡´ Marine ê°ì²´ë¥¼ ë¦¬í„´í•´ì¤€ë‹¤.
        <ul>
          <li>ë‚´ìš© ê°™ìœ¼ë©´ ìƒˆë¡œ ë§Œë“¤ì§€ ì•Šê¸° ìœ„í•˜ì—¬. for ë©”ëª¨ë¦¬ ì ˆì•½</li>
        </ul>
      </li>
      <li>í˜„ì¬ ìƒì„±ëœ Marine ê°ì²´ë“¤ ì¤‘ ê°™ì€ <em>name</em> ì„ ê°€ì§„ ê°ì²´ê°€ ì—†ì„ ê²½ìš°ì—ë§Œ ìƒì„±í•˜ê³  ì´ë¥¼ Dictionaryì— ì¶”ê°€í•´ì¤€ë‹¤.</li>
      <li>ë§Œì•½ <em>name</em> ê°™ì€ Marine ê°ì²´ê°€ ìˆë‹¤ë©´ ê¸°ì¡´ ê·¸ ê°ì²´ë¥¼ ë¦¬í„´í•œë‹¤.</li>
    </ul>
  </li>
</ul>

<div class="language-c# highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">System.Collections</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">UnitFactory</span> <span class="p">:</span> <span class="n">MonoBehaviour</span> <span class="p">{</span>

    <span class="k">static</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="n">Marine</span><span class="p">&gt;</span> <span class="n">dic</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="n">Marine</span><span class="p">&gt;();</span>  <span class="c1">// ì´ë¯¸ ìƒì„±í•´ë†“ì€ Marine ê°ì²´ê°€ ìˆëŠ”ì§€ ê´€ë¦¬í•´ì•¼ í•´ì„œ</span>

    <span class="k">public</span> <span class="k">static</span> <span class="n">Marine</span> <span class="nf">getPerson</span><span class="p">(</span><span class="kt">string</span> <span class="n">name</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(!</span><span class="n">dic</span><span class="p">.</span><span class="nf">ContainsKey</span><span class="p">(</span><span class="n">name</span><span class="p">))</span>   <span class="c1">// í•´ë‹¹ ì´ë¦„ì˜ ìƒì„±í•´ ë†“ì€ ê°ì²´ê°€ ì—†ì„ ë•Œë§Œ ìƒì„±</span>
        <span class="p">{</span>
            <span class="n">Marine</span> <span class="n">tmp</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Marine</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
            <span class="n">dic</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">tmp</span><span class="p">);</span>  <span class="c1">// Dictionary ì— ì¶”ê°€</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">dic</span><span class="p">[</span><span class="n">name</span><span class="p">];</span>  <span class="c1">// ë§Œë“¤ì–´ë‘”ê±° ë¦¬í„´</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<p><br /></p>

<h3 id="flyweightusecs">ğŸ“œFlyweightUse.cs</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">p3</code>ê°ì²´ê°€ ìƒì„±ë  ë•Œ ì´ë¦„ì´ â€œí™ê¸¸ë™â€ìœ¼ë¡œ ê°™ì€ <code class="language-plaintext highlighter-rouge">p1</code> ê°ì²´ê°€ ì´ë¯¸ ìˆê¸° ë•Œë¬¸ì— ìƒˆë¡­ê²Œ ìƒì„±í•˜ì§€ ì•ŠëŠ”ë‹¤.
    <ul>
      <li><code class="language-plaintext highlighter-rouge">p3</code>ì€ ê¸°ì¡´ì— ìƒì„± ë˜ì—ˆë˜ <code class="language-plaintext highlighter-rouge">p1</code>ê°ì²´ë¥¼ ë¦¬í„´ë°›ê²Œ ë˜ë©°</li>
      <li><code class="language-plaintext highlighter-rouge">p1</code>ê³¼ <code class="language-plaintext highlighter-rouge">p3</code>ì€ ë™ì¼í•œ ê°ì²´ë¥¼ ê°€ë¦¬í‚¨ë‹¤.</li>
    </ul>
  </li>
</ul>

<div class="language-c# highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">System.Collections</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">FlyweightUse</span> <span class="p">:</span> <span class="n">MonoBehaviour</span> <span class="p">{</span>

	<span class="k">void</span> <span class="nf">Start</span> <span class="p">()</span> <span class="p">{</span>
        <span class="n">Marine</span> <span class="n">p1</span> <span class="p">=</span> <span class="n">UnitFactory</span><span class="p">.</span><span class="nf">getPerson</span><span class="p">(</span><span class="s">"í™ê¸¸ë™"</span><span class="p">);</span>
        <span class="n">Marine</span> <span class="n">p2</span> <span class="p">=</span> <span class="n">UnitFactory</span><span class="p">.</span><span class="nf">getPerson</span><span class="p">(</span><span class="s">"ì „ìš°ì¹˜"</span><span class="p">);</span>
        <span class="n">Marine</span> <span class="n">p3</span> <span class="p">=</span> <span class="n">UnitFactory</span><span class="p">.</span><span class="nf">getPerson</span><span class="p">(</span><span class="s">"í™ê¸¸ë™"</span><span class="p">);</span>

        <span class="n">Debug</span><span class="p">.</span><span class="nf">Log</span><span class="p">(</span><span class="n">p1</span> <span class="p">==</span> <span class="n">p2</span><span class="p">);</span>  <span class="c1">// ë‘˜ì´ ë‹¤ë¥´ë‹¤.</span>
        <span class="n">Debug</span><span class="p">.</span><span class="nf">Log</span><span class="p">(</span><span class="n">p1</span> <span class="p">==</span> <span class="n">p3</span><span class="p">);</span>  <span class="c1">// ë‘˜ì´ ë™ì¼í•˜ë‹¤.</span>

        <span class="n">Debug</span><span class="p">.</span><span class="nf">Log</span><span class="p">(</span><span class="s">"name : "</span> <span class="p">+</span> <span class="n">p1</span><span class="p">.</span><span class="nf">getName</span><span class="p">());</span>
    <span class="p">}</span>

<span class="p">}</span>
</code></pre></div></div>

<p><br /></p>

<h2 id="-ì˜ˆì œ-2">ğŸ”” ì˜ˆì œ 2</h2>

<blockquote>
  <p>ìœ ë‹ˆí‹° ì˜¤ë¸Œì íŠ¸ì— ì ìš©í•˜ê¸°</p>
</blockquote>

<ul>
  <li>ìœ ë‹ˆí‹° ì˜¤ë¸Œì íŠ¸ë“¤ì€(ì •í™•íˆ ë§í•˜ë©´ ì˜¤ë¸Œì íŠ¸ì— ë¶™ì–´ìˆëŠ” ì»´í¬ë„ŒíŠ¸ë“¤) <code class="language-plaintext highlighter-rouge">MonoBehaviour</code>ë¥¼ ìƒì† ë°›ëŠ”ë‹¤.
    <ul>
      <li><code class="language-plaintext highlighter-rouge">MonoBehaviour</code>ë¥¼ ìƒì† ë°›ëŠ” ì˜¤ë¸Œì íŠ¸ë“¤ì€ <code class="language-plaintext highlighter-rouge">new</code>ë¥¼ í†µí•´ ìƒì„±í•˜ë©´ ì•ˆëœë‹¤.</li>
    </ul>
  </li>
</ul>

<h3 id="unitcs-1">ğŸ“œUnit.cs</h3>

<div class="language-c# highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">System.Collections</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>

<span class="k">public</span> <span class="k">interface</span> <span class="nc">Unit</span> <span class="p">{</span>   <span class="c1">// ì¸í„°í˜ì´ìŠ¤</span>
  
    <span class="kt">string</span> <span class="nf">getName</span><span class="p">();</span>
    <span class="k">void</span> <span class="nf">setName</span><span class="p">(</span><span class="kt">string</span> <span class="n">name</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p><br /></p>

<h3 id="marinecs">ğŸ“œMarine.cs</h3>

<div class="language-c# highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">System.Collections</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">Marine</span> <span class="p">:</span> <span class="n">MonoBehaviour</span><span class="p">,</span> <span class="n">Unit</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">name</span><span class="p">;</span>
    <span class="k">public</span> <span class="kt">int</span> <span class="n">hp</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">void</span> <span class="nf">setName</span><span class="p">(</span><span class="kt">string</span> <span class="n">name</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="n">name</span> <span class="p">=</span> <span class="n">name</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="kt">string</span> <span class="nf">getName</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="n">name</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">void</span> <span class="nf">Start</span><span class="p">()</span>
    <span class="p">{</span>

    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<p><br /></p>

<h3 id="unitfactorycs-1">ğŸ“œUnitFactory.cs</h3>

<ul>
  <li>ìƒì„±ëœ Marine ê°ì²´ë“¤ì„ Dictionary ìë£Œ êµ¬ì¡°ì— ë³´ê´€í•˜ì—¬ ê´€ë¦¬í•œë‹¤.
    <ul>
      <li><em>name</em> ì´ ê°™ì€ Marineì´ë©´ ìƒˆë¡œ ë§Œë“¤ì§€ ì•Šê³  ê·¸ <em>name</em>ì´ ê°™ì€ ê¸°ì¡´ Marine ê°ì²´ë¥¼ ë¦¬í„´í•´ì¤€ë‹¤.
        <ul>
          <li>ë‚´ìš© ê°™ìœ¼ë©´ ìƒˆë¡œ ë§Œë“¤ì§€ ì•Šê¸° ìœ„í•˜ì—¬. for ë©”ëª¨ë¦¬ ì ˆì•½</li>
        </ul>
      </li>
      <li>í˜„ì¬ ìƒì„±ëœ Marine ê°ì²´ë“¤ ì¤‘ ê°™ì€ <em>name</em> ì„ ê°€ì§„ ê°ì²´ê°€ ì—†ì„ ê²½ìš°ì—ë§Œ ìƒì„±í•˜ê³  ì´ë¥¼ Dictionaryì— ì¶”ê°€í•´ì¤€ë‹¤.</li>
      <li>ë§Œì•½ <em>name</em> ê°™ì€ Marine ê°ì²´ê°€ ìˆë‹¤ë©´ ê¸°ì¡´ ê·¸ ê°ì²´ë¥¼ ë¦¬í„´í•œë‹¤.</li>
    </ul>
  </li>
</ul>

<div class="language-c# highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">System.Collections</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">UnitFactory</span> <span class="p">:</span> <span class="n">MonoBehaviour</span> <span class="p">{</span>

    <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="n">GameObject</span><span class="p">&gt;</span> <span class="n">dic</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="n">GameObject</span><span class="p">&gt;();</span>
    <span class="k">public</span> <span class="n">GameObject</span> <span class="n">marine</span><span class="p">;</span>

    <span class="k">public</span> <span class="n">GameObject</span> <span class="nf">getMarine</span><span class="p">(</span><span class="kt">string</span> <span class="n">name</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(!</span><span class="n">dic</span><span class="p">.</span><span class="nf">ContainsKey</span><span class="p">(</span><span class="n">name</span><span class="p">))</span>
        <span class="p">{</span>
            <span class="kt">float</span> <span class="n">x</span> <span class="p">=</span> <span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="n">Random</span><span class="p">.</span><span class="nf">Range</span><span class="p">(-</span><span class="m">10</span><span class="p">,</span> <span class="m">11</span><span class="p">);</span>
            <span class="kt">float</span> <span class="n">z</span> <span class="p">=</span> <span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="n">Random</span><span class="p">.</span><span class="nf">Range</span><span class="p">(-</span><span class="m">10</span><span class="p">,</span> <span class="m">11</span><span class="p">);</span>
            <span class="n">Vector3</span> <span class="n">pos</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Vector3</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="m">1.0f</span><span class="p">,</span> <span class="n">z</span><span class="p">);</span>

            <span class="c1">//Marine obj = new Marine(name);</span>
            <span class="n">GameObject</span> <span class="n">obj</span> <span class="p">=</span> <span class="nf">Instantiate</span><span class="p">(</span><span class="n">marine</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">Quaternion</span><span class="p">.</span><span class="n">identity</span><span class="p">);</span>
            <span class="n">obj</span><span class="p">.</span><span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">Marine</span><span class="p">&gt;().</span><span class="nf">setName</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
            <span class="n">dic</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">obj</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">dic</span><span class="p">[</span><span class="n">name</span><span class="p">];</span>
    <span class="p">}</span>
<span class="p">}</span>


</code></pre></div></div>

<p><br /></p>

<h3 id="flyweightusecs-1">ğŸ“œFlyweightUse.cs</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">p3</code>ê°ì²´ê°€ ìƒì„±ë  ë•Œ ì´ë¦„ì´ â€œí™ê¸¸ë™â€ìœ¼ë¡œ ê°™ì€ <code class="language-plaintext highlighter-rouge">p1</code> ê°ì²´ê°€ <u>ì´ë¯¸ ìˆê¸° ë•Œë¬¸ì— ìƒˆë¡­ê²Œ ìƒì„±í•˜ì§€ ì•ŠëŠ”ë‹¤.</u>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">p3</code>ì€ ê¸°ì¡´ì— ìƒì„± ë˜ì—ˆë˜ <code class="language-plaintext highlighter-rouge">p1</code>ê°ì²´ë¥¼ ë¦¬í„´ë°›ê²Œ ë˜ë©°</li>
      <li><code class="language-plaintext highlighter-rouge">p1</code>ê³¼ <code class="language-plaintext highlighter-rouge">p3</code>ì€ ë™ì¼í•œ ê°ì²´ë¥¼ ê°€ë¦¬í‚¨ë‹¤.</li>
    </ul>
  </li>
</ul>

<blockquote>
  <p>ì•„ë˜ ì½”ë“œì—ì„œ <u>ì˜¤ë¸Œì íŠ¸ ë°ì´í„°ëŠ” ë‹¨ 2ê°œ</u>ì¼ë¿ì´ë©° ëŒ€ì‹  <u>ë Œë”ë§ì€ 3ê°œê°€ ëœë‹¤.</u></p>
</blockquote>

<div class="language-c# highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">System.Collections</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">FlyweightUse</span> <span class="p">:</span> <span class="n">MonoBehaviour</span> <span class="p">{</span>

	<span class="k">void</span> <span class="nf">Start</span> <span class="p">()</span> <span class="p">{</span>
        <span class="n">UnitFactory</span> <span class="n">factory</span> <span class="p">=</span> <span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">UnitFactory</span><span class="p">&gt;();</span>

        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">i</span><span class="p">&lt;</span> <span class="m">10</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
        <span class="p">{</span>
            <span class="n">factory</span><span class="p">.</span><span class="nf">getMarine</span><span class="p">(</span><span class="s">"í™ê¸¸ë™"</span> <span class="p">+</span> <span class="n">i</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="n">GameObject</span> <span class="n">p1</span> <span class="p">=</span> <span class="n">factory</span><span class="p">.</span><span class="nf">getMarine</span><span class="p">(</span><span class="s">"í™ê¸¸ë™"</span><span class="p">);</span>
        <span class="n">GameObject</span> <span class="n">p2</span> <span class="p">=</span> <span class="n">factory</span><span class="p">.</span><span class="nf">getMarine</span><span class="p">(</span><span class="s">"ì „ìš°ì¹˜"</span><span class="p">);</span>
        <span class="n">GameObject</span> <span class="n">p3</span> <span class="p">=</span> <span class="n">factory</span><span class="p">.</span><span class="nf">getMarine</span><span class="p">(</span><span class="s">"í™ê¸¸ë™"</span><span class="p">);</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">p1</span> <span class="p">==</span> <span class="n">p3</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">Debug</span><span class="p">.</span><span class="nf">Log</span><span class="p">(</span><span class="s">"name : "</span> <span class="p">+</span> <span class="n">p1</span><span class="p">.</span><span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">Marine</span><span class="p">&gt;().</span><span class="nf">getName</span><span class="p">());</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<hr />
<p><br /></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ğŸŒœ ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ì˜¤ë¥˜ë‚˜ í‹€ë¦° ë¶€ë¶„ì´ ìˆì„ ê²½ìš° 
ì–¸ì œë“ ì§€ ëŒ“ê¸€ í˜¹ì€ ë©”ì¼ë¡œ ì§€ì í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ˜„
</code></pre></div></div>

<p><a href="#" class="btn btn--primary align-right">ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°</a></p>
:ET
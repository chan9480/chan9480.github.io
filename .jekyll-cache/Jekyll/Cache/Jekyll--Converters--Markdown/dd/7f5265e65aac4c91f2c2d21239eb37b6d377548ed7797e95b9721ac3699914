I"$<p class="notice--warning">ì¸í”„ëŸ°ì— ìˆëŠ” í™ì •ëª¨ êµìˆ˜ë‹˜ì˜ <strong>í™ì •ëª¨ì˜ ë”°ë¼ í•˜ë©° ë°°ìš°ëŠ” C++</strong> ê°•ì˜ë¥¼ ë“£ê³  ì •ë¦¬í•œ í•„ê¸°ì…ë‹ˆë‹¤. ğŸ˜€  <br />
<a href="https://www.inflearn.com/course/following-c-plus">ğŸŒœ [í™ì •ëª¨ì˜ ë”°ë¼ í•˜ë©° ë°°ìš°ëŠ” C++]ê°•ì˜ ë“¤ìœ¼ëŸ¬ ê°€ê¸°!</a></p>

<p><br /></p>

<h1 id="chapter-19-ëª¨ë˜-c-í•„ìˆ˜-ìš”ì†Œë“¤">chapter 19. ëª¨ë˜ C++ í•„ìˆ˜ ìš”ì†Œë“¤</h1>

<h1 id="ìë£Œí˜•-ì¶”ë¡ -autoì™€-decltype">ìë£Œí˜• ì¶”ë¡  autoì™€ decltype</h1>

<h2 id="-auto">ğŸ”” auto</h2>

<blockquote>
  <p>ê¸´ íƒ€ì…ì„ ê°„ê²°í•˜ê²Œ ì¤„ì—¬ì¤€ë‹¤.</p>
</blockquote>

<ul>
  <li><code class="language-plaintext highlighter-rouge">const</code>, <code class="language-plaintext highlighter-rouge">&amp;</code>, <code class="language-plaintext highlighter-rouge">volatile</code>ì€ ì½ì§€ ì•ŠëŠ”ë‹¤.</li>
  <li>ë‹¤ë§Œ ëŒ€ì…ëœ ê²ƒì´ í¬ì¸í„°ì¼ ê²½ìš° <code class="language-plaintext highlighter-rouge">const</code>, <code class="language-plaintext highlighter-rouge">*</code>ê¹Œì§€ ë‹¤ ì½ì–´ë“¤ì¸ë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">auto &amp;</code>ì€ <code class="language-plaintext highlighter-rouge">const</code>ë¥¼ ì½ëŠ”ë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">auto &amp;&amp;</code>ì€ R-valueë¡œ ì„ ì–¸í•˜ê³  ì‹¶ë‹¤ëŠ” ì˜ë¯¸. ëŒ€ì… ë˜ëŠ” ê²ƒì´ R-valueë©´ <code class="language-plaintext highlighter-rouge">auto</code>ëŠ” R-value Referenceê°€ ë˜ê³ , L-valueë©´ <code class="language-plaintext highlighter-rouge">auto</code>ëŠ” L-value Referenceê°€ ëœë‹¤.</li>
  <li>ëŒë‹¤ í•¨ìˆ˜ëŠ” íŒŒë¼ë¯¸í„°ì— autoë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</li>
</ul>

<p><br /></p>

<h3 id="ì˜ˆì œ-1ï¸âƒ£-auto-ëŠ”-ê¸´-íƒ€ì…ì„-ê°„ê²°í•˜ê²Œ-ì¤„ì—¬ì¤€ë‹¤">ì˜ˆì œ 1ï¸âƒ£ auto ëŠ” ê¸´ íƒ€ì…ì„ ê°„ê²°í•˜ê²Œ ì¤„ì—¬ì¤€ë‹¤.</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">void</span> <span class="nf">ex</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">vect</span><span class="p">;</span>
	
<span class="c1">//  1ï¸âƒ£</span>
	<span class="k">for</span> <span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">const_iterator</span> <span class="n">cit</span> <span class="o">=</span> <span class="n">vect</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span> <span class="n">cit</span> <span class="o">!=</span> <span class="n">vect</span><span class="p">.</span><span class="n">end</span><span class="p">();</span> <span class="o">++</span><span class="n">cit</span><span class="p">)</span>
		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">cit</span><span class="p">;</span>
<span class="c1">//  2ï¸âƒ£</span>
	<span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="n">itr</span> <span class="o">=</span> <span class="n">vect</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span> <span class="n">itr</span> <span class="o">!=</span> <span class="n">vect</span><span class="p">.</span><span class="n">end</span><span class="p">();</span> <span class="o">++</span><span class="n">itr</span><span class="p">)</span>
		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">itr</span><span class="p">;</span>
<span class="c1">//  3ï¸âƒ£</span>
	<span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="n">itr</span> <span class="o">:</span> <span class="n">vect</span><span class="p">)</span>
		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">itr</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li><em>vector&lt;int&gt;::const_iterator</em> ë¼ëŠ” ê¸´ íƒ€ì…ì„ <code class="language-plaintext highlighter-rouge">auto</code> í•˜ë‚˜ë¡œ í‰ì¹  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.</li>
  <li>1ï¸âƒ£ â†’ 2ï¸âƒ£ â†’ 3ï¸âƒ£ ìˆœìœ¼ë¡œ ì ì  ë” ê°„ëµí•˜ê²Œ ì¤„ì¼ ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.</li>
</ul>

<p><br /></p>

<h3 id="ì˜ˆì œ-2ï¸âƒ£-auto-ëŠ”-const--volatile-ê°™ì€-ì¶”ê°€-ì§€ì •ì€-ì½ì§€-ì•ŠëŠ”ë‹¤">ì˜ˆì œ 2ï¸âƒ£ auto ëŠ” const &amp;, volatile ê°™ì€ ì¶”ê°€ ì§€ì •ì€ ì½ì§€ ì•ŠëŠ”ë‹¤.</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">ex</span><span class="p">()</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="kt">int</span><span class="p">();</span>		<span class="c1">// x is an int, initialized to 0</span>
	<span class="k">auto</span> <span class="n">auto_x</span> <span class="o">=</span> <span class="n">x</span><span class="p">;</span>

	<span class="k">const</span> <span class="kt">int</span><span class="o">&amp;</span> <span class="n">crx</span> <span class="o">=</span> <span class="n">x</span><span class="p">;</span> <span class="c1">// crx is a const int&amp; that refers to x. ë‹¤ë¥¸ ê±´ ëª» ì°¸ì¡°í•˜ê³  ê³ ì •.</span>
	<span class="k">auto</span> <span class="n">auto_crx1</span> <span class="o">=</span> <span class="n">crs</span><span class="p">;</span>
	<span class="k">const</span> <span class="k">auto</span><span class="o">&amp;</span> <span class="n">auto_crx2</span> <span class="o">=</span> <span class="n">crx</span><span class="p">;</span>

	<span class="k">volatile</span> <span class="kt">int</span> <span class="n">vx</span> <span class="o">=</span> <span class="mi">1024</span><span class="p">;</span>
	<span class="k">auto</span> <span class="n">avx</span> <span class="o">=</span> <span class="n">vx</span><span class="p">;</span>
	<span class="k">volatile</span> <span class="k">auto</span> <span class="n">vavx</span> <span class="o">=</span> <span class="n">vx</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>int <code class="language-plaintext highlighter-rouge">x</code> = int();
    <ul>
      <li><code class="language-plaintext highlighter-rouge">x</code> ëŠ” int ê³  0 ìœ¼ë¡œ ì´ˆê¸°í™”ë¨</li>
    </ul>
  </li>
  <li>auto <code class="language-plaintext highlighter-rouge">auto_x</code> = x;
    <ul>
      <li><code class="language-plaintext highlighter-rouge">auto_x</code>ëŠ” x ë¥¼ ëŒ€ì…ë°›ì•„ int í˜•ì´ ëœë‹¤.</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">const &amp;</code>
    <ul>
      <li>const int&amp; <code class="language-plaintext highlighter-rouge">crx</code> = x;
        <ul>
          <li><code class="language-plaintext highlighter-rouge">crx</code> ëŠ” x ë¥¼ ì°¸ì¡°í•˜ëŠ” const int &amp; ì°¸ì¡°í˜•</li>
        </ul>
      </li>
      <li>auto <code class="language-plaintext highlighter-rouge">auto_crx1</code> = crx;
        <ul>
          <li><code class="language-plaintext highlighter-rouge">auto_crx1</code> ì€ crxë¥¼ ëŒ€ì…ë°›ì•„ <strong>const int &amp;ì´ ì•„ë‹Œ intí˜•ì´ ëœë‹¤.</strong></li>
          <li>auto ëŠ” <u>ëŒ€ì…ë°›ì•„ í˜•ì„ ê²°ì •í• ë•Œ constì™€ &amp;ì„ ë–¼ë²„ë¦°ë‹¤!</u> ê·¸ëƒ¥ intê°€ ë¨</li>
        </ul>
      </li>
      <li>const auto&amp; <code class="language-plaintext highlighter-rouge">auto_crx2</code> = crx;
        <ul>
          <li><u>autoê°€ const &amp; ê°€ ë˜ê³ ì‹¶ë‹¤ë©´ autoì—ë„ constë‚˜ &amp;ì„ ë¶™ì—¬ì¤˜ì•¼ í•¨</u></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">volatile</code>
    <ul>
      <li>volatile int <code class="language-plaintext highlighter-rouge">vx</code> = 1024;
        <ul>
          <li><code class="language-plaintext highlighter-rouge">volatile</code>ì€ ê°’ì´ ìì£¼ ë³€í•˜ë¯€ë¡œ ìµœì í™”ì‹œì—” ë¹¼ì£¼ì–´ì•¼ í•˜ë©° ë©€í‹°ìŠ¤ë ˆë”©ì— ìì£¼ ì“°ì¸ë‹¤.</li>
        </ul>
      </li>
      <li>auto <code class="language-plaintext highlighter-rouge">avx</code> = vx;
        <ul>
          <li>ì—­ì‹œ volatileì„ ë–¼ê³  intë§Œ ë“¤ì–´ê°€ì„œ <code class="language-plaintext highlighter-rouge">avx</code>ëŠ” intí˜•ì´ ëœë‹¤.</li>
        </ul>
      </li>
      <li>volatile auto <code class="language-plaintext highlighter-rouge">vavx</code> = vx;
        <ul>
          <li>autoê°€ volatileì„ ì½ê²Œ í•˜ê³  ì‹¶ë‹¤ë©´ ì—­ì‹œ auto ì•ì— volatileì„ ë¶™ì—¬ì¤˜ì•¼í•¨</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p><br /></p>

<h3 id="ì˜ˆì œ-3ï¸âƒ£-ë§ë¶™ì—¬-template-t-ë˜í•œ-const--volatile-ê°™ì€ê±´-ì½ì§€-ì•ŠëŠ”ë‹¤">ì˜ˆì œ 3ï¸âƒ£ ë§ë¶™ì—¬ Template T ë˜í•œ const, &amp;, volatile ê°™ì€ê±´ ì½ì§€ ì•ŠëŠ”ë‹¤.</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>	<span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T</span><span class="p">&gt;</span>
	<span class="kt">void</span> <span class="nf">ex_func1</span><span class="p">(</span><span class="n">T</span> <span class="n">t</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>

	<span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T</span><span class="p">&gt;</span>
	<span class="kt">void</span> <span class="nf">ex_func2</span><span class="p">(</span><span class="n">T</span><span class="o">&amp;</span> <span class="n">t</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>

	<span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T</span><span class="p">&gt;</span>
	<span class="kt">void</span> <span class="nf">ex_func3</span><span class="p">(</span><span class="k">const</span> <span class="n">T</span><span class="o">&amp;</span> <span class="n">t</span><span class="p">)</span>	<span class="p">{</span> <span class="p">}</span>

	<span class="kt">void</span> <span class="nf">ex</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="k">const</span> <span class="kt">int</span> <span class="o">&amp;</span> <span class="n">crx</span> <span class="o">=</span> <span class="mi">123</span><span class="p">;</span>
		<span class="n">ex3_func1</span><span class="p">(</span><span class="n">crx</span><span class="p">);</span>
		<span class="n">ex3_func2</span><span class="p">(</span><span class="n">crx</span><span class="p">);</span>
		<span class="n">ex3_func3</span><span class="p">(</span><span class="n">crx</span><span class="p">);</span>
	<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li><strong>const int &amp;</strong> <code class="language-plaintext highlighter-rouge">crx</code> = 123;
    <ul>
      <li>ex3_func1(crx);
        <ul>
          <li>ex3_func1(T t)</li>
          <li><code class="language-plaintext highlighter-rouge">T t</code> ì—ì„œ <code class="language-plaintext highlighter-rouge">crx</code>ë¥¼ ë°›ì„ë•Œ const int &amp; ê°€ ì•„ë‹Œ ê·¸ëƒ¥ intë§Œ Tì— ë“¤ì–´ê°€ê²Œ ëœë‹¤. (ì˜ˆì œ 2ï¸âƒ£ ì°¸ê³ )</li>
        </ul>
      </li>
      <li>ex3_func2(crx);
        <ul>
          <li>ex3_func2(T&amp; t)</li>
          <li><del><code class="language-plaintext highlighter-rouge">T&amp; t</code> ì—ì„œ <code class="language-plaintext highlighter-rouge">crx</code>ë¥¼ ë°›ì„ë•Œ const int &amp; ê°€ ì•„ë‹Œ int &amp; ê¹Œì§€ë§Œ ë°›ëŠ”ë‹¤. constëŠ” ë–¼ì§€ê³  <code class="language-plaintext highlighter-rouge">&amp;</code>ë§Œ ë¶™ì—¬ì„œ ì²˜ë¦¬ ë¨ !</del> const int &amp; ê¹Œì§€ ë‹¤ ë°›ëŠ”ë‹¤. (21.07.22 ìˆ˜ì •)</li>
        </ul>
      </li>
      <li>ex3_func3(crx);
        <ul>
          <li>ex3_func3(const T&amp; t)</li>
          <li><code class="language-plaintext highlighter-rouge">const T &amp; t</code> ì—ì„œ <code class="language-plaintext highlighter-rouge">crx</code>ë¥¼ ë°›ì„ë•Œ const int &amp; ê¹Œì§€ ë‹¤ ë°›ëŠ”ë‹¤.</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p><br /></p>

<h3 id="ì˜ˆì œ-4ï¸âƒ£-auto--ê²½ìš°ì—ëŠ”-constë¥¼-ì½ëŠ”ë‹¤">ì˜ˆì œ 4ï¸âƒ£ auto &amp; ê²½ìš°ì—ëŠ” constë¥¼ ì½ëŠ”ë‹¤.</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">ex</span><span class="p">()</span>
<span class="p">{</span>
	<span class="k">const</span> <span class="kt">int</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">auto</span><span class="o">&amp;</span> <span class="n">rc</span> <span class="o">=</span> <span class="n">c</span><span class="p">;</span>
    <span class="c1">// rc = 123 - error!</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>const int <code class="language-plaintext highlighter-rouge">c</code> = 0;
    <ul>
      <li><code class="language-plaintext highlighter-rouge">c</code>ëŠ” ê°’ì„ ë°”ê¿€ ìˆ˜ ì—†ëŠ” const ìƒìˆ˜ë‹¤.</li>
    </ul>
  </li>
  <li><strong>auto &amp;</strong> <code class="language-plaintext highlighter-rouge">rc</code> = c;
    <ul>
      <li><code class="language-plaintext highlighter-rouge">rc</code> ëŠ” cì˜ ì°¸ì¡° ë³€ìˆ˜</li>
      <li>autoëŠ” constì™€ &amp;ì„ ì•ˆ ì½ëŠ”ë‹¤ê³  í•˜ì§€ë§Œ <strong>auto &amp;</strong> ì´ëŸ° ê²½ìš°ì—ëŠ” constë¥¼ ì½ëŠ”ë‹¤.
        <ul>
          <li><code class="language-plaintext highlighter-rouge">rc</code>ê°€ <u>constì¸ cì˜ ê°’ì„ ë°”ê¾¸ë©´ ì•ˆë˜ê¸° ë•Œë¬¸ì— auto &amp; ë¡œ ë°›ëŠ” ê²½ìš°ì—ëŠ” constë¥¼ ì½ëŠ”ë‹¤.</u></li>
          <li>ë”°ë¼ì„œ <code class="language-plaintext highlighter-rouge">rc</code>ì˜ íƒ€ì…ì€ cosnt int &amp; ê°€ ëœë‹¤.
            <ul>
              <li>rc = 123 ; ì„ ë§‰ìŒ. <code class="language-plaintext highlighter-rouge">c</code>ê°’ì´ ë°”ë€Œë©´ ì•ˆë˜ê¸° ë•Œë¬¸ì—.</li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p><br /></p>

<h3 id="ì˜ˆì œ-5ï¸âƒ£-auto-">ì˜ˆì œ 5ï¸âƒ£ auto &amp;&amp;</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">ex</span><span class="p">()</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">40</span><span class="p">;</span>
	<span class="k">auto</span> <span class="o">&amp;&amp;</span> <span class="n">ri</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>		<span class="c1">// riëŠ” l-value. int&amp; ri ì™œëƒí•˜ë©´ ë“¤ì–´ì˜¨ê²Œ l-valueë‹ˆê¹Œ</span>
	<span class="k">auto</span> <span class="o">&amp;&amp;</span> <span class="n">ri2</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>	<span class="c1">// ri2ëŠ” r-value. int&amp;&amp; ri2</span>
	<span class="k">auto</span> <span class="o">&amp;&amp;</span> <span class="n">ri3</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">move</span><span class="p">(</span><span class="n">i</span><span class="p">);</span> <span class="c1">// ri3ëŠ” r-value.  int &amp;&amp; ri3</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>int <code class="language-plaintext highlighter-rouge">i</code> = 40;</li>
  <li><strong>auto &amp;&amp;</strong> <code class="language-plaintext highlighter-rouge">ri_1</code> = i;
    <ul>
      <li><strong>auto &amp;&amp;</strong>ëŠ” <u>R-valueë¡œ ì„ ì–¸í•˜ê³  ì‹¶ë‹¤ëŠ”'ì˜ë¯¸'ì¼ ë¿, ë°˜ë“œì‹œ R-valueë¡œì„œ ë°›ì•„ë“¤ì´ê² ë‹¤ëŠ”ê±´ ì•„ë‹ˆë‹¤.</u></li>
      <li><code class="language-plaintext highlighter-rouge">ri_1</code>ëŠ” ië¥¼ ì°¸ì¡°í•˜ëŠ”ë° iëŠ” L-valueì´ê¸° ë•Œë¬¸ì— ri_1ì˜ íƒ€ì…ì€ int &amp; ì¦‰ <em>L-value Referenc</em>eê°€ ëœë‹¤.</li>
    </ul>
  </li>
  <li><strong>auto &amp;&amp;</strong> <code class="language-plaintext highlighter-rouge">ri_2</code> = 42;
    <ul>
      <li><code class="language-plaintext highlighter-rouge">ri_2</code>ëŠ” 42ë¥¼ ì°¸ì¡°í•˜ëŠ”ë° 42ëŠ” R-valueì´ê¸° ë•Œë¬¸ì— ri_2ì˜ íƒ€ì…ì€ int &amp;&amp; ì¦‰ <em>R-value Reference</em>ê°€ ëœë‹¤.</li>
    </ul>
  </li>
  <li><strong>auto &amp;&amp;</strong> <code class="language-plaintext highlighter-rouge">ri_3</code> = std::move(i);
    <ul>
      <li><code class="language-plaintext highlighter-rouge">ri_3</code>ëŠ” std::move(i)ë¥¼ ì°¸ì¡°í•˜ëŠ”ë° std::move(i)ëŠ” iê°€ R-valueë¡œ ë³€í™˜ë˜ì–´ ri_3ì˜ íƒ€ì…ì€ int &amp;&amp; ì¦‰ <em>R-value Reference</em>ê°€ ëœë‹¤.</li>
    </ul>
  </li>
</ul>

<p><br /></p>

<h3 id="ì˜ˆì œ-6ï¸âƒ£-auto-í¬ì¸í„°ì¼-ê²½ìš°ì—ëŠ”-const-ë¥¼-ë‹¤-ì½ì–´ë“¤ì¸ë‹¤">ì˜ˆì œ 6ï¸âƒ£ auto í¬ì¸í„°ì¼ ê²½ìš°ì—ëŠ” const, *ë¥¼ ë‹¤ ì½ì–´ë“¤ì¸ë‹¤.</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">ex</span><span class="p">()</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">40</span><span class="p">;</span>
	<span class="k">const</span> <span class="kt">int</span><span class="o">*</span> <span class="n">pi</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">i</span><span class="p">;</span>
	<span class="k">auto</span> <span class="n">p</span> <span class="o">=</span> <span class="n">pi</span><span class="p">;</span>		
    
    <span class="c1">// ex2, ex4ì™€ëŠ” ë‹¬ë¦¬ ì´ë²ˆì—ëŠ” intê°€ ì•„ë‹ˆë¼ const int * ê¹Œì§€ ë‹¤ ê°€ì ¸ì˜´</span>
	<span class="c1">// ì¦‰, í¬ì¸í„°ì¼ ê²½ìš°ì—ëŠ” autoê°€ ê°’ì„ ë‹¤ ê°€ì ¸ì˜¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŒ</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>int <code class="language-plaintext highlighter-rouge">i</code> = 40;</li>
  <li>const int * <code class="language-plaintext highlighter-rouge">pi</code> = &amp;i;
    <ul>
      <li><code class="language-plaintext highlighter-rouge">pi</code>ëŠ” iì˜ ì£¼ì†Œë¥¼ ë‹´ê³  ìˆëŠ” const int * í¬ì¸í„°ë‹¤.</li>
      <li>const int * ì´ê¸° ë•Œë¬¸ì— ê°„ì ‘ì°¸ ì¡°ë¡œ pi ê°€ ê°€ë¦¬í‚¤ëŠ” iì˜ ê°’ì„ ë°”ê¾¸ëŠ” ê²ƒì´ ë¶ˆê°€ëŠ¥.</li>
    </ul>
  </li>
  <li>auto <code class="language-plaintext highlighter-rouge">p</code> = pi;
    <ul>
      <li><code class="language-plaintext highlighter-rouge">p</code> ëŠ” const int * ë‹¤.</li>
      <li>pi ì˜ ê°’ì´ ëŒ€ì…ë˜ë‹ˆ <code class="language-plaintext highlighter-rouge">p</code>ë„ piì²˜ëŸ¼ iì˜ ì£¼ì†Œë¥¼ ë‹´ê²Œëœë‹¤.</li>
      <li><u>auto ëŠ” í¬ì¸í„°ì˜ ê²½ìš° constê¹Œì§€ ì½ì–´ì˜¨ë‹¤.</u></li>
      <li>*p = 43 ì€ ë¶ˆê°€ëŠ¥í•˜ë‹¤. pëŠ” const int *ë‹ˆê¹Œ.</li>
    </ul>
  </li>
</ul>

<p><br /></p>

<h3 id="ì˜ˆì œ-7ï¸âƒ£-auto-ëŒë‹¤-í•¨ìˆ˜ëŠ”-íŒŒë¼ë¯¸í„°ì—-autoë¥¼-ì‚¬ìš©í• -ìˆ˜-ìˆë‹¤">ì˜ˆì œ 7ï¸âƒ£ auto ëŒë‹¤ í•¨ìˆ˜ëŠ” íŒŒë¼ë¯¸í„°ì— autoë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">ex</span><span class="p">()</span>
<span class="p">{</span>
	<span class="c1">// generic lambda;</span>
	<span class="k">auto</span> <span class="n">func</span> <span class="o">=</span> <span class="p">[](</span><span class="k">auto</span> <span class="n">x</span><span class="p">,</span> <span class="k">auto</span> <span class="n">y</span><span class="p">)</span> <span class="p">{</span><span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">;</span> <span class="p">};</span>
	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">func</span><span class="p">(</span><span class="mf">1.1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="s">"  "</span> <span class="o">&lt;&lt;</span> <span class="n">func</span><span class="p">(</span><span class="mf">3.7</span><span class="p">,</span> <span class="mf">23.1</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>
	<span class="c1">// ëŒë‹¤ í•¨ìˆ˜ëŠ” parameterë¡œ autoë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤!</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>ë‹¤ë¥¸ ì¼ë°˜ í•¨ìˆ˜ë“¤ì—ì„œëŠ” íŒŒë¼ë¯¸í„°ì— autoë¥¼ ëª»ì“°ì§€ë§Œ</li>
  <li><u>ëŒë‹¤ í•¨ìˆ˜ì—ì„œëŠ” íŒŒë¼ë¯¸í„°ì— autoë¥¼ ì“¸ ìˆ˜ ìˆë‹¤.</u>
    <ul>
      <li>auto func = <a href="`auto x`, `auto y`"></a> {return x + y; };</li>
    </ul>
  </li>
</ul>

<p><br /></p>

<h2 id="-decltype">ğŸ”” decltype</h2>

<blockquote>
  <p><u>ì»´íŒŒì¼ íƒ€ì„ì— autoê°€ íƒ€ì…ì„ ì¶”ë¡ í•˜ê¸°ì— ì—­ë¶€ì¡±ì¼ ë•Œ ì£¼ë¡œ ì‚¬ìš©í•œë‹¤.</u></p>
</blockquote>

<ul>
  <li>ìƒˆë¡œìš´ ë°ì´í„° íƒ€ì…ì„ ì •ì˜í•˜ëŠ” ì—­í• ì„ í•œë‹¤.
    <ul>
      <li><code class="language-plaintext highlighter-rouge">typedef</code> ì‚¬ìš©í•˜ëŠ” ë°©ë²• ğŸ‘‰ typedef decltype(A) B
        <ul>
          <li>A ì˜ ë°ì´í„° íƒ€ì…ì„ B ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ì •ì˜í•œë‹¤.</li>
        </ul>
      </li>
      <li><code class="language-plaintext highlighter-rouge">typedef</code> ì“°ì§€ ì•Šì•„ë„ ê´œì°®ë‹¤. ğŸ‘‰ decltype(A) B = A;
        <ul>
          <li>A ì˜ ë°ì´í„° íƒ€ì…ì„ B ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ì •ì˜í•œë‹¤.</li>
        </ul>
      </li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">auto</code>ëŠ” <code class="language-plaintext highlighter-rouge">const</code>, <code class="language-plaintext highlighter-rouge">&amp;</code> ë“±ë“±ì€ ëª» ì½ëŠ” ë°˜ë©´ì— <code class="language-plaintext highlighter-rouge">decltype</code>ì€ ê·¸ëŒ€ë¡œ ë‹¤ ë³´ì¡´í•œë‹¤.
    <ul>
      <li>ì‹¬ì§€ì–´ <em>decltype(vec[0]) B</em> ì—ì„œ <code class="language-plaintext highlighter-rouge">vec[0]</code> ëŒ€ê´„í˜¸ ì—°ì‚°ìëŠ” ë‚´ë¶€ì ìœ¼ë¡œ ë ˆí¼ëŸ°ìŠ¤ë¥¼ ë¦¬í„´ í•˜ëŠ”ë° ì´ë¥¼ ê·¸ëŒ€ë¡œ ë³´ì¡´í•˜ì—¬ B íƒ€ì…ì„ <code class="language-plaintext highlighter-rouge">int &amp;</code> ë¡œ ì •ì˜í•œë‹¤.</li>
    </ul>
  </li>
  <li>ë¦¬í„´ íƒ€ì…ì—ë„ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤. ë‹¤ë§Œ í•¨ìˆ˜ ì´ë¦„ ë’¤ì— <code class="language-plaintext highlighter-rouge">-&gt; ë¦¬í„´ íƒ€ì…</code> ì´ëŸ° ì‹ìœ¼ë¡œë§Œ ê°€ëŠ¥í•˜ë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">decltype((A))</code> ê´„í˜¸ë¥¼ ë‘ë²ˆ ì“°ë©´ ë ˆí¼ëŸ°ìŠ¤ <code class="language-plaintext highlighter-rouge">&amp;</code>ì„ íƒ€ì…ì— ë§ë¶™ì—¬ ì¤€ë‹¤.</li>
  <li>Aê°€ ì—°ì‚°ì‹ì´ë¼ë©´
    <ul>
      <li><code class="language-plaintext highlighter-rouge">decltype(A)</code>ì—ì„œ A ì˜ ì—°ì‚° ê²°ê³¼ê°€ ë³€ìˆ˜ë¼ë©´ <code class="language-plaintext highlighter-rouge">&amp;</code>ì„ íƒ€ì…ì— ë§ë¶™ì—¬ ì¤€ë‹¤.</li>
      <li><code class="language-plaintext highlighter-rouge">decltype(A)</code>ì—ì„œ A ì˜ ì—°ì‚° ê²°ê³¼ê°€ R-valueë¼ë©´ <code class="language-plaintext highlighter-rouge">&amp;</code>ì„ íƒ€ì…ì— ë§ë¶™ì—¬ ì£¼ì§€ ì•ŠëŠ”ë‹¤.</li>
      <li>A ì—°ì‚°ì‹ì— ì‚¬ìš©ëœ ë‘ ë³€ìˆ˜ê°€ ê°™ì€ ë°ì´í„° íƒ€ì…ì´ë¼ë©´ ê²°ê³¼ ë°ì´í„° íƒ€ì…ì— <code class="language-plaintext highlighter-rouge">&amp;</code>ì„ íƒ€ì…ì— ë§ë¶™ì—¬ ì¤€ë‹¤.</li>
      <li>A ì—°ì‚°ì‹ì— ì‚¬ìš©ëœ ë‘ ë³€ìˆ˜ê°€ ë‹¤ë¥¸ ë°ì´í„° íƒ€ì…ì´ë¼ë©´ ê²°ê³¼ ë°ì´í„° íƒ€ì…ì— <code class="language-plaintext highlighter-rouge">&amp;</code>ì„ íƒ€ì…ì— ë§ë¶™ì—¬ ì£¼ì§€ ì•ŠëŠ”ë‹¤.</li>
    </ul>
  </li>
  <li>ë ˆí¼ëŸ°ìŠ¤ê°€ ìë™ìœ¼ë¡œ ë¶™ëŠ”ê²Œ ì‹«ë‹¤ë©´ <code class="language-plaintext highlighter-rouge">std::remove_reference</code>ë¥¼ ì‚¬ìš©í•´ ì—†ì•¨ ìˆ˜ ìˆë‹¤.</li>
  <li>ëŸ°íƒ€ì„ì´ ì•„ë‹Œ ì»´íŒŒì¼ íƒ€ì„ì— ê²°ì • ëœë‹¤.</li>
</ul>

<p><br /></p>

<h3 id="ì˜ˆì œ-1ï¸âƒ£">ì˜ˆì œ 1ï¸âƒ£</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>	<span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T1</span><span class="p">,</span> <span class="k">typename</span> <span class="nc">T2</span><span class="p">&gt;</span>
	<span class="kt">void</span> <span class="nf">ex_func</span><span class="p">(</span><span class="n">T1</span> <span class="n">lvar</span><span class="p">,</span> <span class="n">T2</span> <span class="n">rvar</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="k">auto</span> <span class="n">prod1</span> <span class="o">=</span> <span class="n">lvar</span> <span class="o">*</span> <span class="n">rvar</span><span class="p">;</span>						<span class="c1">// ë°©ë²• 1ï¸âƒ£</span>

		<span class="k">typedef</span> <span class="k">decltype</span><span class="p">(</span><span class="n">lvar</span> <span class="o">*</span> <span class="n">rvar</span><span class="p">)</span> <span class="n">product_type</span><span class="p">;</span>		<span class="c1">// not ê³„ì‚°! only ì¶”ë¡ !</span>
		<span class="n">product_type</span> <span class="n">prod2</span> <span class="o">=</span> <span class="n">lvar</span> <span class="o">*</span> <span class="n">rvar</span><span class="p">;</span>					<span class="c1">// ë°©ë²• 2ï¸âƒ£</span>
		
		<span class="k">decltype</span><span class="p">(</span><span class="n">lvar</span> <span class="o">*</span> <span class="n">rvar</span><span class="p">)</span> <span class="n">prod3</span> <span class="o">=</span> <span class="n">lvar</span> <span class="o">*</span> <span class="n">rvar</span><span class="p">;</span>	<span class="c1">// ë°©ë²• 3ï¸âƒ£</span>
	<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>void ex_func(T1 lvar, T2 rvar)
    <ul>
      <li>lvarì™€ rvarë¥¼ ê³±í•´ì£¼ëŠ” ê¸°ëŠ¥ì„ ìˆ˜í–‰í•  ê²ƒì´ë‹¤.</li>
      <li>ë°©ë²• 1ï¸âƒ£
        <ul>
          <li>auto <code class="language-plaintext highlighter-rouge">prod1</code> = lvar * rvar;
            <ul>
              <li><code class="language-plaintext highlighter-rouge">prod1</code> ì€ ì–´ë–¤ íƒ€ì…ì´ ë  ê²ƒì¸ê°€?
                <ul>
                  <li>ì»´íŒŒì¼ëŸ¬ê°€ ì‹¤í–‰ë„ ì „ì— ì´ë¥¼ ì¶”ë¡ í•˜ê¸°ê°€ ëª…í™•ì¹˜ ì•ŠìŒ.
                    <ul>
                      <li>íƒ€ì… T1, T2ëŠ” ì‹¤í–‰ í›„ì— ê²°ì •ë˜ëŠ” ê²ƒì´ë¯€ë¡œ.</li>
                    </ul>
                  </li>
                  <li>ì¦‰ <u>autoê°€ ì´ë¥¼ ì¶”ë¡ í•˜ê¸°ê°€ ëª…í™•í•˜ì§€ê°€ ì•Šë‹¤.</u></li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li>ë°©ë²• 2ï¸âƒ£
        <ul>
          <li>typedef <strong>decltype</strong>(lvar * rvar) <code class="language-plaintext highlighter-rouge">product_type</code>;
            <ul>
              <li><code class="language-plaintext highlighter-rouge">product_type</code> ì´ë¼ëŠ” <u>ë°ì´í„° íƒ€ì…ì„ (lvar * rvar)ì˜ ì—°ì‚° ê²°ê³¼ì˜ íƒ€ì…ìœ¼ë¡œ ì¶”ë¡ ë˜ëŠ” íƒ€ì…(decltype)ìœ¼ë¡œ ì •ì˜(typedef).</u></li>
              <li><code class="language-plaintext highlighter-rouge">product_type</code> <code class="language-plaintext highlighter-rouge">prod2</code> = lvar * rvar;
                <ul>
                  <li>prod2ì˜ íƒ€ì…ì€ <code class="language-plaintext highlighter-rouge">product_type</code>  ì´ë‹¤.</li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li>ë°©ë²• 3ï¸âƒ£
        <ul>
          <li><strong>decltype</strong>(lvar * rvar) <code class="language-plaintext highlighter-rouge">prod3</code> = lvar * rvar;
            <ul>
              <li>ê·¸ëƒ¥ ë°”ë¡œ ì´ë ‡ê²Œ ì •ì˜ë„ ê°€ëŠ¥.</li>
              <li>ê°ê° íƒ€ì…ì´ (lvar * rvar) ì—°ì‚° ê²°ê³¼ë¥¼ ì»´íŒŒì¼ëŸ¬ ë‹¨ê³„ì—ì„œ decltype ì¶”ë¡ í•œ í›„ ì´ë¥¼ prod3ì˜ íƒ€ì…ìœ¼ë¡œ ì •ì˜.</li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p><br /></p>

<h3 id="ì˜ˆì œ-2ï¸âƒ£-decltypeì€-ë¦¬í„´-íƒ€ì…ì—ë„-ì‚¬ìš©-ê°€ëŠ¥-í•˜ë‹¤">ì˜ˆì œ 2ï¸âƒ£ decltypeì€ ë¦¬í„´ íƒ€ì…ì—ë„ ì‚¬ìš© ê°€ëŠ¥ í•˜ë‹¤.</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T1</span><span class="p">,</span> <span class="k">typename</span> <span class="nc">T2</span><span class="p">&gt;</span>
	<span class="k">auto</span> <span class="nf">ex_func</span><span class="p">(</span><span class="n">T1</span> <span class="n">lvar</span><span class="p">,</span> <span class="n">T2</span> <span class="n">rvar</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="k">decltype</span><span class="p">(</span><span class="n">lvar</span><span class="o">*</span> <span class="n">rvar</span><span class="p">)</span>
	<span class="p">{</span>	
		<span class="k">return</span> <span class="n">lvar</span> <span class="o">*</span> <span class="n">rvar</span><span class="p">;</span>
	<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>auto ex_func(T1 lvar, T2 rvar) -&gt; <strong>decltype</strong>(lvar* rvar)
    <ul>
      <li><code class="language-plaintext highlighter-rouge">return lvar * rvar</code></li>
      <li>lvar * rvar ë¦¬í„´í•˜ëŠ” íƒ€ì…ì„ <code class="language-plaintext highlighter-rouge">decltype(lvar * rvar)</code> ë¡œ í•´ì¤€ë‹¤.
        <ul>
          <li>lvarì™€ rvarê°€ <u>ì–´ë–¤ íƒ€ì…ì´ ë ì§€ ì»´íŒŒì¼ëŸ¬ ì…ì¥ì—ì„  ëª¨ë¥´ê¸° ë•Œë¬¸ì— autoë¼ëŠ” ì¶”ë¡ í•˜ê¸° ì—­ë¶€ì¡±ì´ë¼ì„œ ê·¸ë ‡ë‹¤.  ì´ëŸ´ ë•ŒëŠ” decltypeì„ ì¨ì¤˜ì•¼í•¨.</u></li>
          <li>decltype(lvar* rvar) ex8_func(T1 lvar, T2 rvar)</li>
        </ul>
      </li>
      <li>ì›ë˜ ë¦¬í„´ íƒ€ì…ì„ ì•ì— ì¨ì£¼ëŠ” ê²ƒì²˜ëŸ¼ decltype(lvar* rvar) ì„ í•¨ìˆ˜ ì´ë¦„ì•ì— ì¨ì¤€ë‹¤ë©´
        <ul>
          <li>ì»´íŒŒì¼ëŸ¬ ì…ì¥ì—ì„  lvar* rvarëŠ” ì•„ì§ ì„ ì–¸ë˜ì§€ ì•Šì€ ë³€ìˆ˜ë¼ í•¨ìˆ˜ ì´ë¦„ ì•ì— ì¨ì£¼ë©´ ì•ˆëœë‹¤.</li>
          <li>í•¨ìˆ˜ ì´ë¦„ ë’¤ì— <code class="language-plaintext highlighter-rouge">-&gt;</code> ë’¤ì— ë¦¬í„´ íƒ€ì…ì„ ëª…ì‹œí•´ì£¼ì.</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p><br /></p>

<h3 id="ì˜ˆì œ-3ï¸âƒ£-decltype-">ì˜ˆì œ 3ï¸âƒ£ decltype(( ))</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">struct</span> <span class="nc">S</span>
	<span class="p">{</span>
		<span class="kt">int</span> <span class="n">m_x</span><span class="p">;</span>  <span class="c1">// m_x ë©¤ë²„ë¥¼ ê°€ì§€ê³  ìˆê³ </span>
		<span class="n">S</span><span class="p">()</span>
		<span class="p">{</span>
			<span class="n">m_x</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>  <span class="c1">// êµ¬ì¡°ì²´ë¥¼ ìƒì„±í•˜ë©´ m_x ê°’ì„ 42 ë¡œ ì´ˆê¸°í™” í•œë‹¤.</span>
		<span class="p">}</span>
	<span class="p">};</span>
</code></pre></div></div>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>	<span class="kt">void</span> <span class="nf">ex</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="kt">int</span> <span class="n">x</span><span class="p">;</span>
		<span class="k">const</span> <span class="kt">int</span> <span class="n">cx</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>
		<span class="k">const</span> <span class="kt">int</span><span class="o">&amp;</span> <span class="n">crx</span> <span class="o">=</span> <span class="n">x</span><span class="p">;</span>   <span class="c1">// crxëŠ” xë¥¼ ì°¸ì¡°í•˜ë©° constë¡œì„œ ì°¸ì¡°í•˜ëŠ” ëŒ€ìƒì„ xì—ì„œ ë‹¤ë¥¸ê±¸ë¡œ ë°”ê¿€ ìˆ˜ ì—†ë‹¤.</span>
		<span class="k">const</span> <span class="n">S</span><span class="o">*</span> <span class="n">p</span> <span class="o">=</span> <span class="k">new</span> <span class="n">S</span><span class="p">();</span>  <span class="c1">// êµ¬ì¡°ì²´ Sì˜ í¬ì¸í„° pëŠ” constë¡œì„œ ê°€ë¦¬í‚¤ëŠ” ëŒ€ìƒì„ new S()ì—ì„œ ë‹¤ë¥¸ê±¸ë¡œ ë°”ê¿€ ìˆ˜ ì—†ë‹¤.</span>

		<span class="k">auto</span> <span class="n">a</span> <span class="o">=</span> <span class="n">x</span><span class="p">;</span>          <span class="c1">// int</span>
		<span class="k">auto</span> <span class="n">b</span> <span class="o">=</span> <span class="n">cx</span><span class="p">;</span>		 <span class="c1">// int   (const int ê°€ ì•„ë‹˜)</span>
		<span class="k">auto</span> <span class="n">c</span> <span class="o">=</span> <span class="n">crx</span><span class="p">;</span>		 <span class="c1">// int   (const int &amp; ê°€ ì•„ë‹˜)</span>
		<span class="k">auto</span> <span class="n">d</span> <span class="o">=</span> <span class="n">p</span><span class="p">;</span>	         <span class="c1">// const S *  (í¬ì¸í„°ë¼ ê·¸ëŒ€ë¡œ ë‹¤ ë”°ë¼ ì˜¨ë‹¤.)</span>
		<span class="k">auto</span> <span class="n">e</span> <span class="o">=</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">m_x</span><span class="p">;</span>     <span class="c1">// int  (pëŠ” const í¬ì¸í„°ì´ê¸° ë•Œë¬¸ì— ê°„ì ‘ì°¸ì¡°ë¡œ êµ¬ì¡°ì²´ ë©¤ë²„ì˜ ê°’ì„ ë°”ê¿€ ìˆ˜ ì—†ê³  p-&gt;m.x ì´ë ‡ê²Œ ì½ì„ ìˆ˜ë§Œ ìˆë‹¤.)</span>

		<span class="k">typedef</span> <span class="k">decltype</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="n">x_type</span><span class="p">;</span>		    <span class="c1">// int</span>
		<span class="k">typedef</span> <span class="k">decltype</span><span class="p">(</span><span class="n">cx</span><span class="p">)</span> <span class="n">cx_type</span><span class="p">;</span>		<span class="c1">// const int</span>
		<span class="k">typedef</span> <span class="k">decltype</span><span class="p">(</span><span class="n">crx</span><span class="p">)</span> <span class="n">crx_type</span><span class="p">;</span>		<span class="c1">// const int &amp;	</span>
		<span class="k">typedef</span> <span class="k">decltype</span><span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">m_x</span><span class="p">)</span> <span class="n">m_x_type</span><span class="p">;</span>	<span class="c1">// int</span>
									
		<span class="k">typedef</span> <span class="k">decltype</span><span class="p">((</span><span class="n">x</span><span class="p">))</span> <span class="n">cx_type</span><span class="p">;</span>				        <span class="c1">// int &amp;</span>
		<span class="k">typedef</span> <span class="k">decltype</span><span class="p">((</span><span class="n">cx</span><span class="p">))</span> <span class="n">cx_with_parens_type</span><span class="p">;</span>		    <span class="c1">// const int &amp;</span>
		<span class="k">typedef</span> <span class="k">decltype</span><span class="p">((</span><span class="n">crx</span><span class="p">))</span> <span class="n">crx_with_parens_type</span><span class="p">;</span>	    <span class="c1">// const int &amp;  (ì›ë˜ ë ˆí¼ëŸ°ìŠ¤ì˜€ë‹¤ë©´ ê·¸ëŒ€ë¡œ &amp; ìœ ì§€í•¨)	</span>
		<span class="k">typedef</span> <span class="k">decltype</span><span class="p">((</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">m_x</span><span class="p">))</span> <span class="n">m_x_with_parens_type</span><span class="p">;</span>	<span class="c1">// const int &amp; 	  (pëŠ” constì´ê¸° ë•Œë¬¸ì— ê°„ì ‘ì°¸ì¡°ë¡œ ë©¤ë²„ì˜ ê°’ì„ ë°”ê¾¸ë©´ ì•ˆë˜ê¸° ë•Œë¬¸ì— &amp; ë ˆí¼ëŸ°ìŠ¤ê°€ ë˜ë‹ˆ ê°’ì„ ë°”ê¾¸ë©´ ì•ˆëœë‹¤ëŠ” constê¹Œì§€ ë”°ë¼ì™”ë‹¤.)</span>
	<span class="p">}</span>
</code></pre></div></div>

<blockquote>
  <p><code class="language-plaintext highlighter-rouge">decltype</code> ëŠ” ë³€ìˆ˜ê°€ ì„ ì–¸ì´ ëœ íƒ€ì…ì„ ê·¸ëŒ€ë¡œ ê°€ì ¸ì˜¨ë‹¤. <code class="language-plaintext highlighter-rouge">const</code>ì™€ <code class="language-plaintext highlighter-rouge">&amp;</code>ê¹Œì§€.</p>
</blockquote>

<blockquote>
  <p><code class="language-plaintext highlighter-rouge">decltype((N))</code> ğŸ‘‰ ê´„í˜¸ê°€ ë‘ê°œë©´ <u>ë ˆí¼ëŸ°ìŠ¤(&amp;)ë¥¼ ì¶”ê°€ë¡œ ë¶™ì—¬ì¤€ë‹¤.</u></p>
</blockquote>

<ul>
  <li>typedef decltype((x)) <code class="language-plaintext highlighter-rouge">cx_typee</code>;
    <ul>
      <li>&amp;ì„ ì¶”ê°€ë¡œ ë¶™ì—¬ì„œ int &amp;</li>
    </ul>
  </li>
  <li>typedef decltype((cx)) <code class="language-plaintext highlighter-rouge">cx_with_parens_type</code>;
    <ul>
      <li>&amp;ì„ ì¶”ê°€ë¡œ ë¶™ì—¬ì„œ const int &amp;</li>
    </ul>
  </li>
  <li>typedef decltype((crx)) <code class="language-plaintext highlighter-rouge">crx_with_parens_type</code>;
    <ul>
      <li>const int &amp;</li>
      <li>ì›ë˜ &amp;ê°€ ìˆëŠ” ìƒíƒœë©´ ê·¸ëŒ€ë¡œ &amp; ìœ ì§€í•¨.</li>
    </ul>
  </li>
  <li>typedef decltype((p-&gt;m_x)) <code class="language-plaintext highlighter-rouge">m_x_with_parens_type</code>;
    <ul>
      <li>&amp;ê°€ ì¶”ê°€ë¡œ ë¶™ëŠ”ë° ê·¸ëƒ¥ int &amp;ê°€ ë˜ëŠ”ê²Œ ì•„ë‹Œ const ê¹Œì§€ ë”°ë¼ì™€ì„œ const int &amp;ê°€ ëœë‹¤.</li>
      <li>pëŠ” constì´ê¸° ë•Œë¬¸ì— ê°„ì ‘ì°¸ì¡°ë¡œ ë©¤ë²„ì˜ ê°’ì„ ë°”ê¾¸ë©´ ì•ˆë˜ê¸° ë•Œë¬¸ì— &amp; ë ˆí¼ëŸ°ìŠ¤ê°€ ë˜ë‹ˆ ê°’ì„ ë°”ê¾¸ë©´ ì•ˆëœë‹¤ëŠ” constê¹Œì§€ ë”°ë¼ ì˜¨ë‹¤.</li>
    </ul>
  </li>
</ul>

<p><br /></p>

<h3 id="ì˜ˆì œ-4ï¸âƒ£-ë¦¬í„´-íƒ€ì…ì„-auto-ì™€-decltype-ì—-ë„£ì„-ë•Œ">ì˜ˆì œ 4ï¸âƒ£ ë¦¬í„´ íƒ€ì…ì„ auto ì™€ decltype ì— ë„£ì„ ë•Œ.</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>	<span class="k">const</span> <span class="n">S</span> <span class="nf">foo</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="n">S</span><span class="p">();</span> <span class="p">}</span>                       <span class="c1">// const êµ¬ì¡°ì²´ S() ë¥¼ ë¦¬í„´í•œë‹¤.</span>
	<span class="k">const</span> <span class="kt">int</span><span class="o">&amp;</span> <span class="n">foobar</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="mi">123</span><span class="p">;</span> <span class="p">}</span>                 <span class="c1">// const int &amp; ë¥¼ ë¦¬í„´í•œë‹¤.</span>

	<span class="kt">void</span> <span class="nf">ex</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">vec</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span> <span class="p">};</span>

		<span class="k">auto</span> <span class="n">a</span> <span class="o">=</span> <span class="n">foo</span><span class="p">();</span>									<span class="c1">// S        </span>
		<span class="k">typedef</span> <span class="k">decltype</span><span class="p">(</span><span class="n">foo</span><span class="p">())</span> <span class="n">foo_type</span><span class="p">;</span>				<span class="c1">// const S </span>

		<span class="k">auto</span> <span class="n">b</span> <span class="o">=</span> <span class="n">foobar</span><span class="p">();</span>								<span class="c1">// int</span>
		<span class="k">typedef</span> <span class="k">decltype</span><span class="p">(</span><span class="n">foobar</span><span class="p">())</span> <span class="n">foobar_type</span><span class="p">;</span>			<span class="c1">// const int &amp;</span>

		<span class="k">auto</span> <span class="n">itr</span> <span class="o">=</span> <span class="n">vec</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>							<span class="c1">// std::vector&lt;int&gt;::iterator</span>
		<span class="k">typedef</span> <span class="k">decltype</span><span class="p">(</span><span class="n">vec</span><span class="p">.</span><span class="n">begin</span><span class="p">())</span> <span class="n">iterator_type</span><span class="p">;</span>	<span class="c1">// std::vector&lt;int&gt;::iterator</span>

		<span class="k">auto</span> <span class="n">firstElement</span> <span class="o">=</span> <span class="n">vec</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>						<span class="c1">// int</span>
		<span class="k">decltype</span><span class="p">(</span><span class="n">vec</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="n">secondElement</span> <span class="o">=</span> <span class="n">vec</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>	    <span class="c1">// int &amp;</span>
	<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>auto <code class="language-plaintext highlighter-rouge">a</code> = foo()
    <ul>
      <li>autoì´ê¸° ë•Œë¬¸ì— <code class="language-plaintext highlighter-rouge">a</code>ì˜ íƒ€ì…ì€ constê°€ ë‚ ì•„ê°€ê³  ê·¸ëƒ¥ Sêµ¬ì¡°ì²´ íƒ€ì…ë¡œ ë°›ëŠ”ë‹¤.</li>
    </ul>
  </li>
  <li>typedef decltype(foo()) <code class="language-plaintext highlighter-rouge">foo_type</code>
    <ul>
      <li>decltypeì´ê¸° ë•Œë¬¸ì— <code class="language-plaintext highlighter-rouge">foo_type</code>ë¼ëŠ” ì´ë¦„ì˜ íƒ€ì…ì€ const ê¹Œì§€ ê·¸ëŒ€ë¡œ ë¬¼ë ¤ë°›ì•„ const S êµ¬ì¡°ì²´ íƒ€ì…ì´ ëœë‹¤.</li>
    </ul>
  </li>
  <li>auto <code class="language-plaintext highlighter-rouge">b</code> = foobar();
    <ul>
      <li>autoì´ê¸° ë•Œë¬¸ì— bíƒ€ì…ì€ const &amp; ê°€ ë‚ ì•„ê°€ê³  ê·¸ëƒ¥ int íƒ€ì…ìœ¼ë¡œ ë°›ëŠ”ë‹¤.</li>
    </ul>
  </li>
  <li>typedef decltype(foobar()) <code class="language-plaintext highlighter-rouge">foobar_type</code>;
    <ul>
      <li>decltypeì´ê¸° ë•Œë¬¸ì— <code class="language-plaintext highlighter-rouge">foobar_type</code>ë¼ëŠ” ì´ë¦„ì˜ íƒ€ì…ì€ const &amp; ê¹Œì§€ ê·¸ëŒ€ë¡œ ë¬¼ë ¤ë°›ì•„ const int &amp; íƒ€ì…ì´ ëœë‹¤.</li>
    </ul>
  </li>
  <li>auto <code class="language-plaintext highlighter-rouge">itr</code> = vec.begin();
    <ul>
      <li>itrì€ iterator íƒ€ì…</li>
    </ul>
  </li>
  <li>typedef decltype(vec.begin()) <code class="language-plaintext highlighter-rouge">iterator_type</code>;
    <ul>
      <li>iterator_type ë¼ëŠ” ì´ë¦„ì˜ íƒ€ì…ì€ iterator íƒ€ì…</li>
    </ul>
  </li>
  <li>auto <code class="language-plaintext highlighter-rouge">firstElement</code> = vec[0];
    <ul>
      <li>vec[0]ì€ intì¸ 10ì´ë‹¤. intì´ë¯€ë¡œ firstElement ì˜ íƒ€ì…ì€ intì´ë‹¤.</li>
    </ul>
  </li>
  <li>decltype(vec[0]) <code class="language-plaintext highlighter-rouge">secondElement</code> = vec[0];
    <ul>
      <li>vec[0]ì€ intì¸ 10ì´ë‹¤.</li>
      <li><u>ë‚´ë¶€ì ìœ¼ë¡œ [] ëŒ€ê´„í˜¸ëŠ” ë ˆí¼ëŸ°ìŠ¤ë¥¼ ë¦¬í„´í•œë‹¤.</u></li>
      <li>ê·¸ë˜ì„œ <u>decltype ì´ë©´ ë ˆí¼ëŸ°ìŠ¤ë„ ìœ ì§€ê°€ ë˜ì„œ int &amp;ê°€ ëœë‹¤.</u>
        <ul>
          <li>auto ë¼ë©´ ë ˆí¼ëŸ°ìŠ¤ &amp;ëŠ” ë‚ ë¼ê°„ë‹¤.</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p><br /></p>

<h3 id="ì˜ˆì œ-5ï¸âƒ£-l-value-r-value">ì˜ˆì œ 5ï¸âƒ£ L-value, R-value</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">ex</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
		<span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
		<span class="k">const</span> <span class="kt">int</span> <span class="n">cx</span> <span class="o">=</span> <span class="mi">40</span><span class="p">;</span>
		<span class="k">const</span> <span class="kt">int</span> <span class="n">cy</span> <span class="o">=</span> <span class="mi">50</span><span class="p">;</span>
		<span class="kt">double</span> <span class="n">d1</span> <span class="o">=</span> <span class="mf">3.14</span><span class="p">;</span>
		<span class="kt">double</span> <span class="n">d2</span> <span class="o">=</span> <span class="mf">9.8</span><span class="p">;</span>

		<span class="k">typedef</span> <span class="k">decltype</span><span class="p">(</span><span class="n">x</span> <span class="o">*</span> <span class="n">y</span><span class="p">)</span> <span class="n">prod_xy_type</span><span class="p">;</span>				<span class="c1">// int</span>
		<span class="k">auto</span> <span class="n">a</span> <span class="o">=</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span><span class="p">;</span>										<span class="c1">// int</span>
		
		<span class="k">typedef</span> <span class="k">decltype</span><span class="p">(</span><span class="n">cx</span> <span class="o">*</span> <span class="n">cy</span><span class="p">)</span> <span class="n">prod_cxcy_type</span><span class="p">;</span>			<span class="c1">// int</span>
		<span class="k">auto</span> <span class="n">b</span> <span class="o">=</span> <span class="n">cx</span> <span class="o">*</span> <span class="n">cy</span><span class="p">;</span>									<span class="c1">// int</span>

		<span class="k">typedef</span> <span class="k">decltype</span><span class="p">(</span><span class="n">d1</span> <span class="o">&lt;</span> <span class="n">d2</span> <span class="o">?</span> <span class="n">d1</span> <span class="o">:</span> <span class="n">d2</span><span class="p">)</span> <span class="n">cond_type</span><span class="p">;</span>		<span class="c1">// double &amp;</span>
		<span class="k">auto</span> <span class="n">c</span> <span class="o">=</span> <span class="n">d1</span> <span class="o">&lt;</span> <span class="n">d2</span> <span class="o">?</span> <span class="n">d1</span> <span class="o">:</span> <span class="n">d2</span><span class="p">;</span>							<span class="c1">// double</span>

		<span class="k">typedef</span> <span class="k">decltype</span><span class="p">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="n">d2</span> <span class="o">?</span> <span class="n">x</span> <span class="o">:</span> <span class="n">d2</span><span class="p">)</span> <span class="n">cond_type_mixed</span><span class="p">;</span>	<span class="c1">// double</span>
		<span class="k">auto</span> <span class="n">d</span> <span class="o">=</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">d2</span> <span class="o">?</span> <span class="n">x</span> <span class="o">:</span> <span class="n">d2</span><span class="p">;</span>							<span class="c1">// double</span>
	<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>typedef decltype(x * y) <code class="language-plaintext highlighter-rouge">prod_xy_type</code>;
    <ul>
      <li>x * yì˜ ê²°ê³¼ëŠ” intì´ë¯€ë¡œ prod_xy_typeëŠ” int.</li>
    </ul>
  </li>
  <li>auto <code class="language-plaintext highlighter-rouge">a</code> = x * y;
    <ul>
      <li>x * yì˜ ê²°ê³¼ëŠ” intì´ë¯€ë¡œ aëŠ” int.</li>
    </ul>
  </li>
  <li>typedef decltype(cx * cy) <code class="language-plaintext highlighter-rouge">prod_cxcy_type</code>;
    <ul>
      <li>cx ì™€ cyëŠ” const intì§€ë§Œ ë‘ê°œë¥¼ ê³±í•œ cx * cyëŠ” int íƒ€ì…ì˜ R-Valueì´ë‹¤.</li>
      <li>ë”°ë¼ì„œ ê·¸ëƒ¥ intì„</li>
    </ul>
  </li>
  <li>auto <code class="language-plaintext highlighter-rouge">b</code> = cx * cy;
    <ul>
      <li>cx ì™€ cyëŠ” const intì§€ë§Œ ë‘ê°œë¥¼ ê³±í•œ cx * cyëŠ” int íƒ€ì…ì˜ R-Valueì´ë‹¤.</li>
      <li>ë”°ë¼ì„œ ê·¸ëƒ¥ intì„</li>
    </ul>
  </li>
  <li>typedef decltype(d1 &lt; d2 ? d1 : d2) <code class="language-plaintext highlighter-rouge">cond_type</code>;
    <ul>
      <li>d1 = 3.14 &lt; d2 = 9.8 ì´ë¯€ë¡œ true ì—¬ì„œ ê²°ê³¼ëŠ” d1 ì´ë‹¤.</li>
      <li>d1ëŠ” L-valueì—¬ì„œ &amp;ê¹Œì§€ ë¶™ì—¬ cond_type ëŠ” <strong>double&amp; íƒ€ì…</strong>ì´ ëœë‹¤.</li>
      <li>ì´ì²˜ëŸ¼ <u>decltypeì€ ( ) ì•ˆì˜ ê²°ê³¼ê°€ ë³€ìˆ˜ì´ë©´ &amp;ì´ ì¶”ê°€ë¡œ ë¶™ê³  ( L-valueë‹ˆê¹Œ )
  decltype( a * b) ê°™ì€ R-valueê°€ ê²°ê³¼ì´ë©´ &amp;ì´ ë¶™ì§€ ì•ŠëŠ”ë‹¤.</u>
        <ul>
          <li>ë‹¨ ë¹„êµí•œ ë‘ ë³€ìˆ˜ê°€ ê°™ì€ íƒ€ì…ì˜ ë³€ìˆ˜ì—¬ì•¼ í•œë‹¤.</li>
          <li><u>ë§ê·¸ëŒ€ë¡œ íƒ€ì… ê·¸ëŒ€ë¡œ ë³´ì¡´í•˜ì—¬ ì •í™•í•˜ê²Œ ì „ë‹¬í•´ì¤€ë‹¤.</u></li>
        </ul>
      </li>
    </ul>
  </li>
  <li>auto <code class="language-plaintext highlighter-rouge">c</code> = d1 &lt; d2 ? d1 : d2;
    <ul>
      <li>decltypeê³¼ ë‹¬ë¦¬ d1ì€ intì¸ê±°ë‹ˆê¹Œ R-valueì¸ì§€ L-valueì¸ì§€ëŠ” ë”°ì§€ì§€ì•Šê³  ë‚ ë ¤ë²„ë¦¬ê³  cëŠ” doubleíƒ€ì…ì´ëœë‹¤.</li>
    </ul>
  </li>
  <li>typedef decltype(x &lt; d2 ? x : d2) <code class="language-plaintext highlighter-rouge">cond_type_mixed</code>;
    <ul>
      <li>xëŠ” int , d2ëŠ” double. xëŠ” 0ì´ê³  d2ëŠ” 9.8ì´ë¯€ë¡œ ì—°ì‚° ê²°ê³¼ëŠ” xë‹¤
        <ul>
          <li>ê·¼ë° ì´ë•ŒëŠ” int&amp;ê°€ ì•„ë‹ˆê³  <strong>double</strong>ì´ë‹¤.</li>
          <li><u>ë¹„êµí•œ ë‘ ë³€ìˆ˜ê°€ ë‹¤ë¥¸ íƒ€ì…ì´ë©´ &amp;ê°€ ë¶™ì§€ ì•ŠëŠ”ë‹¤.</u></li>
        </ul>
      </li>
    </ul>
  </li>
  <li>auto <code class="language-plaintext highlighter-rouge">d</code> = x &lt; d2 ? x : d2;
    <ul>
      <li>doubleì´ë‹¤. xê°€ doubleë¡œ promotion ë¨.</li>
      <li>intì™€ doubleì˜ ë¹„êµë¥¼ ìœ„í•´ì„  intì¸ ë³€ìˆ˜ê°€ doubleë¡œ í˜•ë³€í™˜ ë˜ì–´ì•¼ í•˜ë¯€ë¡œ xëŠ” í˜•ë³€í™˜ì´ ëœ ìƒíƒœ.</li>
    </ul>
  </li>
</ul>

<p><br /></p>

<h3 id="ì˜ˆì œ-6ï¸âƒ£-decltype-ë ˆí¼ëŸ°ìŠ¤-ì—†ì• ê¸°-stdremove_reference">ì˜ˆì œ 6ï¸âƒ£ decltype ë ˆí¼ëŸ°ìŠ¤ ì—†ì• ê¸° std::remove_reference</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
    <span class="c1">// ë‘ ì¸ìˆ˜ ä¸­ ë” ì‘ì€ ê°’ì„ ë¦¬í„´í•´ì£¼ëŠ” í•¨ìˆ˜ êµ¬í˜„ </span>

	<span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T1</span><span class="p">,</span> <span class="k">typename</span> <span class="nc">T2</span><span class="p">&gt;</span>	<span class="c1">// decltype íŠ¹ì„±ìƒ ë‘ ì¸ìˆ˜ T1ê³¼ T2ì˜ ìë£Œí˜•ì´ ê°™ì„ ê²½ìš° &amp;ê°€ ë¶™ëŠ”ë‹¤ëŠ” ë‹¨ì ì´ ì¡´ì¬í•œë‹¤.</span>
	<span class="k">auto</span> <span class="nf">fpmin_wrong</span><span class="p">(</span><span class="n">T1</span> <span class="n">x</span><span class="p">,</span> <span class="n">T2</span> <span class="n">y</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="k">decltype</span><span class="p">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="n">y</span> <span class="o">?</span> <span class="n">x</span> <span class="o">:</span> <span class="n">y</span><span class="p">)</span> 
	<span class="p">{</span> 
		<span class="k">return</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">y</span> <span class="o">?</span> <span class="n">x</span> <span class="o">:</span> <span class="n">y</span><span class="p">;</span> 
	<span class="p">}</span>

	<span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T1</span><span class="p">,</span> <span class="k">typename</span> <span class="nc">T2</span><span class="p">&gt;</span>	<span class="c1">// ë‘ ì¸ìˆ˜ê°€ ìë£Œí˜•ì´ ê°™ì„ ê²½ìš° &amp;ê°€ ë¶™ëŠ” ë‹¨ì ì„ ì—†ì• ë²„ë¦°ë‹¤.</span>
	<span class="k">auto</span> <span class="n">fpmin</span><span class="p">(</span><span class="n">T1</span> <span class="n">x</span><span class="p">,</span> <span class="n">T2</span> <span class="n">y</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="k">typename</span> <span class="n">std</span><span class="o">::</span><span class="n">remove_reference</span><span class="o">&lt;</span><span class="k">decltype</span><span class="p">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="n">y</span> <span class="o">?</span> <span class="n">x</span> <span class="o">:</span> <span class="n">y</span><span class="p">)</span><span class="o">&gt;::</span><span class="n">type</span>
	<span class="p">{</span> 
		<span class="k">return</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">y</span> <span class="o">?</span> <span class="n">x</span> <span class="o">:</span> <span class="n">y</span><span class="p">;</span> 
	<span class="p">}</span>

	<span class="kt">void</span> <span class="nf">ex</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>
		<span class="kt">double</span> <span class="n">d</span> <span class="o">=</span> <span class="mf">45.1</span><span class="p">;</span>
		<span class="k">auto</span> <span class="n">a</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="n">d</span><span class="p">);</span>

		<span class="kt">int</span> <span class="o">&amp;</span><span class="n">j</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>

		<span class="k">typedef</span> <span class="k">decltype</span><span class="p">(</span><span class="n">fpmin_wrong</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">d</span><span class="p">))</span> <span class="n">fpmin_return_type1</span><span class="p">;</span>  <span class="c1">// double &amp;</span>
		<span class="k">typedef</span> <span class="k">decltype</span><span class="p">(</span><span class="n">fpmin_wrong</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">d</span><span class="p">))</span> <span class="n">fpmin_return_type2</span><span class="p">;</span>  <span class="c1">// double</span>
		<span class="k">typedef</span> <span class="k">decltype</span><span class="p">(</span><span class="n">fpmin_wrong</span><span class="p">(</span><span class="n">j</span><span class="p">,</span> <span class="n">d</span><span class="p">))</span> <span class="n">fpmin_return_type3</span><span class="p">;</span>  <span class="c1">// double</span>
        <span class="k">typedef</span> <span class="k">decltype</span><span class="p">(</span><span class="n">fpmin</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">d</span><span class="p">))</span> <span class="n">fpmin_return_type4</span><span class="p">;</span>       <span class="c1">// double</span>
	<span class="p">}</span>
</code></pre></div></div>

<blockquote>
  <p><code class="language-plaintext highlighter-rouge">std::min</code>ì€ ë‘ argumentì˜ typeì´ ë‹¤ë¥´ë©´ ì—°ì‚°ì´ ì•ˆëœë‹¤. ë”°ë¼ì„œ ì•„ë˜ì— ë‘ typeì´ ë‹¤ë¥¸ argument ì¤‘ì—ì„œ minì„ ì°¾ì•„ì£¼ëŠ” í•¨ìˆ˜ë¥¼ ì§ì ‘ êµ¬í˜„ í•´ë³¼ ê²ƒì´ë‹¤.</p>
</blockquote>

<ul>
  <li>auto fpmin_wrong(T1 x, T2 y) -&gt; decltype(x &lt; y ? x : y)
    <ul>
      <li>ë¦¬í„´ íƒ€ì… decltype(x &lt; y ? x : y)</li>
      <li>ì´ í•¨ìˆ˜ëŠ” ì˜ëª»ëœ í•¨ìˆ˜ë‹¤!
        <ul>
          <li>ë§Œì•½ xì™€ yì˜ íƒ€ì…ì´ ê°™ë‹¤ë©´ (T1 == T2) <code class="language-plaintext highlighter-rouge">&amp;</code>ê°€ ë¶™ì„ ê²ƒì´ê¸° ë•Œë¬¸ì´ë‹¤. (ìœ„ ì˜ˆì œ ì°¸ê³ )
            <ul>
              <li>ì´ë• ë¦¬í„´ íƒ€ì…ì´ ë³¸ì—°ì¹˜ì•Šê²Œ ë ˆí¼ëŸ°ìŠ¤ íƒ€ì…ì´ ë ê²ƒì´ë‹¤.</li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li>auto fpmin(T1 x, T2 y) -&gt; typename std::<strong>remove_reference</strong>&lt;decltype(x &lt; y ? x : y)&gt;<strong>::type</strong>
    <ul>
      <li><strong>remove_reference</strong>&lt;decltype(x &lt; y ? x : y)&gt; ğŸ‘‰ ë ˆí¼ëŸ°ìŠ¤ê°€ ì œê±° ëœ decltype(x &lt; y ? x : y) íƒ€ì…ì„ ë¦¬í„´í•œë‹¤.</li>
      <li>ë ˆí¼ëŸ°ìŠ¤ê°€ ì œê±°ëœ â€˜íƒ€ì…â€™ <strong>::type</strong> ì„ì„ ëª…ì‹œ</li>
    </ul>
  </li>
  <li>typedef decltype(fpmin_wrong(d, d)) <code class="language-plaintext highlighter-rouge">fpmin_return_type1</code>;
    <ul>
      <li>dì™€ d, ì¦‰ íƒ€ì…ì´ doubleë¡œ ê°™ê¸° ë•Œë¬¸ì— fpmin_return_type1ì˜ íƒ€ì…ì€ <code class="language-plaintext highlighter-rouge">&amp;</code>ê°€ ì¶”ê°€ë¡œ ë” ë¶™ì–´ <strong>dobule &amp;</strong> ì´ë‹¤.</li>
    </ul>
  </li>
  <li>typedef decltype(fpmin_wrong(i, d))<code class="language-plaintext highlighter-rouge">fpmin_return_type2</code>;
    <ul>
      <li>iì™€ d, ì¦‰ íƒ€ì…ì´ intì™€ doubleë¡œ ë‹¤ë¥´ê¸° ë•Œë¬¸ì— fpmin_return_type1ì˜ íƒ€ì…ì€ ê·¸ëƒ¥ dobule ì´ë‹¤.</li>
    </ul>
  </li>
  <li>typedef decltype(fpmin_wrong(j, d)) <code class="language-plaintext highlighter-rouge">fpmin_return_type3</code>;
    <ul>
      <li>jì™€ d, ì¦‰ íƒ€ì…ì´ int &amp; ì™€ doubleë¡œ ë‹¤ë¥´ê¸° ë•Œë¬¸ì— fpmin_return_type1ì˜ íƒ€ì…ì€ ê·¸ëƒ¥ dobule ì´ë‹¤. í•˜ë‚˜ê°€ int &amp;ì¸ ê²½ìš°ì—ë„ ê·¸ëƒ¥ double ì´ë‹¤.</li>
    </ul>
  </li>
  <li>typedef decltype(fpmin(d, d)) <code class="language-plaintext highlighter-rouge">fpmin_return_type4</code>;
    <ul>
      <li>dì™€ d, ì¦‰ íƒ€ì…ì´ doubleë¡œ ê°™ì§€ë§Œ <code class="language-plaintext highlighter-rouge">&amp;</code>ê°€ ì¶”ê°€ë¡œ ë” ë¶™ì§€ ì•Šê³  ê·¸ëƒ¥ double ì´ë‹¤.</li>
    </ul>
  </li>
</ul>

<p><br /></p>

<h3 id="ì˜ˆì œ-7ï¸âƒ£-decltype-ì€-ëŸ°íƒ€ì„ì´-ì•„ë‹Œ-ì»´íŒŒì¼-íƒ€ì„ì—-ê²°ì •-ëœë‹¤">ì˜ˆì œ 7ï¸âƒ£ decltype ì€ ëŸ°íƒ€ì„ì´ ì•„ë‹Œ ì»´íŒŒì¼ íƒ€ì„ì— ê²°ì • ëœë‹¤.</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">ex</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">vec</span><span class="p">;</span>
		<span class="k">typedef</span> <span class="k">decltype</span><span class="p">(</span><span class="n">vec</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="n">integer</span><span class="p">;</span>	<span class="c1">// decltype ì—ì„œëŠ” 'ëŸ°íƒ€ì„ ì‹¤í–‰'í•˜ì§€ëŠ” ì•Šìœ¼ë¯€ë¡œ ë¬¸ì œ X</span>
	<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>vecëŠ” í˜„ì¬ ì‚¬ì´ì¦ˆê°€ 0 ì¸ ë¹„ì–´ìˆëŠ” ë²¡í„° ë‹¤.</li>
  <li>typedef decltype(vec[0]) <code class="language-plaintext highlighter-rouge">integer</code>;
    <ul>
      <li>vec[0]ì€ ì›ë˜ëŠ” ëŸ°íƒ€ì„ ì—ëŸ¬ë‹¤. vecì€ ë¹„ì–´ ìˆëŠ” ë²¡í„°ë¼ í˜„ì¬ ì›ì†Œê°€ ì—†ê¸° ë•Œë¬¸ì—.</li>
      <li>ê·¸ëŸ¬ë‚˜ <u>decltype ì€ ì‹¤ì œë¡œëŠ” ì‹¤í–‰ì„ ì‹œí‚¤ì§€ëŠ” ì•Šê¸° ë–„ë¬¸ì— ì—ëŸ¬ê°€ ì•„ë‹ˆë‹¤.</u>  ì»´íŒŒì¼ íƒ€ì„ì— ê²°ì • ë˜ëŠ” ê²ƒì´ë¼ì„œ.</li>
    </ul>
  </li>
</ul>

<p><br /></p>

<h3 id="ì˜ˆì œ-8ï¸âƒ£-decltype-í´ë˜ìŠ¤-í…œí”Œë¦¿-í´ë˜ìŠ¤-ì•ˆì—-ìˆëŠ”-íƒ€ì…-ì ‘ê·¼">ì˜ˆì œ 8ï¸âƒ£ decltype í´ë˜ìŠ¤ í…œí”Œë¦¿, í´ë˜ìŠ¤ ì•ˆì— ìˆëŠ” íƒ€ì… ì ‘ê·¼</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>	<span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">R</span><span class="p">&gt;</span>
	<span class="k">class</span> <span class="nc">SomeFunctor</span>
	<span class="p">{</span>
	<span class="nl">public:</span>
		<span class="k">typedef</span> <span class="n">R</span> <span class="n">result_type</span><span class="p">;</span>

		<span class="n">SomeFunctor</span><span class="p">()</span>
		<span class="p">{}</span>

		<span class="n">result_type</span> <span class="k">operator</span><span class="p">()</span> <span class="p">()</span>  <span class="c1">// () ì—°ì‚°ì ì˜¤ë²„ë¡œë”©</span>
		<span class="p">{</span> 
			<span class="k">return</span> <span class="n">R</span><span class="p">();</span> 
		<span class="p">}</span>
	<span class="p">};</span>

	<span class="kt">void</span> <span class="nf">ex</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="n">SomeFunctor</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">func</span><span class="p">;</span>
		<span class="k">typedef</span> <span class="k">decltype</span><span class="p">(</span><span class="n">func</span><span class="p">)</span><span class="o">::</span><span class="n">result_type</span> <span class="n">integer</span><span class="p">;</span>	<span class="c1">// integer = int</span>
	<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>typedef R result_type;
    <ul>
      <li>Rì´ë¼ëŠ” íƒ€ì…ì„ <code class="language-plaintext highlighter-rouge">result_type</code>ì´ë¼ê³  ë¶€ë¥´ê² ë‹¤.</li>
    </ul>
  </li>
  <li>result_type operator()
    <ul>
      <li>result_typeì´ ë¦¬í„´íƒ€ì…ì¸ <code class="language-plaintext highlighter-rouge">()</code> ì—°ì‚°ì ì˜¤ë²„ë¡œë”©.</li>
    </ul>
  </li>
  <li>SomeFunctor&lt;int&gt; func
    <ul>
      <li>SomeFuctoríƒ€ì…ì˜ <code class="language-plaintext highlighter-rouge">func</code> ê°ì²´</li>
      <li>SomeFunctor í´ë˜ìŠ¤ì˜ <code class="language-plaintext highlighter-rouge">R</code> ì— intê°€ ë“¤ì–´ì˜¨ë‹¤.</li>
    </ul>
  </li>
  <li>typedef decltype(func)<strong>::result_type</strong> integer;
    <ul>
      <li>decltype(func)
        <ul>
          <li>func ê°ì²´ê°€ ë“¤ì–´ê°”ë‹¤.</li>
          <li>func ê°ì²´ëŠ” <code class="language-plaintext highlighter-rouge">SomeFunctor&lt;int&gt;</code> íƒ€ì…ì´ë‹¤.</li>
        </ul>
      </li>
      <li>::result_type
        <ul>
          <li><code class="language-plaintext highlighter-rouge">SomeFunctor&lt;int&gt;</code> ì˜ result_type ì´ë‹ˆê¹Œ</li>
          <li>intê°€ ëœë‹¤.</li>
        </ul>
      </li>
      <li>ì¦‰ <strong>typedef int integer</strong> ì´ë‚˜ ë§ˆì°¬ê°€ì§€ê°€ ëœë‹¤.
        <ul>
          <li><code class="language-plaintext highlighter-rouge">integer</code>ëŠ” ì´ì œ intì˜ ë˜ë‹¤ë¥¸ ì´ë¦„ì´ ëœë‹¤.</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>ì´ëŸ° ì‹ìœ¼ë¡œ í´ë˜ìŠ¤ ì•ˆì— ìˆëŠ” íƒ€ì…ì—ë„ ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.</li>
</ul>

<p><br /></p>

<h3 id="ì˜ˆì œ-9ï¸âƒ£-decltype-ëŒë‹¤-í•¨ìˆ˜ì˜-íƒ€ì…-ì ‘ê·¼í•˜ê¸°">ì˜ˆì œ 9ï¸âƒ£ decltype ëŒë‹¤ í•¨ìˆ˜ì˜ íƒ€ì… ì ‘ê·¼í•˜ê¸°</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">ex</span><span class="p">()</span>
<span class="p">{</span>
	<span class="k">auto</span> <span class="n">func</span> <span class="o">=</span> <span class="p">[]()</span> <span class="p">{</span><span class="k">return</span> <span class="mi">42</span><span class="p">;</span> <span class="p">};</span>
	<span class="k">decltype</span><span class="p">(</span><span class="n">func</span><span class="p">)</span> <span class="n">func2</span><span class="p">(</span><span class="n">func</span><span class="p">);</span>		<span class="c1">// func2 = func; copyí•´ì„œ ê°€ì ¸ì˜¨ë‹¤.</span>
	<span class="k">decltype</span><span class="p">((</span><span class="n">func</span><span class="p">))</span> <span class="n">func3</span><span class="p">(</span><span class="n">func</span><span class="p">);</span>	<span class="c1">// &amp;func3 = func; refí•´ì„œ ê°€ì ¸ì˜¨ë‹¤.</span>

	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"func ì£¼ì†Œ = "</span> <span class="o">&lt;&lt;</span> <span class="o">&amp;</span><span class="n">func</span> <span class="o">&lt;&lt;</span> <span class="s">"</span><span class="se">\t</span><span class="s">func ê°’ = "</span> <span class="o">&lt;&lt;</span> <span class="n">func</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>
	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"func2 ì£¼ì†Œ = "</span> <span class="o">&lt;&lt;</span> <span class="o">&amp;</span><span class="n">func2</span> <span class="o">&lt;&lt;</span> <span class="s">"</span><span class="se">\t</span><span class="s">func2 ê°’ = "</span> <span class="o">&lt;&lt;</span> <span class="n">func2</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>
	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"func3 ì£¼ì†Œ = "</span> <span class="o">&lt;&lt;</span> <span class="o">&amp;</span><span class="n">func3</span> <span class="o">&lt;&lt;</span> <span class="s">"</span><span class="se">\t</span><span class="s">func3 ê°’ = "</span> <span class="o">&lt;&lt;</span> <span class="n">func3</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">func</code> ë¼ëŠ” ì´ë¦„ì˜ ëŒë‹¤ í•¨ìˆ˜.
    <ul>
      <li>intí˜•ì¸ 42ë¥¼ ë¦¬í„´í•œë‹¤.</li>
    </ul>
  </li>
  <li>decltype(func) <code class="language-plaintext highlighter-rouge">func2</code>(func);
    <ul>
      <li>func2 ë¼ëŠ” ì´ë¦„ì˜ ëŒë‹¤ í•¨ìˆ˜ (= í•¨ìˆ˜í¬ì¸í„° ë³€ìˆ˜ë¼ê³  ìƒê°í•´ë³´ì)</li>
      <li>func2 = func ë‚˜ ë§ˆì°¬ê°€ì§€. func ê¸°ëŠ¥ ë³µì‚¬.</li>
      <li>íƒ€ì…ì€ decltype(func)</li>
      <li>ì´ˆê¸°í™” ê°’ì€ func ê°’ì´ë‹¤. ì¦‰ ëŒë‹¤í•¨ìˆ˜ í¬ì¸í„° ê°’.</li>
    </ul>
  </li>
  <li>decltype((func)) <code class="language-plaintext highlighter-rouge">func3</code>(func);
    <ul>
      <li>func3 ë¼ëŠ” ì´ë¦„ì˜ ëŒë‹¤ í•¨ìˆ˜ (= í•¨ìˆ˜í¬ì¸í„° ë³€ìˆ˜ë¼ê³  ìƒê°í•´ë³´ì)</li>
      <li>decltype(( )) ì´ê¸°ì— <strong>&amp;</strong>func3 = func ë‚˜ ë§ˆì°¬ê°€ì§€. func ê¸°ëŠ¥ì„ ì°¸ì¡°</li>
      <li>íƒ€ì…ì€ decltype((func)) = decltype(func) &amp;</li>
      <li>ì´ˆê¸°í™” ê°’ì€ func ê°’ì´ë‹¤. ì¦‰ ëŒë‹¤í•¨ìˆ˜ í¬ì¸í„° ê°’.</li>
    </ul>
  </li>
  <li>func ì™€ func2 ëŠ” ì£¼ì†Œê°€ ë‹¤ë¥´ë‹¤. ì¦‰ ë³„ê°œì˜ ëŒë‹¤ í•¨ìˆ˜. ( funcë¡œë¶€í„° ë³µì‚¬ ë˜ì—ˆì„ ë¿ )</li>
  <li>func ì™€ func2 ëŠ” ì£¼ì†Œê°€ ê°™ë‹¤. ì¦‰ ë™ì¼í•œ ì£¼ì†Œì˜ ëŒë‹¤ í•¨ìˆ˜. ( funcë¥¼ ì°¸ì¡°í•¨ )</li>
</ul>

<hr />
<p><br /></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ğŸŒœ ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ì˜¤ë¥˜ë‚˜ í‹€
ë¦° ë¶€ë¶„ì´ ìˆì„ ê²½ìš° 
ì–¸ì œë“ ì§€ ëŒ“ê¸€ í˜¹ì€ ë©”ì¼ë¡œ ì§€ì í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ˜„
</code></pre></div></div>

<p><a href="#" class="btn btn--primary align-right">ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°</a></p>
:ET
I"u$<p class="notice--warning">인프런에 있는 홍정모 교수님의 <strong>홍정모의 따라 하며 배우는 C++</strong> 강의를 듣고 정리한 필기입니다. 😀  <br />
<a href="https://www.inflearn.com/course/following-c-plus">🌜 [홍정모의 따라 하며 배우는 C++]강의 들으러 가기!</a></p>

<p><br /></p>

<h1 id="chapter-8-객체-지향의-기초--실행-시간-측정하기">chapter 8. 객체 지향의 기초 : 실행 시간 측정하기</h1>

<ul>
  <li>실행 시간은 컴퓨터 환경에 따라서도 많이 달라진다는 것에 주의하자.</li>
  <li>실행 시간은 실제로 사용자들에게 배포하는 <code class="language-plaintext highlighter-rouge">Release 모드</code>에서 재야 한다.
    <ul>
      <li><code class="language-plaintext highlighter-rouge">Debug 모드</code>는 <code class="language-plaintext highlighter-rouge">Release 모드</code>보다 7 ~ 8배는 더 느리다.</li>
    </ul>
  </li>
</ul>

<h2 id="-실행시간-재는-코드">🔔 실행시간 재는 코드</h2>

<h3 id="timer">📜Timer</h3>

<ul>
  <li>교수님께서도 실행 시간을 잴 때는 다음 코드를 복사하고 붙여넣기 하여 사용하신다고 하셨다. 실행 시간을 측정할 일이 있다면 아래 코드를 사용하자.</li>
</ul>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#include &lt;random&gt;
#include &lt;chrono&gt; // ⭐시간 측정에 필요
</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Timer</span>
<span class="p">{</span>
    <span class="k">using</span> <span class="kt">clock_t</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">high_resolution_clock</span><span class="p">;</span>
    <span class="k">using</span> <span class="n">secont_t</span> <span class="o">=</span> <span class="n">ste</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">duration</span><span class="o">&lt;</span><span class="kt">double</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">ratio</span><span class="o">&lt;</span><span class="mi">1</span><span class="o">&gt;&gt;</span><span class="p">;</span>

    <span class="c1">// Time 타입의 객체가 생성되자마자 start_time 멤버 변수에 시작 시간이 대입된다.</span>
    <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">time_point</span><span class="o">&lt;</span><span class="kt">clock_t</span><span class="o">&gt;</span> <span class="n">start_time</span> <span class="o">=</span> <span class="kt">clock_t</span><span class="o">::</span><span class="n">now</span><span class="p">();</span>   

<span class="nl">public:</span>
    <span class="kt">void</span> <span class="n">elapsed</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">time_point</span><span class="o">&lt;</span><span class="kt">clock_t</span><span class="o">&gt;</span> <span class="n">end_time</span> <span class="o">=</span> <span class="kt">clock_t</span><span class="o">::</span><span class="n">now</span><span class="p">();</span>  <span class="c1">// elapsed() 멤버 함수를 실행한 시간</span>

        <span class="c1">// elapsed() 멤버 함수가 실행되자마자 end_time - start_time 빼주어 실행 시간을 구하고 출력한다.</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">duration_cast</span><span class="o">&lt;</span><span class="n">secont_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">end_time</span> <span class="o">-</span> <span class="n">start_time</span><span class="p">).</span><span class="n">count</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre></div></div>

<h3 id="실행시간-재기">실행시간 재기</h3>

<blockquote>
  <p>예시 : vec 벡터를 정렬하는데 걸린 시간 재기</p>
</blockquote>

<ol>
  <li>Timer 타입의 객체를 생성한다.
    <ul>
      <li>시작 시간 저장</li>
    </ul>
  </li>
  <li>실행시간을 측정할 연산을 실행한다.
    <ul>
      <li>벡터를 정렬하는 연산 실행</li>
    </ul>
  </li>
  <li>elapsed() 멤버 함수를 호출하여 실행 시간을 계산하고 출력한다.</li>
</ol>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">random_device</span> <span class="n">rnd_device</span><span class="p">;</span>
    <span class="n">mt19937</span> <span class="n">mersenne_engine</span><span class="p">{</span> <span class="n">rnd_device</span><span class="p">()</span> <span class="p">};</span>

    <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">vec</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">vec</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
        <span class="n">vec</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
    
    <span class="n">std</span><span class="o">::</span><span class="n">shuffle</span><span class="p">(</span><span class="n">begin</span><span class="p">(</span><span class="n">vec</span><span class="p">),</span> <span class="n">end</span><span class="p">(</span><span class="n">vec</span><span class="p">),</span> <span class="n">mersenne_engine</span><span class="p">);</span> <span class="c1">// 랜덤하게 섞기</span>

    <span class="k">for</span> <span class="p">(</span><span class="n">suto</span> <span class="o">&amp;</span><span class="n">e</span> <span class="o">:</span> <span class="n">vec</span><span class="p">)</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">e</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span> <span class="p">;</span> <span class="c1">// 정렬 전 벡터 상태 출력</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>

    <span class="n">Timer</span> <span class="n">timer</span><span class="p">;</span> <span class="c1">// Timer 타입의 객체를 생성(시작 시간 저장)</span>

    <span class="n">std</span><span class="o">::</span><span class="n">sort</span><span class="p">(</span><span class="n">begin</span><span class="p">(</span><span class="n">vec</span><span class="p">),</span> <span class="n">end</span><span class="p">(</span><span class="n">vec</span><span class="p">));</span> <span class="c1">// 정렬</span>

    <span class="n">timer</span><span class="p">.</span><span class="n">elapsed</span><span class="p">();</span>  <span class="c1">// 실행 시간 측정 및 출력</span>

    <span class="k">for</span> <span class="p">(</span><span class="n">suto</span> <span class="o">&amp;</span><span class="n">e</span> <span class="o">:</span> <span class="n">vec</span><span class="p">)</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">e</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span> <span class="p">;</span> <span class="c1">// 정렬 후 벡터 상태 출력</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>💎출력💎

2 0 1 7 4 8 6 9 3 5
6.257e-06
0 1 2 3 4 5 6 7 8 9
</code></pre></div></div>

<hr />
<p><br /></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>🌜 개인 공부 기록용 블로그입니다. 오류나 틀린 부분이 있을 경우 
언제든지 댓글 혹은 메일로 지적해주시면 감사하겠습니다! 😄
</code></pre></div></div>

<p><a href="#" class="btn btn--primary align-right">맨 위로 이동하기</a></p>

<p><br /></p>
:ET
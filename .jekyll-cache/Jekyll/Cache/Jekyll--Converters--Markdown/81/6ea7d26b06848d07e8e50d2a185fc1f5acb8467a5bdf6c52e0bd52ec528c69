I"J*<p class="notice--warning">ì¸í”„ëŸ°ì— ìˆëŠ” í™ì •ëª¨ êµìˆ˜ë‹˜ì˜ <strong>í™ì •ëª¨ì˜ ë”°ë¼ í•˜ë©° ë°°ìš°ëŠ” C++</strong> ê°•ì˜ë¥¼ ë“£ê³  ì •ë¦¬í•œ í•„ê¸°ì…ë‹ˆë‹¤. ğŸ˜€  <br />
<a href="https://www.inflearn.com/course/following-c-plus">ğŸŒœ [í™ì •ëª¨ì˜ ë”°ë¼ í•˜ë©° ë°°ìš°ëŠ” C++]ê°•ì˜ ë“¤ìœ¼ëŸ¬ ê°€ê¸°!</a></p>

<p><br /></p>

<h1 id="chapter-12-ê°€ìƒ-í•¨ìˆ˜ë“¤--ê°€ìƒ-ì†Œë©¸ì">chapter 12. ê°€ìƒ í•¨ìˆ˜ë“¤ : ê°€ìƒ ì†Œë©¸ì</h1>

<h2 id="-ê°€ìƒ-ì†Œë©¸ìë¥¼-ì‚¬ìš©í•˜ê¸°-ì „">ğŸ”” ê°€ìƒ ì†Œë©¸ìë¥¼ ì‚¬ìš©í•˜ê¸° ì „</h2>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;iostream&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Base</span>
<span class="p">{</span>
<span class="nl">public:</span>
	<span class="o">~</span><span class="n">Base</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"~Base()"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">};</span>

<span class="k">class</span> <span class="nc">Derived</span> <span class="o">:</span> <span class="k">public</span> <span class="n">Base</span>
<span class="p">{</span>
<span class="nl">private:</span>
	<span class="kt">int</span> <span class="o">*</span><span class="n">m_array</span><span class="p">;</span> 

<span class="nl">public:</span>
	<span class="n">Derived</span><span class="p">(</span><span class="kt">int</span> <span class="n">length</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">m_array</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="p">[</span><span class="n">length</span><span class="p">];</span>
	<span class="p">}</span>

	<span class="o">~</span><span class="n">Derived</span><span class="p">()</span>  
	<span class="p">{</span>
		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"~Derived()"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
		<span class="k">delete</span><span class="p">[]</span> <span class="n">m_array</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">};</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">Derived</span> <span class="n">derived</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>

	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ğŸ’ì¶œë ¥ğŸ’

~Derived()
~Base()
</code></pre></div></div>

<ul>
  <li>ìƒì„±ì í˜¸ì¶œ ìˆœì„œì™€ ë‹¤ë¥´ê²Œ ì†Œë©¸ìëŠ”
    <ul>
      <li>ìì‹ ì†Œë©¸ìê°€ ë¨¼ì € í˜¸ì¶œë˜ê³  ê·¸ ë‹¤ìŒì— ë¶€ëª¨ ì†Œë©¸ìê°€ í˜¸ì¶œëœë‹¤.</li>
      <li>ì œì¼ ì¡°ìƒì¼ ìˆ˜ë¡ ê°€ì¥ ë§ˆì§€ë§‰ì— ì†Œë©¸ ë¨.</li>
    </ul>
  </li>
</ul>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">Derived</span> <span class="o">*</span> <span class="n">derived</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Derived</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span> <span class="c1">// ë™ì  í• ë‹¹</span>
    <span class="n">Base</span> <span class="o">*</span> <span class="n">base</span> <span class="o">=</span> <span class="n">derived</span><span class="p">;</span>  <span class="c1">// ë‹¤í˜•ì„±, ë™ì í• ë‹¹</span>
    <span class="k">delete</span> <span class="n">base</span><span class="p">;</span>

	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ğŸ’ì¶œë ¥ğŸ’

~Base()
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">delete base</code>
    <ul>
      <li>ë¶€ëª¨ì¸ Base íƒ€ì…ì¸ <code class="language-plaintext highlighter-rouge">base</code>ëŠ” ìì‹ì¸ Derived íƒ€ì…ì˜ <code class="language-plaintext highlighter-rouge">derived</code> ê°ì²´ë¥¼ ì°¸ì¡°í•˜ê³  ìˆë‹¤.</li>
      <li>ì´ë•Œ <code class="language-plaintext highlighter-rouge">base</code>ë¥¼ deleteì‹œì¼œì£¼ë©´ <u>Derived ì†Œë©¸ìëŠ” í˜¸ì¶œ ë˜ì§€ ì•Šê³  ë¶€ëª¨ì¸ Base ì†Œë©¸ìë§Œ í˜¸ì¶œëœë‹¤.</u></li>
    </ul>
  </li>
</ul>

<blockquote>
  <p>ìì‹ì„ ì§€ìš°ë©´ (ìì‹ ì†Œë©¸ì ğŸ‘‰ ë¶€ëª¨ ì†Œë©¸ì) ìˆœìœ¼ë¡œ ë¶€ëª¨ ì†Œë©¸ìê¹Œì§€ í˜¸ì¶œë˜ì§€ë§Œ, <u>ë¶€ëª¨ë¥¼ ì§€ìš°ë©´ ë¶€ëª¨ ì†Œë©¸ìë§Œ í˜¸ì¶œë˜ë©° ìì‹ ì†Œë©¸ìëŠ” í˜¸ì¶œë˜ì§€ ì•ŠëŠ”ë‹¤.</u>(ìƒì†ì— ìˆì–´ ë¶€ëª¨ëŠ” ìì‹ì„ ë‹¤ í¬í•¨í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ë‹¹ì—°í•œ ì–˜ê¸°!)</p>
</blockquote>

<ul>
  <li><u>ì†Œë©¸ìë„ ìì‹ë“¤ ë³¸ì—°ì˜ ì†Œë©¸ìë“¤ì´ ê°ê° ë‹¤ë¥´ê²Œ í˜¸ì¶œë˜ì•¼ í•œë‹¤.</u>
    <ul>
      <li>ì¼ì¼ì´ delete ìì‹1, delete ìì‹2, â€¦ í•´ì¤„ ìˆ˜ë„ ì—†ê³  ğŸ˜±</li>
      <li>ìì‹ ê°ì²´ ë‚´ìš©ë¬¼ ì¤‘ ë™ì  í• ë‹¹ ë°›ì€ ë¶€ë¶„ì´ ìˆì–´ ì´ëŠ” delete ë˜ì§€ ì•Šìœ¼ë©´ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë¬¸ì œê°€ ìƒê¸¸ ìˆ˜ ìˆë‹¤.</li>
    </ul>
  </li>
</ul>

<p><br /></p>

<h2 id="-ê°€ìƒ-ì†Œë©¸ì-virtual">ğŸ”” ê°€ìƒ ì†Œë©¸ì virtual</h2>

<blockquote>
  <p>ì†Œë©¸ìì— <code class="language-plaintext highlighter-rouge">virtual</code>ì„ ë¶™ì—¬ì£¼ë©´ <u>ë¶€ëª¨ íƒ€ì…ìœ¼ë¡œ ìì‹ ê°ì²´ë¥¼ ì°¸ì¡°í•´ë„ ìì‹ ê°ì²´ì˜ ì†Œë©¸ìë¥¼ í˜¸ì¶œ ì‹œí‚¨ë‹¤.</u> ê°€ìƒ í•¨ìˆ˜ì™€ ë¹„ìŠ·.</p>
</blockquote>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;iostream&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Base</span>
<span class="p">{</span>
<span class="nl">public:</span>
	<span class="k">virtual</span> <span class="o">~</span><span class="n">Base</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"~Base()"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">};</span>

<span class="k">class</span> <span class="nc">Derived</span> <span class="o">:</span> <span class="k">public</span> <span class="n">Base</span>
<span class="p">{</span>
<span class="nl">private:</span>
	<span class="kt">int</span> <span class="o">*</span><span class="n">m_array</span><span class="p">;</span> 

<span class="nl">public:</span>
	<span class="n">Derived</span><span class="p">(</span><span class="kt">int</span> <span class="n">length</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">m_array</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="p">[</span><span class="n">length</span><span class="p">];</span>
	<span class="p">}</span>

	<span class="o">~</span><span class="n">Derived</span><span class="p">()</span>  
	<span class="p">{</span>
		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"~Derived()"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
		<span class="k">delete</span><span class="p">[]</span> <span class="n">m_array</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">};</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">Derived</span> <span class="o">*</span> <span class="n">derived</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Derived</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span> <span class="c1">// ë™ì  í• ë‹¹</span>
    <span class="n">Base</span> <span class="o">*</span> <span class="n">base</span> <span class="o">=</span> <span class="n">derived</span><span class="p">;</span>  <span class="c1">// ë‹¤í˜•ì„±, ë™ì í• ë‹¹</span>
    <span class="k">delete</span> <span class="n">base</span><span class="p">;</span>

	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ğŸ’ì¶œë ¥ğŸ’

~Derived()
~Base()
</code></pre></div></div>

<ul>
  <li><strong>virtual ~Base()</strong> : ê°€ìƒ ì†Œë©¸ì
    <ul>
      <li>ë§ˆì°¬ê°€ì§€ë¡œ Derivedì˜ ì†Œë©¸ì ~Derived()ë„ <code class="language-plaintext highlighter-rouge">virtual</code> ì†ì„±ì„ ë¬¼ë ¤ë°›ê²Œ ëœë‹¤.</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">delete base</code>
    <ul>
      <li>ì´ì œ ì›ë˜ëŒ€ë¡œ ë¨¼ì € ìì‹ ì†Œë©¸ìê°€ í˜¸ì¶œë˜ë©° ë’¤ì´ì–´ ë¶€ëª¨ ì†Œë©¸ìê°€ í˜¸ì¶œëœë‹¤.</li>
    </ul>
  </li>
</ul>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>	<span class="o">~</span><span class="n">Derived</span><span class="p">()</span> <span class="k">override</span>
	<span class="p">{</span><span class="err">ã„´</span>
		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"~Derived()"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
		<span class="k">delete</span><span class="p">[]</span> <span class="n">m_array</span><span class="p">;</span>
	<span class="p">}</span>
</code></pre></div></div>
<ul>
  <li>ìì‹ ì†Œë©¸ìì— <code class="language-plaintext highlighter-rouge">override</code>ë¥¼ ë¶™ì¼ ìˆ˜ ìˆëŠ”ë° ì´ ê²½ìš°ì—” ê¼­ ë¶€ëª¨ ì†Œë©¸ìì— <code class="language-plaintext highlighter-rouge">virtual</code>ì„ ë¶™ì—¬ì£¼ì–´ì•¼ í•œë‹¤.
    <ul>
      <li>ë¶€ëª¨ ì†Œë©¸ìê°€ ê°€ìƒ ì†Œë©¸ìê°€ ì•„ë‹ˆë¼ë©´ ìì‹ ì†Œë©¸ìì— <code class="language-plaintext highlighter-rouge">override</code>ë¥¼ ë¶™ì¼ ìˆ˜ ì—†ë‹¤.</li>
    </ul>
  </li>
</ul>

<hr />
<p><br /></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ğŸŒœ ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ì˜¤ë¥˜ë‚˜ í‹€ë¦° ë¶€ë¶„ì´ ìˆì„ ê²½ìš° 
ì–¸ì œë“ ì§€ ëŒ“ê¸€ í˜¹ì€ ë©”ì¼ë¡œ ì§€ì í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ˜„
</code></pre></div></div>

<p><a href="#" class="btn btn--primary align-right">ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°</a>
<br /></p>
:ET
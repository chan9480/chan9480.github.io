I"ü;<p class="notice--warning">ì¸í”„ëŸ°ì— ìˆëŠ” í™ì •ëª¨ êµìˆ˜ë‹˜ì˜ <strong>í™ì •ëª¨ì˜ ë”°ë¼ í•˜ë©° ë°°ìš°ëŠ” C++</strong> ê°•ì˜ë¥¼ ë“£ê³  ì •ë¦¬í•œ í•„ê¸°ì…ë‹ˆë‹¤. ğŸ˜€  <br />
<a href="https://www.inflearn.com/course/following-c-plus">ğŸŒœ [í™ì •ëª¨ì˜ ë”°ë¼ í•˜ë©° ë°°ìš°ëŠ” C++]ê°•ì˜ ë“¤ìœ¼ëŸ¬ ê°€ê¸°!</a></p>

<p><br /></p>

<h1 id="chapter-12-ê°€ìƒ-í•¨ìˆ˜ë“¤--override-final-ê³µë³€-ë³€í™˜í˜•">chapter 12. ê°€ìƒ í•¨ìˆ˜ë“¤ : override, final, ê³µë³€ ë³€í™˜í˜•</h1>

<h2 id="-override">ğŸ”” override</h2>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">A</span>
<span class="p">{</span>
<span class="nl">public:</span>
    <span class="k">virtual</span> <span class="kt">void</span> <span class="n">print</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">)</span> <span class="p">{</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"A"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="p">}</span>
<span class="p">};</span>


<span class="k">class</span> <span class="nc">B</span> <span class="o">:</span> <span class="k">public</span> <span class="n">A</span>
<span class="p">{</span>
<span class="nl">public:</span>
    <span class="kt">void</span> <span class="n">print</span><span class="p">(</span><span class="kt">short</span> <span class="n">x</span><span class="p">)</span> <span class="p">{</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"B"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>print í•¨ìˆ˜ëŠ” virtual ê°€ìƒ í•¨ìˆ˜ì´ë¯€ë¡œ ìì‹ í´ë˜ìŠ¤ë¡œ í•˜ì—¬ê¸ˆ <strong>ì˜¤ë²„ë¼ì´ë”©ì´ ë  ê²ƒì„ ê¶Œì¥</strong> í•˜ëŠ” í•¨ìˆ˜ë‹¤.</li>
  <li>ìì‹í´ë˜ìŠ¤ B ì—ì„œ ì´ë¥¼ ì˜¤ë²„ë¼ì´ë”© í–ˆì§€ë§Œ í˜„ì¬ ë§¤ê°œ ë³€ìˆ˜ í˜•ì‹ì´ í‹€ë¦° ìƒíƒœì´ë‹¤. (int != short)
    <ul>
      <li><u>ì˜¤ë²„ë¼ì´ë”©ì€ ë¦¬í„´íƒ€ì… + í•¨ìˆ˜ì´ë¦„ + ë§¤ê°œë³€ìˆ˜í˜•íƒœ + const ìœ ë¬´ê¹Œì§€ ì „ë¶€ ë˜‘ê°™ì•„ì•¼ í•œë‹¤.</u></li>
    </ul>
  </li>
  <li>ë”°ë¼ì„œ ì˜¤ë²„ë¼ì´ë”© ë˜ì§€ ì•Šì•˜ë‹¤ê³  íŒë‹¨ ë˜ì–´ A í´ë˜ìŠ¤ì˜ print ê°€ ì‹¤í–‰ëœë‹¤.
    <ul>
      <li>ì¦‰, ì˜¤ë²„ë¼ì´ë”© ëœê²Œ ì•„ë‹ˆë¼ ì˜¤ë²„ë¡œë”©ì´ ë¨.</li>
    </ul>
  </li>
</ul>

<blockquote>
  <p><code class="language-plaintext highlighter-rouge">orverride</code> í‚¤ì›Œë“œë¥¼ ë¶™ì—¬ì£¼ë©´ ì˜¤ë²„ë¼ì´ë”© í•œ í•¨ìˆ˜ë¼ê³  ê°•ì¡° í•´ì£¼ë©° <u>ì˜¤ë²„ë¼ì´ë”©ì´ ì œëŒ€ë¡œ ì•ˆëì„ì‹œ ì»´íŒŒì¼ ì—ëŸ¬ë¥¼ ë°œìƒ</u>ì‹œì¼œ ì¤€ë‹¤.</p>
</blockquote>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">A</span>
<span class="p">{</span>
<span class="nl">public:</span>
    <span class="k">virtual</span> <span class="kt">void</span> <span class="n">print</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">)</span> <span class="p">{</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"A"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="p">}</span>
<span class="p">};</span>


<span class="k">class</span> <span class="nc">B</span> <span class="o">:</span> <span class="k">public</span> <span class="n">A</span>
<span class="p">{</span>
<span class="nl">public:</span>
    <span class="kt">void</span> <span class="n">print</span><span class="p">(</span><span class="kt">short</span> <span class="n">x</span><span class="p">)</span> <span class="k">override</span> <span class="p">{</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"B"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="p">}</span>  <span class="c1">// ì—ëŸ¬ ğŸ’¥</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>void print(short x) <code class="language-plaintext highlighter-rouge">override</code>
    <ul>
      <li>ë¶€ëª¨ í´ë˜ìŠ¤ ì¤‘ void print(short x) ë¼ëŠ” í•¨ìˆ˜ëŠ” ì—†ê¸° ë•Œë¬¸ì—, ì¦‰ íŒŒë¼ë¯¸í„°ê°€ í‹€ë ¤ì„œ <u>ì œëŒ€ë¡œ ì˜¤ë²„ë¼ì´ë”© ë˜ì§€ ì•Šì•˜ë‹¤ë©° ì»´íŒŒì¼ ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¨ë‹¤.</u></li>
      <li>void print(int x) override ë¼ê³  ë°”ê¿”ì£¼ë©´ ì—ëŸ¬ê°€ ì‚¬ë¼ì§ˆ ê²ƒ.</li>
    </ul>
  </li>
</ul>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">A</span>
<span class="p">{</span>
<span class="nl">public:</span>
    <span class="k">virtual</span> <span class="kt">void</span> <span class="n">print</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">)</span> <span class="k">const</span> <span class="p">{</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"A"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="p">}</span>
<span class="p">};</span>


<span class="k">class</span> <span class="nc">B</span> <span class="o">:</span> <span class="k">public</span> <span class="n">A</span>
<span class="p">{</span>
<span class="nl">public:</span>
    <span class="kt">void</span> <span class="n">print</span><span class="p">(</span><span class="kt">short</span> <span class="n">x</span><span class="p">)</span> <span class="k">override</span> <span class="p">{</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"B"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="p">}</span>  <span class="c1">// ì—ëŸ¬ ğŸ’¥</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>ë’¤ì— constê°€ ì•ˆë¶™ì–´ì„œ ì»´íŒŒì¼ ì—ëŸ¬ê°€ ë‚œë‹¤.
    <ul>
      <li>void print(short x) const override ë¼ê³  ë°”ê¿”ì£¼ë©´ ì—ëŸ¬ê°€ ì‚¬ë¼ì§ˆ ê²ƒ.</li>
    </ul>
  </li>
</ul>

<blockquote>
  <p>ì˜¤ë²„ë¼ì´ë”©ì€ <u>ë¦¬í„´íƒ€ì…</u> + <u>í•¨ìˆ˜ì´ë¦„</u> + <u>ë§¤ê°œë³€ìˆ˜í˜•íƒœ</u> + <u>const ìœ ë¬´</u>ê¹Œì§€ ì „ë¶€ ë˜‘ê°™ì•„ì•¼ í•œë‹¤.</p>
</blockquote>

<p><br /></p>

<h2 id="-final">ğŸ”” final</h2>

<blockquote>
  <p><code class="language-plaintext highlighter-rouge">final</code> : ìì‹ í´ë˜ìŠ¤ì—ì„œ ì˜¤ë²„ë¼ì´ë”©ì„ ëª»í•˜ë„ë¡ ë§‰ì•„ë²„ë¦°ë‹¤.</p>
</blockquote>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">A</span>
<span class="p">{</span>
<span class="nl">public:</span>
    <span class="k">virtual</span> <span class="kt">void</span> <span class="n">print</span><span class="p">()</span> <span class="p">{</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"A"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">class</span> <span class="nc">B</span> <span class="o">:</span> <span class="k">public</span> <span class="n">A</span>
<span class="p">{</span>
<span class="nl">public:</span>
    <span class="kt">void</span> <span class="n">print</span><span class="p">()</span> <span class="k">final</span> <span class="p">{</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"B"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="p">}</span>  
<span class="p">}</span>

<span class="k">class</span> <span class="nc">C</span> <span class="o">:</span> <span class="k">public</span> <span class="n">B</span>
<span class="p">{</span>
<span class="nl">public:</span>
    <span class="kt">void</span> <span class="n">print</span><span class="p">()</span>  <span class="p">{</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"B"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="p">}</span>  <span class="c1">// ì—ëŸ¬ ğŸ’¥</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>A í´ë˜ìŠ¤ì˜ ê°€ìƒí•¨ìˆ˜ì¸ printë¥¼ ìì‹ì¸ B í´ë˜ìŠ¤ì—ì„œ ì˜¤ë²„ë¼ì´ë”© í•´ì£¼ì—ˆëŠ”ë° <code class="language-plaintext highlighter-rouge">final</code>ì´ ë¶™ì—ˆë‹¤.
    <ul>
      <li>ì˜¤ë²„ë¼ì´ë”©ì€ ì´ì œ B í´ë˜ìŠ¤ì—ì„œê¹Œì§€ê°€ ë§ˆì§€ë§‰ì´ê³  <u>ê·¸ ì´í›„ ìì‹ í´ë˜ìŠ¤ë¶€í„°ëŠ” ì´ í•¨ìˆ˜ë¥¼ ì˜¤ë²„ë¼ì´ë”© í•  ìˆ˜ ì—†ë‹¤.</u></li>
      <li>B í´ë˜ìŠ¤ì˜ ìì‹ì¸ C í´ë˜ìŠ¤ì—ì„œ ì˜¤ë²„ë¼ì´ë”©ì„ ì‹œë„í•´ì„œ ì»´íŒŒì¼ëŸ¬ ì—ëŸ¬ ë°œìƒ</li>
    </ul>
  </li>
</ul>

<p><br /></p>

<h2 id="-ê³µì -ë°˜í™˜í˜•covariant-return">ğŸ”” ê³µì  ë°˜í™˜í˜•(Covariant Return)</h2>

<blockquote>
  <p>ë¦¬í„´ íƒ€ì…ì´ ë‹¤ë¥¸ë°ë„ ì˜¤ë²„ë¼ì´ë”©ì´ ë˜ëŠ” ê²½ìš° ğŸ‘‰ <code class="language-plaintext highlighter-rouge">this</code> (ìê¸° ìì‹ ì„ ê°€ë¦¬í‚¤ëŠ” í¬ì¸í„°)ì„ ë¦¬í„´í•˜ëŠ” í•¨ìˆ˜ì˜ ê²½ìš°.</p>
</blockquote>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">A</span>
<span class="p">{</span>
<span class="nl">public:</span>
	<span class="kt">void</span> <span class="n">print</span><span class="p">()</span> 
    <span class="p">{</span> 
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"A"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> 
    <span class="p">}</span>

	<span class="k">virtual</span> <span class="n">A</span><span class="o">*</span> <span class="n">getThis</span><span class="p">()</span> 
    <span class="p">{</span> 
		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"A::getThis()"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">;</span> 
    <span class="p">}</span>
<span class="p">};</span>

<span class="k">class</span> <span class="nc">B</span> <span class="o">:</span> <span class="k">public</span> <span class="n">A</span>
<span class="p">{</span>
<span class="nl">public:</span>
	<span class="kt">void</span> <span class="n">print</span><span class="p">()</span> 
    <span class="p">{</span> 
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"B"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> 
    <span class="p">}</span>

	<span class="k">virtual</span> <span class="n">B</span><span class="o">*</span> <span class="n">getThis</span><span class="p">()</span> 
    <span class="p">{</span> 
		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"B::getThis()"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">;</span> 
    <span class="p">}</span>

<span class="p">};</span>
</code></pre></div></div>

<ul>
  <li>ë¦¬í„´íƒ€ì…ì´ <code class="language-plaintext highlighter-rouge">A*</code>, <code class="language-plaintext highlighter-rouge">B*</code>ë¡œ ë‹¤ë¥´ì§€ë§Œ
    <ul>
      <li>B ëŠ” A ì˜ ìì‹ì´ê¸°ì— <code class="language-plaintext highlighter-rouge">B*</code> íƒ€ì…ì¸ B ì˜ thisëŠ” <code class="language-plaintext highlighter-rouge">A*</code>ì˜ ì„±ì§ˆë„ ê°€ì§€ê³  ìˆê¸° ë•Œë¬¸ì— <strong>thisë¥¼ ë¦¬í„´í•˜ëŠ” í•¨ìˆ˜ì˜ ê²½ìš°</strong> ë¦¬í„´íƒ€ì…ì´ ë‹¬ë¼ë„ ì˜¤ë²„ë¼ì´ë”©ì´ í—ˆìš©ëœë‹¤.
        <ul>
          <li><u>A ì™€ B ê°€ ë¶€ëª¨ ìì‹ ê´€ê³„ì´ê¸° ë•Œë¬¸!</u></li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">A</span> <span class="n">a</span><span class="p">;</span>
	<span class="n">B</span> <span class="n">b</span><span class="p">;</span>

	<span class="n">A</span> <span class="o">&amp;</span><span class="n">ref</span> <span class="o">=</span> <span class="n">b</span><span class="p">;</span>
	<span class="n">b</span><span class="p">.</span><span class="n">getThis</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">print</span><span class="p">();</span>   <span class="c1">// B ì¶œë ¥</span>
	<span class="n">ref</span><span class="p">.</span><span class="n">getThis</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">print</span><span class="p">();</span> <span class="c1">// A ì¶œë ¥</span>

	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="k">typeid</span><span class="p">(</span><span class="n">b</span><span class="p">.</span><span class="n">getThis</span><span class="p">()).</span><span class="n">name</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>  <span class="c1">// class B * ì¶œë ¥</span>
	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="k">typeid</span><span class="p">(</span><span class="n">ref</span><span class="p">.</span><span class="n">getThis</span><span class="p">()).</span><span class="n">name</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="c1">// class A * ì¶œë ¥</span>

	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li><em>A &amp;ref = b;</em>
    <ul>
      <li>A íƒ€ì…ì¸ <code class="language-plaintext highlighter-rouge">ref</code> ëŠ” B íƒ€ì…ì˜ <code class="language-plaintext highlighter-rouge">b</code> ê°ì²´ë¥¼ ì°¸ì¡°í•œë‹¤.</li>
    </ul>
  </li>
  <li><em>b.getThis()-&gt;print();</em>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">b</code>ëŠ” B íƒ€ì….</li>
      <li>B íƒ€ì…ìœ¼ë¡œ í˜¸ì¶œí•˜ë‹ˆ B íƒ€ì…ì˜ getThis() ë¥¼ í˜¸ì¶œí•œë‹¤.</li>
    </ul>
  </li>
  <li><em>ref.getThis()-&gt;print()</em>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">ref</code>ëŠ” A íƒ€ì….</li>
      <li>A íƒ€ì…ìœ¼ë¡œ í˜¸ì¶œí•˜ëŠ”ë° A íƒ€ì…ì˜ getThisëŠ” ê°€ìƒ í•¨ìˆ˜ì´ë‹¤.
        <ul>
          <li>ë¦¬í„´ íƒ€ì…ì€ ë‹¬ë¼ë„ <u>ë¶€ëª¨-ìì‹ ê´€ê³„ì—ë‹¤ê°€ thisë¥¼ ë¦¬í„´í•˜ë¯€ë¡œ ì˜¤ë²„ë¼ì´ë”©ì´ ë˜ì–´ B íƒ€ì…ì˜ getThisê°€ í˜¸ì¶œëœë‹¤.</u></li>
          <li>B íƒ€ì…ì˜ getThis()ê°€ <strong>B*</strong> íƒ€ì…ì˜ í¬ì¸í„°(<code class="language-plaintext highlighter-rouge">b</code>ê°ì²´ì˜ ì£¼ì†Œ)ë¥¼ ë¦¬í„´í•˜ëŠ”ë° <u>ì´ë¥¼ í˜¸ì¶œí•œ `ref`ê°€ A íƒ€ì…ì´ê¸° ë•Œë¬¸ì— print()ëŠ” A íƒ€ì…ì˜ print()ê°€ ì‹¤í–‰ëœë‹¤.</u></li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<hr />
<p><br /></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ğŸŒœ ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ì˜¤ë¥˜ë‚˜ í‹€ë¦° ë¶€ë¶„ì´ ìˆì„ ê²½ìš° 
ì–¸ì œë“ ì§€ ëŒ“ê¸€ í˜¹ì€ ë©”ì¼ë¡œ ì§€ì í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ˜„
</code></pre></div></div>

<p><a href="#" class="btn btn--primary align-right">ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°</a>
<br /></p>
:ET
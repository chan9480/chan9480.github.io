I"<p class="notice--warning">인프런에 있는 황대희님의 <strong>언리얼 엔진4 3D 횡스크롤 게임 만들기</strong> 강의를 듣고 정리한 필기입니다. 😀<br />
<strong>언리얼 엔진 공식 문서</strong> <a href="https://docs.unrealengine.com/ko/index.html">https://docs.unrealengine.com/ko/index.html</a></p>

<p><br /></p>

<h1 id="chapter-3-플레이어-캐릭터">Chapter 3. 플레이어 캐릭터</h1>

<h2 id="-카메라-고정시키기">🔔 카메라 고정시키기</h2>

<blockquote>
  <p>카메라가 3인칭 시점으로 캐릭터를 따라다니지 않고 <u>마치 CCTV 처럼 어느 한 위치에 고정해두자</u></p>
</blockquote>

<blockquote>
  <p>📢 큐브의 카메라 컴포넌트가 아닌, 뷰포트 레벨에 직접 카메라 액터를 설치하고 이 카메라를 사용하면 됨!</p>
</blockquote>

<h3 id="뷰포트에-카메라-추가">뷰포트에 카메라 추가</h3>

<ul>
  <li>카메라가 계속 “MoveCharBP” 큐브를 따라다니는 이유 (3인칭 카메라)
    <ul>
      <li>이전 포스트에서 카메라가 “MoveCharBP” 큐브의 컴포넌트로 설정 해놔서 큐브를 3인칭으로 찍으며 따라다님.</li>
      <li>따라서 “MoveCharBP” 블루프린트(프리팹) 에디터를 키고 카메라 컴포넌트를 삭제해주자.</li>
    </ul>
  </li>
  <li>모드 패널에서 카메라를 추가해준다. 뷰포트로 드래그 앤 드롭.
    <ul>
      <li><img src="https://user-images.githubusercontent.com/42318591/92323560-c3cbb000-f074-11ea-932d-3b7a699e622f.png" alt="image" width="30%" height="30%" class="align-center" /></li>
      <li>적당한 위치에 옮겨주자. 이제 이 고정된 위치에서 촬영할 수 있도록 하자.
        <ul>
          <li><img src="https://user-images.githubusercontent.com/42318591/92441886-f34ff900-f1e9-11ea-8621-e7af72c38a4f.png" alt="image" width="50%" height="50%" class="align-center" /></li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h3 id="뷰포트에-추가한-고정된-위치의-카메라-사용하기">뷰포트에 추가한 고정된 위치의 카메라 사용하기</h3>

<blockquote>
  <p>언리얼은 현재 빙의된 폰(플레이어)의 1인칭 카메라를 자동으로 생성해준다. <u>따라서 이 카메라를 쓰지 않고 내가 설정한 뷰포트 카메라를 쓰도록 해야 한다</u></p>
</blockquote>

<ul>
  <li>위에서 큐브의 카메라 컴포넌트(3인칭으로 큐브를 따라다님)을 삭제했으니 이제 게임을 플레이하면 언리얼에서 자동으로 생성해주는 큐브의 1인칭 카메라로 플레이 화면을 보게 된다.
    <ul>
      <li>빙의된 캐릭터는 큐브이므로 큐브의 1인칭 카메라를 자동 생성해줌</li>
      <li>위에서 뷰포트에 카메라를 추가했더라도 언리얼은 이 카메라를 사용하지 않고 원래 자동으로 생성해주는 1인칭 카메라를 사용하기 때문에 직접 추가한 카메라를 사용하도록 설정해주어야 한다.</li>
    </ul>
  </li>
  <li><strong>뷰포트 카메라를 사용할 수 있도록 블루프린팅 해보자</strong>
    <ul>
      <li>“MoveCharBP” 블루프린트의 이벤트 그래프로 이동 !</li>
    </ul>
  </li>
</ul>

<p><img src="https://user-images.githubusercontent.com/42318591/92440975-5476cd00-f1e8-11ea-9aa9-4cdcfb330c9e.png" alt="image" width="100%" height="100%" class="align-center" /></p>

<blockquote>
  <p>게임이 시작되면, “Player Index 0” (로컬 플레이어 컨트롤러)에 대한 뷰를 현재 카메라로부터 <code class="language-plaintext highlighter-rouge">Cam</code> 변수에 할당된 카메라로 변경한다.</p>
</blockquote>

<ul>
  <li><code class="language-plaintext highlighter-rouge">BeginPlay</code> 이벤트
    <ul>
      <li>게임이 시작시 발생하는 이벤트</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">Set View Target with Blend</code>
    <ul>
      <li>Player Controller 타입의 클래스로, 현재의 카메라로부터 다른 카메라로 뷰를 변경하고자 할 때 사용하는 노드이다.</li>
      <li><strong>타겟</strong>
        <ul>
          <li><code class="language-plaintext highlighter-rouge">Get Player Controller</code> 노드로 “Player Index 0 (로컬 플레이어)” 에 대한 플레이어 컨트롤러를 가져와 연결</li>
        </ul>
      </li>
      <li><strong>New View Target</strong>
        <ul>
          <li>변경하고자 하는 뷰를 찍는 카메라를 여기에 연결해주어야 한다.</li>
          <li><img src="https://user-images.githubusercontent.com/42318591/92442894-a1a86e00-f1eb-11ea-9c35-b9605b1992ec.png" alt="image" width="50%" height="50%" class="align-center" />
            <ul>
              <li><code class="language-plaintext highlighter-rouge">Cam</code> 이라는 이름의 변수를 추가하고 변수 이름 왼쪽의 아이콘을 클릭하여 이 변수의 유형을 <code class="language-plaintext highlighter-rouge">Camera Actor</code>로 변경해준다.</li>
              <li>그리고 눈 모양을 클릭하여 눈을 떠주는 모양으로 바꿔준다. (눈을 뜨는 버튼을 누르면 Public 이 되어 언리얼 에디터 상에서 슬롯이 열린다.)
                <ul>
                  <li>블루프린트를 컴파일 해준 후 “MoveCharBP” Character의 디테일 패널에서 기본(Defalut) - Cam 변수에 뷰포트에 추가해준 카메라를 선택하여 할당해준다.
                    <ul>
                      <li><img src="https://user-images.githubusercontent.com/42318591/92443121-fcda6080-f1eb-11ea-96cc-89ca5e423360.png" alt="image" width="50%" height="50%" class="align-center" /></li>
                    </ul>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<blockquote>
  <p>큐브를 따라다니는 언리얼 자동 생성 1인칭 뷰로부터 뷰포트에 직접 추가했었던 고정된 위치의 카메라 뷰로 변경된 것을 확인할 수 있다.</p>
</blockquote>

<ul>
  <li>다른 큐브를 통과하지 못하는 것도 확인할 수 있다.
    <ul>
      <li>즉, 폰 캐릭터로 적용을 했기 때문에 충돌 처리가 되는 것이다!</li>
    </ul>
  </li>
</ul>

<p><img src="https://camo.githubusercontent.com/769de4e6b221203972974040ab0f81e5bc9b29c9/68747470733a2f2f706f737466696c65732e707374617469632e6e65742f4d6a41794d4441354d4468664d5455782f4d4441784e546b354e5451344d7a67334e4449302e64427963734147377046437632444f58627836646f6f346750396e2d4259474a42464c56646c3857384545672e776d61584d7938584b5649552d3739634a714f65736f694561345f4d5233796e3372716569576e5845614d672e4749462e736f6879756e655f616e2f756534312e6769663f747970653d77373733" alt="image" width="70%" height="70%" class="align-center" /></p>

<hr />
<p><br /></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>🌜 개인 공부 기록용 블로그입니다. 오류나 틀린 부분이 있을 경우 
언제든지 댓글 혹은 메일로 지적해주시면 감사하겠습니다! 😄
</code></pre></div></div>

<p><a href="#" class="btn btn--primary align-right">맨 위로 이동하기</a></p>
:ET